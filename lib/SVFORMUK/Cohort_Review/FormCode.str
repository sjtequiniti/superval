∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Cohort Salary Review")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Dialog"[14] [15] ⎕wself←"fmCohortReview" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos 1 1 ×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmCohortReview"[26] relTests←0[27] 0 Menu_Make "fmSV"[28] 1 Menu_Make "fmCohortReview"[29] "fmCohortReview" Win∆CutCopyPaste "Build"[30] "fmCohortReview" ⎕wi "∆helpid" 2079[31] list←list OVER "fmCohortReview.bnCohort_ReviewHelp"[32] ⎕wself←"fmCohortReview.bnCohort_ReviewHelp" ⎕wi "New" "Button"[33] ⎕wi "deferexit" 1[34] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[35] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][36] ⎕wi "∆where" ((x,2)⍴where)[37] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[38] ⎕wi "tooltip" "SuperVal Help"[39] ⎕wi "onClick" ("fmSV.mCohort_ReviewHelp.mContext"⎕wi "onClick")[40] ⎕wi "caption" "Help"[41] :if buttonimage[42]     ⎕wi "imagelist" "fmSV.iStandard"[43]     ⎕wi "imageindex" 12[44] :endif[45] ⎕wi "visible" ¯1[46] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[47] list←list OVER "fmCohortReview.bnCohort_ReviewQuit"[48] ⎕wself←"fmCohortReview.bnCohort_ReviewQuit" ⎕wi "New" "Button"[49] ⎕wi "style" 2[50] ⎕wi "deferexit" 1[51] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[52] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][53] ⎕wi "∆where" ((x,2)⍴where)[54] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[55] ⎕wi "tooltip" "Quit and Return"[56] ⎕wi "onClick" ("fmSV.mCohort_ReviewFile.mQuit"⎕wi "onClick")[57] ⎕wi "caption" "Quit"[58] ⎕wi "∆helpid" 3778[59] ⎕wi "order" .5[60] ⎕wi "visible" ¯1[61] ControlName ⎕wi "∆quitbutton" "fmCohortReview.bnCohort_ReviewQuit"[62] list←list OVER "fmCohortReview.bnCohort_ReviewSave"[63] ⎕wself←"fmCohortReview.bnCohort_ReviewSave" ⎕wi "New" "Button"[64] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[65] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][66] ⎕wi "∆where" ((x,2)⍴where)[67] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[68] ⎕wi "tooltip" "Save Parameters"[69] ⎕wi "onClick" ("fmSV.mCohort_ReviewFile.mSave"⎕wi "onClick")[70] ⎕wi "caption" "Save"[71] :if buttonimage[72]     ⎕wi "imagelist" "fmSV.iStandard"[73]     ⎕wi "imageindex" 9[74] :endif[75] ⎕wi "∆helpid" 3779[76] ⎕wi "enabled" 0[77] ⎕wi "order" .5[78] ⎕wi "visible" ¯1[79] "fmCohortReview" ⎕wi "onModified" "('Cohort_Review' 'fmCohortReview.bnCohort_ReviewSave') Win∆SaveEnabled (0≠⎕warg[1])"[80] list←list OVER "fmCohortReview.bnCohort_ReviewSaveAs"[81] ⎕wself←"fmCohortReview.bnCohort_ReviewSaveAs" ⎕wi "New" "Button"[82] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[83] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][84] ⎕wi "∆where" ((x,2)⍴where)[85] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[86] ⎕wi "tooltip" "Save Parameters As ..."[87] ⎕wi "onClick" ("fmSV.mCohort_ReviewFile.mSaveAs"⎕wi "onClick")[88] ⎕wi "caption" "Save As"[89] ⎕wi "∆helpid" 3780[90] ⎕wi "order" .5[91] ⎕wi "visible" ¯1[92] [93] ⎕wself←"fmCohortReview.lvRUNDESC" ⎕wi "New" "Listview"[94] Fieldlist←Fieldlist OVER "fmCohortReview.lvRUNDESC"[95] Fieldcontrol←Fieldcontrol OVER "Listview"[96] ⎕wi "∆name" "RUNDESC"[97] ⎕wi "∆type" "Listview"[98] ⎕wi "∆mandatory" 1[99] ⎕wi "∆helpid" 3781[100] ⎕wi "tooltip" "Select the Saved Results to be reviewed"[101] list←list OVER "fmCohortReview.lvRUNDESC"[102] ⎕wi "scale" 5[103] ⎕wi "viewmode" "report"[104] ⎕wi "style" 1 4 8[105] ⎕wi "∆where" (4 2⍴0.01 0 0 0 0.21 0 1 0)[106] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize (4 2⍴0.01 0 0 0 0.21 0 1 0))[107] ⎕wi "∆update" "InvResults 'Cohort_Review'"[108] (PickList NameList sortorder SortList)←4↑InvResults 'Cohort_Review'[109] ⎕wi "list" PickList[110] NameList[;1]←NameList[;1],¨⊂4↑" "[111] ⎕wi "columndisplay" NameList[112] ⎕wi "AutoFit" "header" "all"[113] ⎕wi "∆sortorder" sortorder[114] ⎕wi "∆sortlist" SortList[115] ⎕wi "onColClick" "('fmCohortReview.lvRUNDESC' 'Cohort_Review') Win∆SortListview ⎕warg"[116] :if 0=⎕nc "listviewDict"[117] listviewDict←MATRIX keysIn ListviewDict[118] :endif[119] :if ~mt sortorder←DLTB ↑((ListviewDict for "Control" "fmCohortReview.lvRUNDESC") for "Parameters" "") at "Sort"[120] ("fmCohortReview.lvRUNDESC" "Cohort_Review") Win∆SortListview sortorder[121] :else[122] ("fmCohortReview.lvRUNDESC" "Cohort_Review") Win∆SortListview "Run Time"[123] :endif[124] ⎕wi "onResize" "Win∆SizeListview ⎕wi 'self'"[125] ⎕wi "onDblClick" "(⎕wi 'self') Results∆Click 0"[126] ⎕wi "onClick" "(⎕wi 'self') Results∆Click 0"[127] ⎕wi "onSelect" "0 0⍴(⊂⎕wi 'name') Cohort_Review 'Change' "[128] ⎕wi "onExit" "⎕wres←0 List∆CHECK 'fmCohortReview.lvRUNDESC'"[129] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[130] [131] ⎕wself←"fmCohortReview.ckRetrieve" ⎕wi "New" "Check"[132] Fieldlist←Fieldlist OVER "fmCohortReview.ckRetrieve"[133] Fieldcontrol←Fieldcontrol OVER "Check"[134] ⎕wi "∆name" "Retrieve"[135] ⎕wi "∆type" "Check"[136] ⎕wi "∆helpid" 3782[137] ⎕wi "tooltip" "Retrieve the Parameters used in the Original Investigation Run"[138] ⎕wi "style" 0[139] ⎕wi "caption" "Retrieve Original Run Parameters"[140] ⎕wi "∆where" (2 2⍴0.23 0 0.01 0)[141] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize (2 2⍴0.23 0 0.01 0))[142] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[143] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Cohort_Review 'Change' )"[144] [145] :if 300<fnsize[146]     ((1↑⎕lc) fnsize "FrameV - Investigation Parameters") Win∆ProgressBar "MemberUpdate"[147] :endif[148] [149] ⎕wself←"fmCohortReview.fParms" ⎕wi "New" "Frame"[150] ⎕wi "scale" 5[151] ⎕wi "∆where" (4 2⍴0.25 0 0 0 0.13 0 1 0)[152] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize (4 2⍴0.25 0 0 0 0.13 0 1 0))[153] ⎕wi "caption" "Investigation Parameters"[154] ⎕wi "style" 0[155] ⎕wi "onResize" "AutoResize"[156] [157] ⎕wself←"fmCohortReview.fParms.edBAGE" ⎕wi "New" "Edit"[158] Fieldlist←Fieldlist OVER "fmCohortReview.fParms.edBAGE"[159] Fieldcontrol←Fieldcontrol OVER "Edit"[160] ⎕wi "∆name" "BAGE"[161] ⎕wi "∆type" "Num"[162] ⎕wi "∆mandatory" 1[163] ⎕wi "∆valid" ('Int' 'Scalar' '+')[164] ⎕wi "∆helpid" 3783[165] ⎕wi "tooltip" "Specify the Start Age for the presentation of Results"[166] ⎕wi "limit" 2[167] ⎕wi "∆where" (2 2⍴0.25 0 0.2 0)[168] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.2 0))[169] ⎕wi "∆range" "15 65"[170] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmCohortReview.fParms.edBAGE')/'0 0⍴(⊂⎕wi ''name'') Cohort_Review ''Change'' ' "[171] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[172] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[173] ⎕wi "extent" (2+CharSize×1 3)[174] [175] ⎕wself←"fmCohortReview.fParms.lrBAGE" ⎕wi "New" "Label"[176] ⎕wi "scale" 5[177] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[178] ⎕wi "caption" "years"[179] where←4↑,"fmCohortReview.fParms.edBAGE" ⎕wi "∆where"[180] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmCohortReview.fParms.edBAGE" ⎕wi "extent"[181] ⎕wi "∆where" ((x,2)⍴where)[182] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[183] [184] ⎕wself←"fmCohortReview.fParms.llBAGE" ⎕wi "New" "Label"[185] ⎕wi "scale" 5[186] ⎕wi "style" 2[187] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Start Age"))[188] ⎕wi "caption" "Start Age"[189] where←4↑,"fmCohortReview.fParms.edBAGE" ⎕wi "∆where"[190] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[191] ⎕wi "∆where" ((x,2)⍴where)[192] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[193] [194] ⎕wself←"fmCohortReview.fParms.edEAGE" ⎕wi "New" "Edit"[195] Fieldlist←Fieldlist OVER "fmCohortReview.fParms.edEAGE"[196] Fieldcontrol←Fieldcontrol OVER "Edit"[197] ⎕wi "∆name" "EAGE"[198] ⎕wi "∆type" "Num"[199] ⎕wi "∆mandatory" 1[200] ⎕wi "∆valid" ('Int' 'Scalar' '+')[201] ⎕wi "∆helpid" 3784[202] ⎕wi "tooltip" "Specify the End Age for the presentation of Results"[203] ⎕wi "limit" 2[204] ⎕wi "∆where" (2 2⍴0.25 0 0.5 0)[205] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.5 0))[206] ⎕wi "∆range" "40 90"[207] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmCohortReview.fParms.edEAGE')/'0 0⍴(⊂⎕wi ''name'') Cohort_Review ''Change'' ' "[208] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[209] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[210] ⎕wi "extent" (2+CharSize×1 3)[211] [212] ⎕wself←"fmCohortReview.fParms.lrEAGE" ⎕wi "New" "Label"[213] ⎕wi "scale" 5[214] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[215] ⎕wi "caption" "years"[216] where←4↑,"fmCohortReview.fParms.edEAGE" ⎕wi "∆where"[217] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmCohortReview.fParms.edEAGE" ⎕wi "extent"[218] ⎕wi "∆where" ((x,2)⍴where)[219] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[220] [221] ⎕wself←"fmCohortReview.fParms.llEAGE" ⎕wi "New" "Label"[222] ⎕wi "scale" 5[223] ⎕wi "style" 2[224] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "End Age"))[225] ⎕wi "caption" "End Age"[226] where←4↑,"fmCohortReview.fParms.edEAGE" ⎕wi "∆where"[227] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[228] ⎕wi "∆where" ((x,2)⍴where)[229] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[230] [231] ⎕wself←"fmCohortReview.fParms.edGROUP" ⎕wi "New" "Edit"[232] Fieldlist←Fieldlist OVER "fmCohortReview.fParms.edGROUP"[233] Fieldcontrol←Fieldcontrol OVER "Edit"[234] ⎕wi "∆name" "GROUP"[235] ⎕wi "∆type" "Num"[236] ⎕wi "∆mandatory" 1[237] ⎕wi "∆valid" ('Int' 'Scalar' '+')[238] ⎕wi "∆helpid" 3785[239] ⎕wi "tooltip" "Specify the Grouping Factor for the summarising of Results"[240] ⎕wi "limit" 2[241] ⎕wi "∆where" (2 2⍴0.25 0 0.8 0)[242] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.8 0))[243] ⎕wi "∆range" "1 20"[244] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmCohortReview.fParms.edGROUP')/'0 0⍴(⊂⎕wi ''name'') Cohort_Review ''Change'' ' "[245] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[246] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[247] ⎕wi "extent" (2+CharSize×1 3)[248] [249] ⎕wself←"fmCohortReview.fParms.lrGROUP" ⎕wi "New" "Label"[250] ⎕wi "scale" 5[251] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[252] ⎕wi "caption" "years"[253] where←4↑,"fmCohortReview.fParms.edGROUP" ⎕wi "∆where"[254] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmCohortReview.fParms.edGROUP" ⎕wi "extent"[255] ⎕wi "∆where" ((x,2)⍴where)[256] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[257] [258] ⎕wself←"fmCohortReview.fParms.llGROUP" ⎕wi "New" "Label"[259] ⎕wi "scale" 5[260] ⎕wi "style" 2[261] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Grouping of Results - Every"))[262] ⎕wi "caption" "Grouping of Results - Every"[263] where←4↑,"fmCohortReview.fParms.edGROUP" ⎕wi "∆where"[264] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[265] ⎕wi "∆where" ((x,2)⍴where)[266] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[267] [268] ⎕wself←"fmCohortReview.fParms.cbf" ⎕wi "New" "Combo"[269] Fieldlist←Fieldlist OVER "fmCohortReview.fParms.cbf"[270] Fieldcontrol←Fieldcontrol OVER "Combo"[271] ⎕wi "∆name" "f"[272] ⎕wi "∆type" "Num"[273] ⎕wi "∆mandatory" 1[274] ⎕wi "∆helpid" 3786[275] ⎕wi "tooltip" "Specify the Inflation Rate(s) over the period from Start Date to End Date"[276] ⎕wi "∆range" "¯20 40"[277] ⎕wi "limit" 32[278] ⎕wi "onExit" "⍎(mt ,⎕wres←0 INPUT∆CHECK 'fmCohortReview.fParms.cbf')/'0 0⍴(⊂⎕wi ''name'') Cohort_Review ''Change'' ' "[279] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[280] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊45 46 8 32 48 49 50 51 52 53 54 55 56 57"[281] ⎕wi "style" 16 128 256 0[282] ⎕wi "∆where" (2 2⍴0.6 0 0.2 0)[283] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.2 0))[284] PickList←GetFinList 'Inf'[285] ⎕wi "∆update" "GetFinList 'Inf'"[286] PickList←⊃m2n 1 0↓PickList[287] PickList←" " OVER PickList[288] ⎕wi "list" PickList[289] ⎕wi "extent" (150,(¯10+8×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[290] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Cohort_Review 'Change' "[291] ⎕wi "onChange" "Win∆ComboFudge ⎕wi 'self' ⋄ (⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Cohort_Review 'Change' "[292] ⎕wi "∆rightlabel" "fmCohortReview.fParms.lrf"[293] [294] ⎕wself←"fmCohortReview.fParms.lrf" ⎕wi "New" "Label"[295] ⎕wi "scale" 5[296] ⎕wi "extent" (CharSize×¯2↑1,2 55)[297] ⎕wi "caption" " "[298] where←4↑,"fmCohortReview.fParms.cbf" ⎕wi "∆where"[299] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmCohortReview.fParms.cbf" ⎕wi "extent"[300] ⎕wi "∆where" ((x,2)⍴where)[301] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[302] [303] ⎕wself←"fmCohortReview.fParms.llf" ⎕wi "New" "Label"[304] ⎕wi "scale" 5[305] ⎕wi "style" 2[306] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Inflation Rates (% p.a.)"))[307] ⎕wi "caption" "Inflation Rates (% p.a.)"[308] where←4↑,"fmCohortReview.fParms.cbf" ⎕wi "∆where"[309] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[310] ⎕wi "∆where" ((x,2)⍴where)[311] ⎕wi "where" (("fmCohortReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[312] [313] :if 300<fnsize[314]     ((1↑⎕lc) fnsize "FrameV - Comparison Table") Win∆ProgressBar "MemberUpdate"[315] :endif[316] [317] ⎕wself←"fmCohortReview.fTable" ⎕wi "New" "Frame"[318] ⎕wi "scale" 5[319] ⎕wi "∆where" (4 2⍴0.38 0 0 0 0.13 0 1 0)[320] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize (4 2⍴0.38 0 0 0 0.13 0 1 0))[321] ⎕wi "caption" "Comparison Table"[322] ⎕wi "style" 0[323] ⎕wi "onResize" "AutoResize"[324] [325] ⎕wself←"fmCohortReview.fTable.edTABXX1" ⎕wi "New" "Edit"[326] Fieldlist←Fieldlist OVER "fmCohortReview.fTable.edTABXX1"[327] Fieldcontrol←Fieldcontrol OVER "Edit"[328] ⎕wi "∆name" "TABXX[1;]"[329] ⎕wi "∆type" "Decr"[330] ⎕wi "∆mandatory" 1[331] ⎕wi "∆valid" ('S')[332] ⎕wi "∆helpid" 3787[333] ⎕wi "tooltip" "Specify the Table Code of the Expected Table
(Right Click for List, Double Click for Rate Tables Display or '<' or '>' to Scroll through the Rate Tables)"[334] ⎕wi "limit" 5[335] ⎕wi "∆where" (2 2⍴0.25 0 0.2 0)[336] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.2 0))[337] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmCohortReview.fTable.edTABXX1')/'0 0⍴(⊂⎕wi ''name'') Cohort_Review ''Change'' ' "[338] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[339] ⎕wi "extent" (2+CharSize×1 6)[340] ⎕wi "keys" (60 62)[341] ⎕wi "pointer" ">cur 1001 shell32.dll"[342] ⎕wi "onFocus" "0 0⍴GetDecrList 'List' "[343] ⎕wi "onKeyPress" "(⎕wi 'self') Win∆DecrToggle ⎕wi '∆valid' "[344] ⎕wi "onMouseDown" "(⎕wi 'self') Win∆DecrPopup ⎕wi '∆valid' "[345] ⎕wi "onMouseDouble" "(⎕wi '∆valid') RunDecr 'Form'"[346] ⎕wi "onChange" "(⎕wi 'self') Win∆LabelUpdate (FormName ⎕wi '∆decrdesc') (FormName ⎕wi '∆decrlist') ⋄ 0 0⍴(⊂⎕wi 'name') Cohort_Review 'Change' "[347] ⎕wi "∆rightlabel" "fmCohortReview.fTable.lrTABXX1"[348] [349] ⎕wself←"fmCohortReview.fTable.llTABXX1" ⎕wi "New" "Label"[350] ⎕wi "scale" 5[351] ⎕wi "style" 2[352] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Expected Table"))[353] ⎕wi "caption" "Expected Table"[354] where←4↑,"fmCohortReview.fTable.edTABXX1" ⎕wi "∆where"[355] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[356] ⎕wi "∆where" ((x,2)⍴where)[357] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[358] [359] ⎕wself←"fmCohortReview.fTable.lrTABXX1" ⎕wi "New" "Label"[360] ⎕wi "scale" 5[361] ⎕wi "extent" (CharSize×¯2↑1,100)[362] ⎕wi "style" 32[363] ⎕wi "caption" " "[364] where←4↑,"fmCohortReview.fTable.edTABXX1" ⎕wi "∆where"[365] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmCohortReview.fTable.edTABXX1" ⎕wi "extent"[366] ⎕wi "∆where" ((x,2)⍴where)[367] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[368] [369] ⎕wself←"fmCohortReview.fTable.edTABXX2" ⎕wi "New" "Edit"[370] Fieldlist←Fieldlist OVER "fmCohortReview.fTable.edTABXX2"[371] Fieldcontrol←Fieldcontrol OVER "Edit"[372] ⎕wi "∆name" "TABXX[2;]"[373] ⎕wi "∆type" "CharNum"[374] ⎕wi "∆valid" ('Int' 'Rating')[375] ⎕wi "∆helpid" 3788[376] ⎕wi "tooltip" "Specify the Age Rating on the Expected Table (in years)"[377] ⎕wi "limit" 3[378] ⎕wi "∆where" (2 2⍴0.6 0 0.2 0)[379] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.2 0))[380] ⎕wi "∆range" "¯20 20"[381] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmCohortReview.fTable.edTABXX2')/'0 0⍴(⊂⎕wi ''name'') Cohort_Review ''Change'' ' "[382] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[383] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊43 45 8 32 48 49 50 51 52 53 54 55 56 57"[384] ⎕wi "extent" (2+CharSize×1 4)[385] [386] ⎕wself←"fmCohortReview.fTable.lrTABXX2" ⎕wi "New" "Label"[387] ⎕wi "scale" 5[388] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[389] ⎕wi "caption" "years"[390] where←4↑,"fmCohortReview.fTable.edTABXX2" ⎕wi "∆where"[391] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmCohortReview.fTable.edTABXX2" ⎕wi "extent"[392] ⎕wi "∆where" ((x,2)⍴where)[393] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[394] [395] ⎕wself←"fmCohortReview.fTable.llTABXX2" ⎕wi "New" "Label"[396] ⎕wi "scale" 5[397] ⎕wi "style" 2[398] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Age Rating"))[399] ⎕wi "caption" "Age Rating"[400] where←4↑,"fmCohortReview.fTable.edTABXX2" ⎕wi "∆where"[401] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[402] ⎕wi "∆where" ((x,2)⍴where)[403] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[404] [405] ⎕wself←"fmCohortReview.fTable.edTABXX3" ⎕wi "New" "Edit"[406] Fieldlist←Fieldlist OVER "fmCohortReview.fTable.edTABXX3"[407] Fieldcontrol←Fieldcontrol OVER "Edit"[408] ⎕wi "∆name" "TABXX[3;]"[409] ⎕wi "∆type" "CharNum"[410] ⎕wi "∆valid" ('Rating')[411] ⎕wi "∆helpid" 3789[412] ⎕wi "tooltip" "Specify the Percentage Rating on the Expected Table (+ve or -ve)"[413] ⎕wi "limit" 7[414] ⎕wi "∆where" (2 2⍴0.6 0 0.8 0)[415] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.8 0))[416] ⎕wi "∆range" "¯99 1000"[417] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmCohortReview.fTable.edTABXX3')/'0 0⍴(⊂⎕wi ''name'') Cohort_Review ''Change'' ' "[418] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[419] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊43 45 46 8 32 48 49 50 51 52 53 54 55 56 57"[420] ⎕wi "extent" (2+CharSize×1 8)[421] [422] ⎕wself←"fmCohortReview.fTable.lrTABXX3" ⎕wi "New" "Label"[423] ⎕wi "scale" 5[424] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "%"))[425] ⎕wi "caption" "%"[426] where←4↑,"fmCohortReview.fTable.edTABXX3" ⎕wi "∆where"[427] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmCohortReview.fTable.edTABXX3" ⎕wi "extent"[428] ⎕wi "∆where" ((x,2)⍴where)[429] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[430] [431] ⎕wself←"fmCohortReview.fTable.llTABXX3" ⎕wi "New" "Label"[432] ⎕wi "scale" 5[433] ⎕wi "style" 2[434] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Percentage Rating"))[435] ⎕wi "caption" "Percentage Rating"[436] where←4↑,"fmCohortReview.fTable.edTABXX3" ⎕wi "∆where"[437] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[438] ⎕wi "∆where" ((x,2)⍴where)[439] ⎕wi "where" (("fmCohortReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[440] [441] ⎕wself←"fmCohortReview.picResults" ⎕wi "New" "Picture"[442] Fieldlist←Fieldlist OVER "fmCohortReview.picResults"[443] Fieldcontrol←Fieldcontrol OVER "Picture"[444] ⎕wi "∆name" "Results"[445] ⎕wi "∆type" "Picture"[446] ⎕wi "tooltip" "Double-click to enlarge graph"[447] ⎕wi "scale" 5[448] ⎕wi "style" 4[449] ⎕wi "∆where" (4 2⍴0.52 0 0 0 0.48 ¯45 1 0)[450] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize (4 2⍴0.52 0 0 0 0.48 ¯45 1 0))[451] ⎕wi "imagesize" (⎕wi "size")[452] ⎕wi "onResize" "⎕wi 'imagesize' (⎕wi 'size')"[453] ⎕wi "onMouseDouble" "EnlargePict PageView"[454] list←list OVER "fmCohortReview.bnCohort_ReviewDelete"[455] ⎕wself←"fmCohortReview.bnCohort_ReviewDelete" ⎕wi "New" "Button"[456] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[457] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][458] ⎕wi "∆where" ((x,2)⍴where)[459] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[460] ⎕wi "tooltip" "Delete Saved Results"[461] ⎕wi "onClick" ("fmSV.mCohort_ReviewResults.mDelete"⎕wi "onClick")[462] ⎕wi "∆helpid" 3790[463] ⎕wi "caption" "Delete"[464] :if buttonimage[465]     ⎕wi "imagelist" "fmSV.iStandard"[466]     ⎕wi "imageindex" 6[467] :endif[468] list←list OVER "fmCohortReview.bnCohort_ReviewExport"[469] ⎕wself←"fmCohortReview.bnCohort_ReviewExport" ⎕wi "New" "Button"[470] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[471] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][472] ⎕wi "∆where" ((x,2)⍴where)[473] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[474] ⎕wi "tooltip" "Export Results to Spreadsheet Import file"[475] ⎕wi "onClick" ("fmSV.mCohort_ReviewResults.mExport"⎕wi "onClick")[476] ⎕wi "∆helpid" 3791[477] ⎕wi "caption" "Export"[478] :if buttonimage[479]     ⎕wi "imagelist" "fmSV.iStandard"[480]     ⎕wi "imageindex" 34[481] :endif[482] list←list OVER "fmCohortReview.bnCohort_ReviewOutput"[483] ⎕wself←"fmCohortReview.bnCohort_ReviewOutput" ⎕wi "New" "Button"[484] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[485] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][486] ⎕wi "∆where" ((x,2)⍴where)[487] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[488] ⎕wi "tooltip" "Output file based on Current Parameters"[489] ⎕wi "onClick" ("fmSV.mCohort_ReviewResults.mOutput"⎕wi "onClick")[490] ⎕wi "∆helpid" 3792[491] ⎕wi "caption" "Output"[492] list←list OVER "fmCohortReview.bnCohort_ReviewBestFit"[493] ⎕wself←"fmCohortReview.bnCohort_ReviewBestFit" ⎕wi "New" "Button"[494] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[495] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][496] ⎕wi "∆where" ((x,2)⍴where)[497] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[498] ⎕wi "tooltip" "Best Fit Rate Table based on Current Parameters"[499] ⎕wi "onClick" ("fmSV.mCohort_ReviewResults.mBestFit"⎕wi "onClick")[500] ⎕wi "∆helpid" 3793[501] ⎕wi "caption" "Best Fit"[502] [503] ⎕wself←"fmCohortReview.lParmDesc" ⎕wi "New" "Label"[504] ⎕wi "scale" 5[505] ⎕wi "extent" (CharSize×¯2↑1,80)[506] ⎕wi "style" 32[507] ⎕wi "caption" " "[508] ⎕wi "∆where" (2 2⍴0.96 0 0.02 0)[509] ⎕wi "where" (("fmCohortReview" ⎕wi "size") Win∆Resize (2 2⍴0.96 0 0.02 0))[510] [511] "fmCohortReview" ⎕wi "∆multifile" ""[512] "fmCohortReview" ⎕wi "∆singlefile" ""[513] "fmCohortReview" ⎕wi "∆format" ""[514] "fmCohortReview" ⎕wi "∆financial" 1[515] "fmCohortReview" ⎕wi "∆relrules" 0[516] "fmCohortReview" ⎕wi "∆parm" 0[517] "fmCohortReview" ⎕wi "∆decr" 1[518] "fmCohortReview" ⎕wi "∆file" 0[519] "fmCohortReview" ⎕wi "∆codefile" CodeFile[520] "fmCohortReview" ⎕wi "∆inputstype" "ClientFile"[521] "fmCohortReview" ⎕wi "∆inputsentry" "Multi"[522] "fmCohortReview" ⎕wi "∆savecn" (⍳0)[523] "fmCohortReview" ⎕wi "∆savedesc" ""[524] list←list OVER "fmCohortReview"[525] "fmCohortReview" ⎕wi "∆fieldlist" Fieldlist[526] "fmCohortReview" ⎕wi "∆fieldcontrol" Fieldcontrol[527] childlist←"fmSV" ⎕wi "∆childlist"[528] list←(⊃¯1↑childlist) OVER list[529] childlist[⍴childlist]←⊂list[530] "fmSV" ⎕wi "∆childlist" childlist[531] list←,⎕split list[532] 0 0⍴((∨/¨(⊂".mCohort_Review")⍷¨list)/list) MultiWI "enabled" 1[533] :if 300<fnsize[534]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[535]     Win∆ProgressBar "Hide"[536] :endif[537] "Init" OpenParameters "Cohort_Review"[538] "fmCohortReview.bnCohort_ReviewHelp" ⎕wi "visible" 1[539] "fmCohortReview.bnCohort_ReviewQuit" ⎕wi "visible" 1[540] "fmCohortReview.bnCohort_ReviewSave" ⎕wi "visible" 1[541] "fmCohortReview.bnCohort_ReviewSaveAs" ⎕wi "visible" 1[542] "#" ⎕wi "focus" "fmCohortReview.lvRUNDESC"[543] :if ~0∊⍴,Error←Win∆Initialise "Cohort_Review"[544]     "Quit" EndModule Module[545]     "fmSV" ⎕wi "pointer" 0[546]     0 0⍴"fmCohortReview" ⎕wi "Delete"[547]     :return[548] :endif[549] :if bar_open←commandbar^"Multi"≡"Multi"[550]     bar_open←0×"fmCohortReview.mCohort_ReviewFile.m" Win∆CommandBar "SaveAsHelp"[551] :endif[552] "fmCohortReview" ⎕wi "Paint"[553] "fmSV" ⎕wi "pointer" 11[554] "fmCohortReview" ⎕wi "onWait" "0 0⍴Cohort_Review 'Wait' ⋄ 'fmCohortReview' ⎕wi 'modified' 0"[555] 0 0⍴"fmCohortReview" ⎕wi "Wait"[556] 0 0⍴"fmCohortReview" ⎕wi "Delete"[557] "fmSV" ⎕wi "pointer" 0 ∇