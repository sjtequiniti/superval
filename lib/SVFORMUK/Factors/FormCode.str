∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Factors Browser/Editor")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Dialog"[14] [15] ⎕wself←"fmFactors" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos 1 1 ×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmFactors"[26] relTests←0[27] 0 Menu_Make "fmSV"[28] 0 Menu_Make "fmFactors"[29] "fmFactors" Win∆CutCopyPaste "Build"[30] "fmFactors" ⎕wi "∆helpid" 2091[31] list←list OVER "fmFactors.bnFactorsHelp"[32] ⎕wself←"fmFactors.bnFactorsHelp" ⎕wi "New" "Button"[33] ⎕wi "deferexit" 1[34] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[35] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][36] ⎕wi "∆where" ((x,2)⍴where)[37] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[38] ⎕wi "tooltip" "SuperVal Help"[39] ⎕wi "onClick" ("fmSV.mFactorsHelp.mContext"⎕wi "onClick")[40] ⎕wi "caption" "Help"[41] :if buttonimage[42]     ⎕wi "imagelist" "fmSV.iStandard"[43]     ⎕wi "imageindex" 12[44] :endif[45] ⎕wi "visible" ¯1[46] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[47] list←list OVER "fmFactors.bnFactorsQuit"[48] ⎕wself←"fmFactors.bnFactorsQuit" ⎕wi "New" "Button"[49] ⎕wi "style" 2[50] ⎕wi "deferexit" 1[51] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[52] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][53] ⎕wi "∆where" ((x,2)⍴where)[54] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[55] ⎕wi "tooltip" "Quit and Return"[56] ⎕wi "onClick" ("fmSV.mFactorsFile.mQuit"⎕wi "onClick")[57] ⎕wi "caption" "Quit"[58] ⎕wi "∆helpid" 3881[59] ⎕wi "order" .5[60] ⎕wi "visible" ¯1[61] ControlName ⎕wi "∆quitbutton" "fmFactors.bnFactorsQuit"[62] list←list OVER "fmFactors.bnFactorsSave"[63] ⎕wself←"fmFactors.bnFactorsSave" ⎕wi "New" "Button"[64] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[65] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][66] ⎕wi "∆where" ((x,2)⍴where)[67] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[68] ⎕wi "tooltip" "Save Parameters"[69] ⎕wi "onClick" ("fmSV.mFactorsFile.mSave"⎕wi "onClick")[70] ⎕wi "caption" "Save"[71] :if buttonimage[72]     ⎕wi "imagelist" "fmSV.iStandard"[73]     ⎕wi "imageindex" 9[74] :endif[75] ⎕wi "∆helpid" 3882[76] ⎕wi "enabled" 0[77] ⎕wi "order" .5[78] ⎕wi "visible" ¯1[79] "fmFactors" ⎕wi "onModified" "('Factors' 'fmFactors.bnFactorsSave') Win∆SaveEnabled (0≠⎕warg[1])"[80] "fmFactors" ⎕wi "∆modified" 1[81] [82] ⎕wself←"fmFactors.lsTABLE" ⎕wi "New" "List"[83] Fieldlist←Fieldlist OVER "fmFactors.lsTABLE"[84] Fieldcontrol←Fieldcontrol OVER "List"[85] ⎕wi "∆name" "TABLE"[86] ⎕wi "∆type" "List"[87] ⎕wi "∆helpid" 3883[88] ⎕wi "tooltip" "Highlight the required Factor Table"[89] ⎕wi "style" 16 0[90] PickList←GetFactTabs[91] ⎕wi "∆update" "GetFactTabs"[92] PickList←⊃m2n 1 0↓PickList[93] ⎕wi "list" PickList[94] size←0 0×Win∆TextSize "??? of ??? Selected"[95] size←size⌈(2↑0.3 )×"fmFactors" ⎕wi "size"[96] size←1 0 1 0\(size⌈0,20+¯1↑Win∆TextSize PickList) CDIV "fmFactors" ⎕wi "size"[97] size←0.5×⍴x←Win∆Calcwhere 0.05 0 0.03 0,size[98] x←(size,2)⍴x[99] ⎕wi "∆where" x[100] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize x)[101] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Factors 'Change' "[102] ⎕wi "onExit" "⎕wres←0 List∆CHECK 'fmFactors.lsTABLE'"[103] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[104] [105] ⎕wself←"fmFactors.llTABLE" ⎕wi "New" "Label"[106] ⎕wi "scale" 5[107] ⎕wi "style" 2[108] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Date Related Factor Tables"))[109] ⎕wi "caption" "Date Related Factor Tables"[110] where←4↑,"fmFactors.lsTABLE" ⎕wi "∆where"[111] x←0.5×⍴where←Win∆Calcwhere where-0,(5+1↑⎕wi "extent"),0 0[112] ⎕wi "∆where" ((x,2)⍴where)[113] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[114] [115] ⎕wself←"fmFactors.edTableNo" ⎕wi "New" "Edit"[116] Fieldlist←Fieldlist OVER "fmFactors.edTableNo"[117] Fieldcontrol←Fieldcontrol OVER "Edit"[118] ⎕wi "∆name" "TableNo"[119] ⎕wi "∆type" "Edit"[120] ⎕wi "∆mandatory" 1[121] ⎕wi "enabled" (0)[122] ⎕wi "∆helpid" 3884[123] ⎕wi "tooltip" "The Factor Table Code"[124] ⎕wi "∆where" (2 2⍴0.05 0 0.55 0)[125] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize (2 2⍴0.05 0 0.55 0))[126] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmFactors.edTableNo')/'0 0⍴(⊂⎕wi ''name'') Factors ''Change'' ' "[127] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[128] ⎕wi "extent" (2+CharSize×1 16)[129] [130] ⎕wself←"fmFactors.llTableNo" ⎕wi "New" "Label"[131] ⎕wi "scale" 5[132] ⎕wi "style" 2[133] ⎕wi "enabled" (0)[134] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Table⍺Code")))[135] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Table⍺Code")[136] where←4↑,"fmFactors.edTableNo" ⎕wi "∆where"[137] size←1↑"fmFactors.edTableNo" ⎕wi "extent"[138] size←¯3⌈0.5×(1↑⎕wi "extent")-size[139] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[140] ⎕wi "∆where" ((x,2)⍴where)[141] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[142] [143] ⎕wself←"fmFactors.edTableDesc" ⎕wi "New" "Edit"[144] Fieldlist←Fieldlist OVER "fmFactors.edTableDesc"[145] Fieldcontrol←Fieldcontrol OVER "Edit"[146] ⎕wi "∆name" "TableDesc"[147] ⎕wi "∆type" "Char"[148] ⎕wi "∆mandatory" 1[149] ⎕wi "enabled" (0)[150] ⎕wi "∆helpid" 3885[151] ⎕wi "tooltip" "Specify a Description of the Factor Table"[152] ⎕wi "∆where" (2 2⍴0.15 0 0.55 0)[153] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize (2 2⍴0.15 0 0.55 0))[154] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmFactors.edTableDesc')/'0 0⍴(⊂⎕wi ''name'') Factors ''Change'' ' "[155] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[156] ⎕wi "extent" (2+CharSize×1 41)[157] [158] ⎕wself←"fmFactors.llTableDesc" ⎕wi "New" "Label"[159] ⎕wi "scale" 5[160] ⎕wi "style" 2[161] ⎕wi "enabled" (0)[162] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Table⍺Description")))[163] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Table⍺Description")[164] where←4↑,"fmFactors.edTableDesc" ⎕wi "∆where"[165] size←1↑"fmFactors.edTableDesc" ⎕wi "extent"[166] size←¯3⌈0.5×(1↑⎕wi "extent")-size[167] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[168] ⎕wi "∆where" ((x,2)⍴where)[169] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[170] [171] ⎕wself←"fmFactors.cbDecP" ⎕wi "New" "Combo"[172] Fieldlist←Fieldlist OVER "fmFactors.cbDecP"[173] Fieldcontrol←Fieldcontrol OVER "Combo"[174] ⎕wi "∆name" "DecP"[175] ⎕wi "∆type" "Num"[176] ⎕wi "∆mandatory" 1[177] ⎕wi "enabled" (0)[178] ⎕wi "∆helpid" 3886[179] ⎕wi "tooltip" "Specify the Number of Decimal Places"[180] ⎕wi "style" 16 128 256 2[181] ⎕wi "∆where" (2 2⍴0.25 0 0.55 0)[182] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.55 0))[183] PickList←⍙POPUPSdict ReadDictFile "AccessLevels"[184] PickList←⊃m2n 1 0↓PickList[185] ⎕wi "list" PickList[186] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[187] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Factors 'Change' "[188] [189] ⎕wself←"fmFactors.llDecP" ⎕wi "New" "Label"[190] ⎕wi "scale" 5[191] ⎕wi "style" 2[192] ⎕wi "enabled" (0)[193] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Decimal⍺Places")))[194] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Decimal⍺Places")[195] where←4↑,"fmFactors.cbDecP" ⎕wi "∆where"[196] size←1↑"fmFactors.cbDecP" ⎕wi "extent"[197] size←¯3⌈0.5×(1↑⎕wi "extent")-size[198] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[199] ⎕wi "∆where" ((x,2)⍴where)[200] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[201] [202] ⎕wself←"fmFactors.fFactors" ⎕wi "New" "Frame"[203] ⎕wi "scale" 5[204] ⎕wi "tooltip" "Right Click Top Left Corner for Grid Options
Right Click Row/Column Headings to Add/Delete Rows/Columns"[205] ⎕wi "∆where" (4 2⍴0.35 0 0 0 0.65 ¯45 0.3 0)[206] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize (4 2⍴0.35 0 0 0 0.65 ¯45 0.3 0))[207] ⎕wi "caption" "Factors"[208] ⎕wi "style" 0[209] ⎕wi "onResize" "AutoResize"[210] ⎕wself←"fmFactors.fFactors.ssFactors" ⎕wi "New" "{13E51003-A52B-11D0-86DA-00608CB9FBFB}6D5ECD55-86B8-11d0-95AD-0020AF1E9EB2"[211] ⎕wi "∆where" (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20)[212] ⎕wi "where" (("fmFactors.fFactors" ⎕wi "size") Win∆Resize (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20))[213] Fieldlist←Fieldlist OVER "fmFactors.fFactors.ssFactors"[214] Fieldcontrol←Fieldcontrol OVER "F1SS"[215] Win∆F1SSDefaults 0[216] ⎕wi "MaxRow" (MaxRow←1)[217] ⎕wi "MaxCol" (MaxCol←1)[218] ⎕wi "xDoStartEdit" 1[219] ⎕wi "xDoEndEdit" 1[220] ⎕wi "xDoCancelEdit" 1[221] ⎕wi "onClick" "Win∆F1SSClick 'fmFactors.fFactors.ssFactors'"[222] ⎕wi "onXStartEdit" "⎕wi 'AllowArrows' 0"[223] NameList←0 0⍴" "[224] ⎕wi "MaxCol" (MaxCol←MaxCol⌈1)[225] ⎕wi "ColText" 1 (("/⍺/",⎕tcnl,⎕tclf) TEXTREPL "Date")[226] ⎕wi "XSetRowHeight" 1 1 255 1[227] NameList←NameList OVER "Dates[;]"[228] ⎕wi "MaxCol" (MaxCol←MaxCol⌈2)[229] ⎕wi "ColText" 2 (("/⍺/",⎕tcnl,⎕tclf) TEXTREPL "Factor")[230] ⎕wi "XSetRowHeight" 1 1 255 1[231] NameList←NameList OVER "RATES[;]"[232] ⎕wi "xHdrHeight" (350⌈250×1)[233] ⎕wi "onXRClick" "1 Win∆F1SSRowMenu ('Factors' 'fmFactors.fFactors.ssFactors')"[234] ⎕wi "∆roworcol" "Col"[235] ⎕wi "∆name" NameList[236] ⎕wi "∆limit" (,10 11)[237] ⎕wi "∆mandatory" 0 0[238] ⎕wi "∆helpid" 3887 3887[239] ⎕wi "∆type" "⍺Date⍺Num"[240] ⎕wi "∆valid" "⍺''⍺''"[241] ⎕wi "∆range" "⍺⍺"[242] ⎕wi "onXEndEdit" "(⎕wi 'xRow') Win∆ValidF1SSCell ⎕wi 'xCol' ⋄ 0 0⍴⎕ex 'F1SSEvent' "[243] ⎕wi "onExit" "Win∆ValidF1SSExit 'Factors'"[244] ⎕wi "onExitError" "MDISPLAY ⎕warg ⋄ ⎕wi 'XStartEdit' 0 1 1"[245] ⎕wi "onXCancelEdit" "⎕wi 'AllowArrows' 1 ⋄ ⎕wi 'SetColWidthAuto' 1 1 (⎕wi 'MaxRow') (⎕wi 'MaxCol') 0"[246] "fmFactors.fFactors.ssFactors" Win∆F1SSProtectCells "Unlock"[247] ⎕wi "SetSelection" 1 1 1 1[248] [249] ⎕wself←"fmFactors.picPretty" ⎕wi "New" "Picture"[250] Fieldlist←Fieldlist OVER "fmFactors.picPretty"[251] Fieldcontrol←Fieldcontrol OVER "Picture"[252] ⎕wi "∆name" "Pretty"[253] ⎕wi "∆type" "Picture"[254] ⎕wi "tooltip" "Double-click to enlarge graph"[255] ⎕wi "scale" 5[256] ⎕wi "style" 4[257] ⎕wi "∆where" (4 2⍴0.35 0 0.3 0 0.65 ¯45 0.7 0)[258] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize (4 2⍴0.35 0 0.3 0 0.65 ¯45 0.7 0))[259] ⎕wi "imagesize" (⎕wi "size")[260] ⎕wi "onResize" "⎕wi 'imagesize' (⎕wi 'size')"[261] ⎕wi "onMouseDouble" "EnlargePict PageView"[262] list←list OVER "fmFactors.bnFactorsDelete"[263] ⎕wself←"fmFactors.bnFactorsDelete" ⎕wi "New" "Button"[264] ⎕wi "enabled" (rtAccess[6]≤accesslevel)[265] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[266] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][267] ⎕wi "∆where" ((x,2)⍴where)[268] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[269] ⎕wi "tooltip" "Delete Selected Factor Table"[270] ⎕wi "onClick" ("fmSV.mFactorsFile.mDelete"⎕wi "onClick")[271] ⎕wi "∆helpid" 3888[272] ⎕wi "caption" "Delete"[273] :if buttonimage[274]     ⎕wi "imagelist" "fmSV.iStandard"[275]     ⎕wi "imageindex" 6[276] :endif[277] list←list OVER "fmFactors.bnFactorsAdd"[278] ⎕wself←"fmFactors.bnFactorsAdd" ⎕wi "New" "Button"[279] ⎕wi "enabled" (rtAccess[5]≤accesslevel)[280] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[281] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][282] ⎕wi "∆where" ((x,2)⍴where)[283] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[284] ⎕wi "tooltip" "Add New Factor Table"[285] ⎕wi "onClick" ("fmSV.mFactorsFile.mAdd"⎕wi "onClick")[286] ⎕wi "∆helpid" 3889[287] ⎕wi "caption" "Add"[288] list←list OVER "fmFactors.bnFactorsEdit"[289] ⎕wself←"fmFactors.bnFactorsEdit" ⎕wi "New" "Button"[290] ⎕wi "enabled" (rtAccess[4]≤accesslevel)[291] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[292] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][293] ⎕wi "∆where" ((x,2)⍴where)[294] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[295] ⎕wi "tooltip" "Edit Selected Factor Table"[296] ⎕wi "onClick" ("fmSV.mFactorsFile.mEdit"⎕wi "onClick")[297] ⎕wi "∆helpid" 3890[298] ⎕wi "caption" "Edit"[299] list←list OVER "fmFactors.bnFactorsCancel"[300] ⎕wself←"fmFactors.bnFactorsCancel" ⎕wi "New" "Button"[301] ⎕wi "visible" (¯1+2×0)[302] ⎕wi "deferexit" 1[303] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[304] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][305] ⎕wi "∆where" ((x,2)⍴where)[306] ⎕wi "where" (("fmFactors" ⎕wi "size") Win∆Resize ⎕wi "∆where")[307] ⎕wi "tooltip" "Cancel Factor Table Editing"[308] ⎕wi "onClick" ("fmSV.mFactorsFile.mCancel"⎕wi "onClick")[309] ⎕wi "∆helpid" 3891[310] ⎕wi "caption" "Cancel"[311] [312] "fmFactors" ⎕wi "∆multifile" ""[313] "fmFactors" ⎕wi "∆singlefile" ""[314] "fmFactors" ⎕wi "∆format" ""[315] "fmFactors" ⎕wi "∆financial" 0[316] "fmFactors" ⎕wi "∆relrules" 0[317] "fmFactors" ⎕wi "∆parm" 0[318] "fmFactors" ⎕wi "∆decr" 0[319] "fmFactors" ⎕wi "∆file" 0[320] "fmFactors" ⎕wi "∆codefile" CodeFile[321] "fmFactors" ⎕wi "∆inputstype" "FactorFile"[322] "fmFactors" ⎕wi "∆inputsentry" "Single"[323] "fmFactors" ⎕wi "∆savecn" (⍳0)[324] "fmFactors" ⎕wi "∆savedesc" ""[325] list←list OVER "fmFactors"[326] "fmFactors" ⎕wi "∆fieldlist" Fieldlist[327] "fmFactors" ⎕wi "∆fieldcontrol" Fieldcontrol[328] childlist←"fmSV" ⎕wi "∆childlist"[329] list←(⊃¯1↑childlist) OVER list[330] childlist[⍴childlist]←⊂list[331] "fmSV" ⎕wi "∆childlist" childlist[332] list←,⎕split list[333] 0 0⍴((∨/¨(⊂".mFactors")⍷¨list)/list) MultiWI "enabled" 1[334] :if 300<fnsize[335]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[336]     Win∆ProgressBar "Hide"[337] :endif[338] "Init" OpenParameters "Factors"[339] "fmFactors.bnFactorsHelp" ⎕wi "visible" 1[340] "fmFactors.bnFactorsQuit" ⎕wi "visible" 1[341] "fmFactors.bnFactorsSave" ⎕wi "visible" 1[342] "#" ⎕wi "focus" "fmFactors.lsTABLE"[343] :if ~0∊⍴,Error←Win∆Initialise "Factors"[344]     "Quit" EndModule Module[345]     "fmSV" ⎕wi "pointer" 0[346]     0 0⍴"fmFactors" ⎕wi "Delete"[347]     :return[348] :endif[349] :if bar_open←commandbar^"Multi"≡"Single"[350]     bar_open←0×"fmFactors.mFactorsFile.m" Win∆CommandBar "SaveHelp"[351] :endif[352] "fmFactors" ⎕wi "Paint"[353] "fmSV" ⎕wi "pointer" 11[354] "fmFactors" ⎕wi "onWait" "0 0⍴Factors 'Wait' ⋄ 'fmFactors' ⎕wi 'modified' 0"[355] 0 0⍴"fmFactors" ⎕wi "Wait"[356] 0 0⍴"fmFactors" ⎕wi "Delete"[357] "fmSV" ⎕wi "pointer" 0 ∇