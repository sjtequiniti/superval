∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Snapshot Salary Review")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Dialog"[14] [15] ⎕wself←"fmSnapshotReview" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos 1 1 ×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmSnapshotReview"[26] relTests←0[27] 0 Menu_Make "fmSV"[28] 1 Menu_Make "fmSnapshotReview"[29] "fmSnapshotReview" Win∆CutCopyPaste "Build"[30] "fmSnapshotReview" ⎕wi "∆helpid" 2077[31] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewHelp"[32] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewHelp" ⎕wi "New" "Button"[33] ⎕wi "deferexit" 1[34] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[35] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][36] ⎕wi "∆where" ((x,2)⍴where)[37] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[38] ⎕wi "tooltip" "SuperVal Help"[39] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewHelp.mContext"⎕wi "onClick")[40] ⎕wi "caption" "Help"[41] :if buttonimage[42]     ⎕wi "imagelist" "fmSV.iStandard"[43]     ⎕wi "imageindex" 12[44] :endif[45] ⎕wi "visible" ¯1[46] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[47] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewQuit"[48] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewQuit" ⎕wi "New" "Button"[49] ⎕wi "style" 2[50] ⎕wi "deferexit" 1[51] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[52] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][53] ⎕wi "∆where" ((x,2)⍴where)[54] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[55] ⎕wi "tooltip" "Quit and Return"[56] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewFile.mQuit"⎕wi "onClick")[57] ⎕wi "caption" "Quit"[58] ⎕wi "∆helpid" 3740[59] ⎕wi "order" .5[60] ⎕wi "visible" ¯1[61] ControlName ⎕wi "∆quitbutton" "fmSnapshotReview.bnSnapshot_ReviewQuit"[62] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewSave"[63] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewSave" ⎕wi "New" "Button"[64] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[65] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][66] ⎕wi "∆where" ((x,2)⍴where)[67] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[68] ⎕wi "tooltip" "Save Parameters"[69] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewFile.mSave"⎕wi "onClick")[70] ⎕wi "caption" "Save"[71] :if buttonimage[72]     ⎕wi "imagelist" "fmSV.iStandard"[73]     ⎕wi "imageindex" 9[74] :endif[75] ⎕wi "∆helpid" 3741[76] ⎕wi "enabled" 0[77] ⎕wi "order" .5[78] ⎕wi "visible" ¯1[79] "fmSnapshotReview" ⎕wi "onModified" "('Snapshot_Review' 'fmSnapshotReview.bnSnapshot_ReviewSave') Win∆SaveEnabled (0≠⎕warg[1])"[80] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewSaveAs"[81] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewSaveAs" ⎕wi "New" "Button"[82] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[83] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][84] ⎕wi "∆where" ((x,2)⍴where)[85] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[86] ⎕wi "tooltip" "Save Parameters As ..."[87] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewFile.mSaveAs"⎕wi "onClick")[88] ⎕wi "caption" "Save As"[89] ⎕wi "∆helpid" 3742[90] ⎕wi "order" .5[91] ⎕wi "visible" ¯1[92] [93] ⎕wself←"fmSnapshotReview.lvRUNDESC" ⎕wi "New" "Listview"[94] Fieldlist←Fieldlist OVER "fmSnapshotReview.lvRUNDESC"[95] Fieldcontrol←Fieldcontrol OVER "Listview"[96] ⎕wi "∆name" "RUNDESC"[97] ⎕wi "∆type" "Listview"[98] ⎕wi "∆mandatory" 1[99] ⎕wi "∆helpid" 3743[100] ⎕wi "tooltip" "Select the Saved Results to be reviewed"[101] list←list OVER "fmSnapshotReview.lvRUNDESC"[102] ⎕wi "scale" 5[103] ⎕wi "viewmode" "report"[104] ⎕wi "style" 1 4 8[105] ⎕wi "∆where" (4 2⍴0.01 0 0 0 0.24 0 1 0)[106] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize (4 2⍴0.01 0 0 0 0.24 0 1 0))[107] ⎕wi "∆update" "InvResults 'Snapshot_Review'"[108] (PickList NameList sortorder SortList)←4↑InvResults 'Snapshot_Review'[109] ⎕wi "list" PickList[110] NameList[;1]←NameList[;1],¨⊂4↑" "[111] ⎕wi "columndisplay" NameList[112] ⎕wi "AutoFit" "header" "all"[113] ⎕wi "∆sortorder" sortorder[114] ⎕wi "∆sortlist" SortList[115] ⎕wi "onColClick" "('fmSnapshotReview.lvRUNDESC' 'Snapshot_Review') Win∆SortListview ⎕warg"[116] :if 0=⎕nc "listviewDict"[117] listviewDict←MATRIX keysIn ListviewDict[118] :endif[119] :if ~mt sortorder←DLTB ↑((ListviewDict for "Control" "fmSnapshotReview.lvRUNDESC") for "Parameters" "") at "Sort"[120] ("fmSnapshotReview.lvRUNDESC" "Snapshot_Review") Win∆SortListview sortorder[121] :else[122] ("fmSnapshotReview.lvRUNDESC" "Snapshot_Review") Win∆SortListview "Run Time"[123] :endif[124] ⎕wi "onResize" "Win∆SizeListview ⎕wi 'self'"[125] ⎕wi "onDblClick" "(⎕wi 'self') Results∆Click 0"[126] ⎕wi "onClick" "(⎕wi 'self') Results∆Click 0"[127] ⎕wi "onSelect" "0 0⍴(⊂⎕wi 'name') Snapshot_Review 'Change' "[128] ⎕wi "onExit" "⎕wres←0 List∆CHECK 'fmSnapshotReview.lvRUNDESC'"[129] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[130] [131] ⎕wself←"fmSnapshotReview.ckRetrieve" ⎕wi "New" "Check"[132] Fieldlist←Fieldlist OVER "fmSnapshotReview.ckRetrieve"[133] Fieldcontrol←Fieldcontrol OVER "Check"[134] ⎕wi "∆name" "Retrieve"[135] ⎕wi "∆type" "Check"[136] ⎕wi "∆helpid" 3744[137] ⎕wi "tooltip" "Retrieve the Parameters used in the Original Investigation Run"[138] ⎕wi "style" 0[139] ⎕wi "caption" "Retrieve Original Run Parameters"[140] ⎕wi "∆where" (2 2⍴0.26 0 0.01 0)[141] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize (2 2⍴0.26 0 0.01 0))[142] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[143] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Snapshot_Review 'Change' )"[144] [145] :if 300<fnsize[146]     ((1↑⎕lc) fnsize "FrameV - Investigation Parameters") Win∆ProgressBar "MemberUpdate"[147] :endif[148] [149] ⎕wself←"fmSnapshotReview.fParms" ⎕wi "New" "Frame"[150] ⎕wi "scale" 5[151] ⎕wi "∆where" (4 2⍴0.28 0 0 0 0.09 0 1 0)[152] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize (4 2⍴0.28 0 0 0 0.09 0 1 0))[153] ⎕wi "caption" "Investigation Parameters"[154] ⎕wi "style" 0[155] ⎕wi "onResize" "AutoResize"[156] [157] ⎕wself←"fmSnapshotReview.fParms.edBAGE" ⎕wi "New" "Edit"[158] Fieldlist←Fieldlist OVER "fmSnapshotReview.fParms.edBAGE"[159] Fieldcontrol←Fieldcontrol OVER "Edit"[160] ⎕wi "∆name" "BAGE"[161] ⎕wi "∆type" "Num"[162] ⎕wi "∆mandatory" 1[163] ⎕wi "∆valid" ('Int' 'Scalar' '+')[164] ⎕wi "∆helpid" 3745[165] ⎕wi "tooltip" "Specify the Start Age for the presentation of Results"[166] ⎕wi "limit" 2[167] ⎕wi "∆where" (2 2⍴0.4 0 0.2 0)[168] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.2 0))[169] ⎕wi "∆range" "15 65"[170] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSnapshotReview.fParms.edBAGE')/'0 0⍴(⊂⎕wi ''name'') Snapshot_Review ''Change'' ' "[171] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[172] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[173] ⎕wi "extent" (2+CharSize×1 3)[174] [175] ⎕wself←"fmSnapshotReview.fParms.lrBAGE" ⎕wi "New" "Label"[176] ⎕wi "scale" 5[177] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[178] ⎕wi "caption" "years"[179] where←4↑,"fmSnapshotReview.fParms.edBAGE" ⎕wi "∆where"[180] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSnapshotReview.fParms.edBAGE" ⎕wi "extent"[181] ⎕wi "∆where" ((x,2)⍴where)[182] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[183] [184] ⎕wself←"fmSnapshotReview.fParms.llBAGE" ⎕wi "New" "Label"[185] ⎕wi "scale" 5[186] ⎕wi "style" 2[187] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Start Age"))[188] ⎕wi "caption" "Start Age"[189] where←4↑,"fmSnapshotReview.fParms.edBAGE" ⎕wi "∆where"[190] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[191] ⎕wi "∆where" ((x,2)⍴where)[192] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[193] [194] ⎕wself←"fmSnapshotReview.fParms.edEAGE" ⎕wi "New" "Edit"[195] Fieldlist←Fieldlist OVER "fmSnapshotReview.fParms.edEAGE"[196] Fieldcontrol←Fieldcontrol OVER "Edit"[197] ⎕wi "∆name" "EAGE"[198] ⎕wi "∆type" "Num"[199] ⎕wi "∆mandatory" 1[200] ⎕wi "∆valid" ('Int' 'Scalar' '+')[201] ⎕wi "∆helpid" 3746[202] ⎕wi "tooltip" "Specify the End Age for the presentation of Results"[203] ⎕wi "limit" 2[204] ⎕wi "∆where" (2 2⍴0.4 0 0.5 0)[205] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.5 0))[206] ⎕wi "∆range" "40 90"[207] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSnapshotReview.fParms.edEAGE')/'0 0⍴(⊂⎕wi ''name'') Snapshot_Review ''Change'' ' "[208] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[209] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[210] ⎕wi "extent" (2+CharSize×1 3)[211] [212] ⎕wself←"fmSnapshotReview.fParms.lrEAGE" ⎕wi "New" "Label"[213] ⎕wi "scale" 5[214] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[215] ⎕wi "caption" "years"[216] where←4↑,"fmSnapshotReview.fParms.edEAGE" ⎕wi "∆where"[217] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSnapshotReview.fParms.edEAGE" ⎕wi "extent"[218] ⎕wi "∆where" ((x,2)⍴where)[219] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[220] [221] ⎕wself←"fmSnapshotReview.fParms.llEAGE" ⎕wi "New" "Label"[222] ⎕wi "scale" 5[223] ⎕wi "style" 2[224] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "End Age"))[225] ⎕wi "caption" "End Age"[226] where←4↑,"fmSnapshotReview.fParms.edEAGE" ⎕wi "∆where"[227] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[228] ⎕wi "∆where" ((x,2)⍴where)[229] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[230] [231] ⎕wself←"fmSnapshotReview.fParms.edGROUP" ⎕wi "New" "Edit"[232] Fieldlist←Fieldlist OVER "fmSnapshotReview.fParms.edGROUP"[233] Fieldcontrol←Fieldcontrol OVER "Edit"[234] ⎕wi "∆name" "GROUP"[235] ⎕wi "∆type" "Num"[236] ⎕wi "∆mandatory" 1[237] ⎕wi "∆valid" ('Int' 'Scalar' '+')[238] ⎕wi "∆helpid" 3747[239] ⎕wi "tooltip" "Specify the Grouping Factor for the summarising of Results"[240] ⎕wi "limit" 2[241] ⎕wi "∆where" (2 2⍴0.4 0 0.8 0)[242] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.8 0))[243] ⎕wi "∆range" "1 20"[244] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSnapshotReview.fParms.edGROUP')/'0 0⍴(⊂⎕wi ''name'') Snapshot_Review ''Change'' ' "[245] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[246] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[247] ⎕wi "extent" (2+CharSize×1 3)[248] [249] ⎕wself←"fmSnapshotReview.fParms.lrGROUP" ⎕wi "New" "Label"[250] ⎕wi "scale" 5[251] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[252] ⎕wi "caption" "years"[253] where←4↑,"fmSnapshotReview.fParms.edGROUP" ⎕wi "∆where"[254] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSnapshotReview.fParms.edGROUP" ⎕wi "extent"[255] ⎕wi "∆where" ((x,2)⍴where)[256] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[257] [258] ⎕wself←"fmSnapshotReview.fParms.llGROUP" ⎕wi "New" "Label"[259] ⎕wi "scale" 5[260] ⎕wi "style" 2[261] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Grouping of Results - Every"))[262] ⎕wi "caption" "Grouping of Results - Every"[263] where←4↑,"fmSnapshotReview.fParms.edGROUP" ⎕wi "∆where"[264] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[265] ⎕wi "∆where" ((x,2)⍴where)[266] ⎕wi "where" (("fmSnapshotReview.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[267] [268] :if 300<fnsize[269]     ((1↑⎕lc) fnsize "FrameV - Comparison Table") Win∆ProgressBar "MemberUpdate"[270] :endif[271] [272] ⎕wself←"fmSnapshotReview.fTable" ⎕wi "New" "Frame"[273] ⎕wi "scale" 5[274] ⎕wi "∆where" (4 2⍴0.37 0 0 0 0.14 0 1 0)[275] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize (4 2⍴0.37 0 0 0 0.14 0 1 0))[276] ⎕wi "caption" "Comparison Table"[277] ⎕wi "style" 0[278] ⎕wi "onResize" "AutoResize"[279] [280] ⎕wself←"fmSnapshotReview.fTable.edTABXX1" ⎕wi "New" "Edit"[281] Fieldlist←Fieldlist OVER "fmSnapshotReview.fTable.edTABXX1"[282] Fieldcontrol←Fieldcontrol OVER "Edit"[283] ⎕wi "∆name" "TABXX[1;]"[284] ⎕wi "∆type" "Decr"[285] ⎕wi "∆mandatory" 1[286] ⎕wi "∆valid" ('S')[287] ⎕wi "∆helpid" 3748[288] ⎕wi "tooltip" "Specify the Table Code of the Expected Table
(Right Click for List, Double Click for Rate Tables Display or '<' or '>' to Scroll through the Rate Tables)"[289] ⎕wi "limit" 5[290] ⎕wi "∆where" (2 2⍴0.25 0 0.2 0)[291] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.2 0))[292] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSnapshotReview.fTable.edTABXX1')/'0 0⍴(⊂⎕wi ''name'') Snapshot_Review ''Change'' ' "[293] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[294] ⎕wi "extent" (2+CharSize×1 6)[295] ⎕wi "keys" (60 62)[296] ⎕wi "pointer" ">cur 1001 shell32.dll"[297] ⎕wi "onFocus" "0 0⍴GetDecrList 'List' "[298] ⎕wi "onKeyPress" "(⎕wi 'self') Win∆DecrToggle ⎕wi '∆valid' "[299] ⎕wi "onMouseDown" "(⎕wi 'self') Win∆DecrPopup ⎕wi '∆valid' "[300] ⎕wi "onMouseDouble" "(⎕wi '∆valid') RunDecr 'Form'"[301] ⎕wi "onChange" "(⎕wi 'self') Win∆LabelUpdate (FormName ⎕wi '∆decrdesc') (FormName ⎕wi '∆decrlist') ⋄ 0 0⍴(⊂⎕wi 'name') Snapshot_Review 'Change' "[302] ⎕wi "∆rightlabel" "fmSnapshotReview.fTable.lrTABXX1"[303] [304] ⎕wself←"fmSnapshotReview.fTable.llTABXX1" ⎕wi "New" "Label"[305] ⎕wi "scale" 5[306] ⎕wi "style" 2[307] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Expected Table"))[308] ⎕wi "caption" "Expected Table"[309] where←4↑,"fmSnapshotReview.fTable.edTABXX1" ⎕wi "∆where"[310] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[311] ⎕wi "∆where" ((x,2)⍴where)[312] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[313] [314] ⎕wself←"fmSnapshotReview.fTable.lrTABXX1" ⎕wi "New" "Label"[315] ⎕wi "scale" 5[316] ⎕wi "extent" (CharSize×¯2↑1,100)[317] ⎕wi "style" 32[318] ⎕wi "caption" " "[319] where←4↑,"fmSnapshotReview.fTable.edTABXX1" ⎕wi "∆where"[320] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSnapshotReview.fTable.edTABXX1" ⎕wi "extent"[321] ⎕wi "∆where" ((x,2)⍴where)[322] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[323] [324] ⎕wself←"fmSnapshotReview.fTable.edTABXX2" ⎕wi "New" "Edit"[325] Fieldlist←Fieldlist OVER "fmSnapshotReview.fTable.edTABXX2"[326] Fieldcontrol←Fieldcontrol OVER "Edit"[327] ⎕wi "∆name" "TABXX[2;]"[328] ⎕wi "∆type" "CharNum"[329] ⎕wi "∆valid" ('Int' 'Rating')[330] ⎕wi "∆helpid" 3749[331] ⎕wi "tooltip" "Specify the Age Rating on the Expected Table (in years)"[332] ⎕wi "limit" 3[333] ⎕wi "∆where" (2 2⍴0.6 0 0.2 0)[334] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.2 0))[335] ⎕wi "∆range" "¯20 20"[336] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSnapshotReview.fTable.edTABXX2')/'0 0⍴(⊂⎕wi ''name'') Snapshot_Review ''Change'' ' "[337] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[338] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊43 45 8 32 48 49 50 51 52 53 54 55 56 57"[339] ⎕wi "extent" (2+CharSize×1 4)[340] [341] ⎕wself←"fmSnapshotReview.fTable.lrTABXX2" ⎕wi "New" "Label"[342] ⎕wi "scale" 5[343] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[344] ⎕wi "caption" "years"[345] where←4↑,"fmSnapshotReview.fTable.edTABXX2" ⎕wi "∆where"[346] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSnapshotReview.fTable.edTABXX2" ⎕wi "extent"[347] ⎕wi "∆where" ((x,2)⍴where)[348] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[349] [350] ⎕wself←"fmSnapshotReview.fTable.llTABXX2" ⎕wi "New" "Label"[351] ⎕wi "scale" 5[352] ⎕wi "style" 2[353] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Age Rating"))[354] ⎕wi "caption" "Age Rating"[355] where←4↑,"fmSnapshotReview.fTable.edTABXX2" ⎕wi "∆where"[356] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[357] ⎕wi "∆where" ((x,2)⍴where)[358] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[359] [360] ⎕wself←"fmSnapshotReview.fTable.edTABXX3" ⎕wi "New" "Edit"[361] Fieldlist←Fieldlist OVER "fmSnapshotReview.fTable.edTABXX3"[362] Fieldcontrol←Fieldcontrol OVER "Edit"[363] ⎕wi "∆name" "TABXX[3;]"[364] ⎕wi "∆type" "CharNum"[365] ⎕wi "∆valid" ('Rating')[366] ⎕wi "∆helpid" 3750[367] ⎕wi "tooltip" "Specify the Percentage Rating on the Expected Table (+ve or -ve)"[368] ⎕wi "limit" 7[369] ⎕wi "∆where" (2 2⍴0.6 0 0.8 0)[370] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.8 0))[371] ⎕wi "∆range" "¯99 1000"[372] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSnapshotReview.fTable.edTABXX3')/'0 0⍴(⊂⎕wi ''name'') Snapshot_Review ''Change'' ' "[373] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[374] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊43 45 46 8 32 48 49 50 51 52 53 54 55 56 57"[375] ⎕wi "extent" (2+CharSize×1 8)[376] [377] ⎕wself←"fmSnapshotReview.fTable.lrTABXX3" ⎕wi "New" "Label"[378] ⎕wi "scale" 5[379] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "%"))[380] ⎕wi "caption" "%"[381] where←4↑,"fmSnapshotReview.fTable.edTABXX3" ⎕wi "∆where"[382] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSnapshotReview.fTable.edTABXX3" ⎕wi "extent"[383] ⎕wi "∆where" ((x,2)⍴where)[384] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[385] [386] ⎕wself←"fmSnapshotReview.fTable.llTABXX3" ⎕wi "New" "Label"[387] ⎕wi "scale" 5[388] ⎕wi "style" 2[389] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Percentage Rating"))[390] ⎕wi "caption" "Percentage Rating"[391] where←4↑,"fmSnapshotReview.fTable.edTABXX3" ⎕wi "∆where"[392] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[393] ⎕wi "∆where" ((x,2)⍴where)[394] ⎕wi "where" (("fmSnapshotReview.fTable" ⎕wi "size") Win∆Resize ⎕wi "∆where")[395] [396] ⎕wself←"fmSnapshotReview.picResults" ⎕wi "New" "Picture"[397] Fieldlist←Fieldlist OVER "fmSnapshotReview.picResults"[398] Fieldcontrol←Fieldcontrol OVER "Picture"[399] ⎕wi "∆name" "Results"[400] ⎕wi "∆type" "Picture"[401] ⎕wi "tooltip" "Double-click to enlarge graph"[402] ⎕wi "scale" 5[403] ⎕wi "style" 4[404] ⎕wi "∆where" (4 2⍴0.52 0 0 0 0.48 ¯45 1 0)[405] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize (4 2⍴0.52 0 0 0 0.48 ¯45 1 0))[406] ⎕wi "imagesize" (⎕wi "size")[407] ⎕wi "onResize" "⎕wi 'imagesize' (⎕wi 'size')"[408] ⎕wi "onMouseDouble" "EnlargePict PageView"[409] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewDelete"[410] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewDelete" ⎕wi "New" "Button"[411] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[412] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][413] ⎕wi "∆where" ((x,2)⍴where)[414] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[415] ⎕wi "tooltip" "Delete Saved Results"[416] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewResults.mDelete"⎕wi "onClick")[417] ⎕wi "∆helpid" 3751[418] ⎕wi "caption" "Delete"[419] :if buttonimage[420]     ⎕wi "imagelist" "fmSV.iStandard"[421]     ⎕wi "imageindex" 6[422] :endif[423] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewExport"[424] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewExport" ⎕wi "New" "Button"[425] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[426] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][427] ⎕wi "∆where" ((x,2)⍴where)[428] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[429] ⎕wi "tooltip" "Export Results to Spreadsheet Import file"[430] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewResults.mExport"⎕wi "onClick")[431] ⎕wi "∆helpid" 3752[432] ⎕wi "caption" "Export"[433] :if buttonimage[434]     ⎕wi "imagelist" "fmSV.iStandard"[435]     ⎕wi "imageindex" 34[436] :endif[437] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewOutput"[438] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewOutput" ⎕wi "New" "Button"[439] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[440] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][441] ⎕wi "∆where" ((x,2)⍴where)[442] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[443] ⎕wi "tooltip" "Output file based on Current Parameters"[444] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewResults.mOutput"⎕wi "onClick")[445] ⎕wi "∆helpid" 3753[446] ⎕wi "caption" "Output"[447] list←list OVER "fmSnapshotReview.bnSnapshot_ReviewBestFit"[448] ⎕wself←"fmSnapshotReview.bnSnapshot_ReviewBestFit" ⎕wi "New" "Button"[449] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[450] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][451] ⎕wi "∆where" ((x,2)⍴where)[452] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize ⎕wi "∆where")[453] ⎕wi "tooltip" "Best Fit Rate Table based on Current Parameters"[454] ⎕wi "onClick" ("fmSV.mSnapshot_ReviewResults.mBestFit"⎕wi "onClick")[455] ⎕wi "∆helpid" 3754[456] ⎕wi "caption" "Best Fit"[457] [458] ⎕wself←"fmSnapshotReview.lParmDesc" ⎕wi "New" "Label"[459] ⎕wi "scale" 5[460] ⎕wi "extent" (CharSize×¯2↑1,80)[461] ⎕wi "style" 32[462] ⎕wi "caption" " "[463] ⎕wi "∆where" (2 2⍴0.96 0 0.02 0)[464] ⎕wi "where" (("fmSnapshotReview" ⎕wi "size") Win∆Resize (2 2⍴0.96 0 0.02 0))[465] [466] "fmSnapshotReview" ⎕wi "∆multifile" ""[467] "fmSnapshotReview" ⎕wi "∆singlefile" ""[468] "fmSnapshotReview" ⎕wi "∆format" ""[469] "fmSnapshotReview" ⎕wi "∆financial" 0[470] "fmSnapshotReview" ⎕wi "∆relrules" 0[471] "fmSnapshotReview" ⎕wi "∆parm" 0[472] "fmSnapshotReview" ⎕wi "∆decr" 1[473] "fmSnapshotReview" ⎕wi "∆file" 0[474] "fmSnapshotReview" ⎕wi "∆codefile" CodeFile[475] "fmSnapshotReview" ⎕wi "∆inputstype" "ClientFile"[476] "fmSnapshotReview" ⎕wi "∆inputsentry" "Multi"[477] "fmSnapshotReview" ⎕wi "∆savecn" (⍳0)[478] "fmSnapshotReview" ⎕wi "∆savedesc" ""[479] list←list OVER "fmSnapshotReview"[480] "fmSnapshotReview" ⎕wi "∆fieldlist" Fieldlist[481] "fmSnapshotReview" ⎕wi "∆fieldcontrol" Fieldcontrol[482] childlist←"fmSV" ⎕wi "∆childlist"[483] list←(⊃¯1↑childlist) OVER list[484] childlist[⍴childlist]←⊂list[485] "fmSV" ⎕wi "∆childlist" childlist[486] list←,⎕split list[487] 0 0⍴((∨/¨(⊂".mSnapshot_Review")⍷¨list)/list) MultiWI "enabled" 1[488] :if 300<fnsize[489]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[490]     Win∆ProgressBar "Hide"[491] :endif[492] "Init" OpenParameters "Snapshot_Review"[493] "fmSnapshotReview.bnSnapshot_ReviewHelp" ⎕wi "visible" 1[494] "fmSnapshotReview.bnSnapshot_ReviewQuit" ⎕wi "visible" 1[495] "fmSnapshotReview.bnSnapshot_ReviewSave" ⎕wi "visible" 1[496] "fmSnapshotReview.bnSnapshot_ReviewSaveAs" ⎕wi "visible" 1[497] "#" ⎕wi "focus" "fmSnapshotReview.lvRUNDESC"[498] :if ~0∊⍴,Error←Win∆Initialise "Snapshot_Review"[499]     "Quit" EndModule Module[500]     "fmSV" ⎕wi "pointer" 0[501]     0 0⍴"fmSnapshotReview" ⎕wi "Delete"[502]     :return[503] :endif[504] :if bar_open←commandbar^"Multi"≡"Multi"[505]     bar_open←0×"fmSnapshotReview.mSnapshot_ReviewFile.m" Win∆CommandBar "SaveAsHelp"[506] :endif[507] "fmSnapshotReview" ⎕wi "Paint"[508] "fmSV" ⎕wi "pointer" 11[509] "fmSnapshotReview" ⎕wi "onWait" "0 0⍴Snapshot_Review 'Wait' ⋄ 'fmSnapshotReview' ⎕wi 'modified' 0"[510] 0 0⍴"fmSnapshotReview" ⎕wi "Wait"[511] 0 0⍴"fmSnapshotReview" ⎕wi "Delete"[512] "fmSV" ⎕wi "pointer" 0 ∇