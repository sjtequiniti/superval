∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Deferreds AOS Parameters")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] Container←ControlName←"fmSV.fDefAOS"[13] relTests←1[14] 1 Menu_Make "fmSV"[15] "fmSV" Win∆CutCopyPaste "Build"[16] [17] ⎕wself←"fmSV.fDefAOS" ⎕wi "New" "Frame"[18] ⎕wi "scale" 5[19] ⎕wi "∆where" (4 2⍴0 0 0 0 1 ¯45 1 0)[20] ⎕wi "where" (("fmSV" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 1 ¯45 1 0))[21] ⎕wi "modifystop" 1[22] ⎕wi "Hide"[23] ⎕wi "style" 7[24] ⎕wi "onResize" "AutoResize"[25] "fmSV.fDefAOS" ⎕wi "∆helpid" 2254[26] list←list OVER "fmSV.bnDeferreds_AOSHelp"[27] ⎕wself←"fmSV.bnDeferreds_AOSHelp" ⎕wi "New" "Button"[28] ⎕wi "deferexit" 1[29] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[30] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][31] ⎕wi "∆where" ((x,2)⍴where)[32] ⎕wi "where" (("fmSV" ⎕wi "size") Win∆Resize ⎕wi "∆where")[33] ⎕wi "tooltip" "SuperVal Help"[34] ⎕wi "onClick" ("fmSV.mDeferreds_AOSHelp.mContext"⎕wi "onClick")[35] ⎕wi "caption" "Help"[36] :if buttonimage[37]     ⎕wi "imagelist" "fmSV.iStandard"[38]     ⎕wi "imageindex" 12[39] :endif[40] ⎕wi "visible" ¯1[41] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[42] list←list OVER "fmSV.bnDeferreds_AOSQuit"[43] ⎕wself←"fmSV.bnDeferreds_AOSQuit" ⎕wi "New" "Button"[44] ⎕wi "style" 2[45] ⎕wi "deferexit" 1[46] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[47] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][48] ⎕wi "∆where" ((x,2)⍴where)[49] ⎕wi "where" (("fmSV" ⎕wi "size") Win∆Resize ⎕wi "∆where")[50] ⎕wi "tooltip" "Quit and Return"[51] ⎕wi "onClick" ("fmSV.mDeferreds_AOSFile.mQuit"⎕wi "onClick")[52] ⎕wi "caption" "Quit"[53] ⎕wi "∆helpid" 5356[54] ⎕wi "order" .5[55] ⎕wi "visible" ¯1[56] ControlName ⎕wi "∆quitbutton" "fmSV.bnDeferreds_AOSQuit"[57] list←list OVER "fmSV.bnDeferreds_AOSSave"[58] ⎕wself←"fmSV.bnDeferreds_AOSSave" ⎕wi "New" "Button"[59] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[60] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][61] ⎕wi "∆where" ((x,2)⍴where)[62] ⎕wi "where" (("fmSV" ⎕wi "size") Win∆Resize ⎕wi "∆where")[63] ⎕wi "tooltip" "Save Parameters"[64] ⎕wi "onClick" ("fmSV.mDeferreds_AOSFile.mSave"⎕wi "onClick")[65] ⎕wi "caption" "Save"[66] :if buttonimage[67]     ⎕wi "imagelist" "fmSV.iStandard"[68]     ⎕wi "imageindex" 9[69] :endif[70] ⎕wi "∆helpid" 5357[71] ⎕wi "enabled" 0[72] ⎕wi "order" .5[73] ⎕wi "visible" ¯1[74] "fmSV.fDefAOS" ⎕wi "onModified" "('Deferreds_AOS' 'fmSV.bnDeferreds_AOSSave') Win∆SaveEnabled (0≠⎕warg[1])"[75] "fmSV.fDefAOS" ⎕wi "∆audit" 1[76] [77] :if 300<fnsize[78]     ((1↑⎕lc) fnsize "FrameV - Membership Data") Win∆ProgressBar "MemberUpdate"[79] :endif[80] [81] ⎕wself←"fmSV.fDefAOS.fData" ⎕wi "New" "Frame"[82] ⎕wi "scale" 5[83] ⎕wi "∆where" (4 2⍴0 0 0 0 0.2 0 1 0)[84] ⎕wi "where" (("fmSV.fDefAOS" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 0.2 0 1 0))[85] ⎕wi "caption" "Membership Data"[86] ⎕wi "style" 0[87] ⎕wi "onResize" "AutoResize"[88] [89] ⎕wself←"fmSV.fDefAOS.fData.ckFileSelections" ⎕wi "New" "Check"[90] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.ckFileSelections"[91] Fieldcontrol←Fieldcontrol OVER "Check"[92] ⎕wi "∆name" "FileSelections"[93] ⎕wi "∆type" "Check"[94] ⎕wi "visible" (¯1+2×0)[95] ⎕wi "tooltip" "Indicate if Automatic Sex/Category Sub-File Creation is desired"[96] ⎕wi "style" 0[97] ⎕wi "caption" "Automatic Sex/Category Sub-File Creation"[98] ⎕wi "∆where" (2 2⍴0.12 0 0.2 0)[99] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.12 0 0.2 0))[100] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[101] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' )"[102] [103] ⎕wself←"fmSV.fDefAOS.fData.edFILES" ⎕wi "New" "Edit"[104] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.edFILES"[105] Fieldcontrol←Fieldcontrol OVER "Edit"[106] ⎕wi "∆name" "FILES"[107] ⎕wi "∆type" "Filem"[108] ⎕wi "∆mandatory" 1[109] ⎕wi "∆valid" ('Data' 'Single')[110] ⎕wi "∆helpid" 5358[111] ⎕wi "tooltip" "Specify the Deferred Members Data File
(Right Click for List of Files or Double Click for Open File Dialog)"[112] ⎕wi "∆where" (2 2⍴0.27 0 0.2 0)[113] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.27 0 0.2 0))[114] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSV.fDefAOS.fData.edFILES')/'0 0⍴(⊂⎕wi ''name'') Deferreds_AOS ''Change'' ' "[115] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[116] ⎕wi "extent" (2+CharSize×1 31)[117] ⎕wi "pointer" ">cur 1001 shell32.dll"[118] ⎕wi "onMouseDouble" "'Data Single' GetFileList 'Single' "[119] ⎕wi "targetformats" "FileName"[120] ⎕wi "onDrop" "'fmSV.fDefAOS.fData.edFILES' Win∆DropTarget 0 ('Data' 'Single')"[121] ⎕wi "onFocus" "GetAbsFileList 'Fund'"[122] ⎕wi "onMouseDown" "'fmSV.fDefAOS.fData.edFILES' ⎕wi 'Focus' ⋄ 0 Win∆PopupMenu FilesDesc FilesList"[123] ⎕wi "onChange" "(⎕wi 'self') Win∆LabelUpdate FilesDesc FilesList ⋄ 0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' "[124] ⎕wi "∆rightlabel" "fmSV.fDefAOS.fData.lrFILES"[125] [126] ⎕wself←"fmSV.fDefAOS.fData.lrFILES" ⎕wi "New" "Label"[127] ⎕wi "scale" 5[128] ⎕wi "extent" (CharSize×¯2↑1,30)[129] ⎕wi "style" 32[130] ⎕wi "caption" " "[131] where←4↑,"fmSV.fDefAOS.fData.edFILES" ⎕wi "∆where"[132] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSV.fDefAOS.fData.edFILES" ⎕wi "extent"[133] ⎕wi "∆where" ((x,2)⍴where)[134] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize ⎕wi "∆where")[135] [136] ⎕wself←"fmSV.fDefAOS.fData.llFILES" ⎕wi "New" "Label"[137] ⎕wi "scale" 5[138] ⎕wi "style" 2[139] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Deferreds⍺Data File")))[140] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Deferreds⍺Data File")[141] where←4↑,"fmSV.fDefAOS.fData.edFILES" ⎕wi "∆where"[142] size←1↑"fmSV.fDefAOS.fData.edFILES" ⎕wi "extent"[143] size←¯3⌈0.5×(1↑⎕wi "extent")-size[144] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[145] ⎕wi "∆where" ((x,2)⍴where)[146] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize ⎕wi "∆where")[147] [148] ⎕wself←"fmSV.fDefAOS.fData.edfILENAME" ⎕wi "New" "Edit"[149] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.edfILENAME"[150] Fieldcontrol←Fieldcontrol OVER "Edit"[151] ⎕wi "∆name" "fILENAME"[152] ⎕wi "∆type" "File"[153] ⎕wi "∆mandatory" 1[154] ⎕wi "visible" (¯1+2×0)[155] ⎕wi "∆valid" ('Data' 'Single')[156] ⎕wi "tooltip" "Specify the Deferred Members Data File
(Right Click for List of Files or Double Click for Open File Dialog)"[157] ⎕wi "∆where" (2 2⍴0.27 0 0.2 0)[158] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.27 0 0.2 0))[159] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmSV.fDefAOS.fData.edfILENAME')/'0 0⍴(⊂⎕wi ''name'') Deferreds_AOS ''Change'' ' "[160] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[161] ⎕wi "extent" (2+CharSize×1 31)[162] ⎕wi "pointer" ">cur 1001 shell32.dll"[163] ⎕wi "onMouseDouble" "'Data Single' GetFileList 'Single' "[164] ⎕wi "targetformats" "FileName"[165] ⎕wi "onDrop" "'fmSV.fDefAOS.fData.edfILENAME' Win∆DropTarget 0 ('Data' 'Single')"[166] ⎕wi "onFocus" "GetAbsFileList 'Fund'"[167] ⎕wi "onMouseDown" "'fmSV.fDefAOS.fData.edfILENAME' ⎕wi 'Focus' ⋄ 0 Win∆PopupMenu FilesDesc FilesList"[168] ⎕wi "onChange" "(⎕wi 'self') Win∆LabelUpdate FilesDesc FilesList ⋄ 0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' "[169] ⎕wi "∆rightlabel" "fmSV.fDefAOS.fData.lrfILENAME"[170] [171] ⎕wself←"fmSV.fDefAOS.fData.lrfILENAME" ⎕wi "New" "Label"[172] ⎕wi "scale" 5[173] ⎕wi "visible" (¯1+2×0)[174] ⎕wi "extent" (CharSize×¯2↑1,30)[175] ⎕wi "style" 32[176] ⎕wi "caption" " "[177] where←4↑,"fmSV.fDefAOS.fData.edfILENAME" ⎕wi "∆where"[178] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSV.fDefAOS.fData.edfILENAME" ⎕wi "extent"[179] ⎕wi "∆where" ((x,2)⍴where)[180] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize ⎕wi "∆where")[181] [182] ⎕wself←"fmSV.fDefAOS.fData.llfILENAME" ⎕wi "New" "Label"[183] ⎕wi "scale" 5[184] ⎕wi "style" 2[185] ⎕wi "visible" (¯1+2×0)[186] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Deferreds⍺Data File")))[187] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Deferreds⍺Data File")[188] where←4↑,"fmSV.fDefAOS.fData.edfILENAME" ⎕wi "∆where"[189] size←1↑"fmSV.fDefAOS.fData.edfILENAME" ⎕wi "extent"[190] size←¯3⌈0.5×(1↑⎕wi "extent")-size[191] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[192] ⎕wi "∆where" ((x,2)⍴where)[193] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize ⎕wi "∆where")[194] [195] ⎕wself←"fmSV.fDefAOS.fData.cbFormat" ⎕wi "New" "Combo"[196] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.cbFormat"[197] Fieldcontrol←Fieldcontrol OVER "Combo"[198] ⎕wi "∆name" "Format"[199] ⎕wi "∆type" "Format"[200] ⎕wi "∆mandatory" 1[201] ⎕wi "∆valid" ('D')[202] ⎕wi "∆helpid" 5359[203] ⎕wi "tooltip" "Select the Data Format of File to be Valued"[204] ⎕wi "style" 16 128 256 2[205] ⎕wi "∆where" (2 2⍴0.5 0 0.2 0)[206] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.5 0 0.2 0))[207] PickList←Formats 'D'[208] ⎕wi "∆update" "Formats 'D'"[209] PickList←⊃m2n 1 0↓PickList[210] ⎕wi "list" PickList[211] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑(50×CharSize)⌊Win∆TextSize PickList)[212] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(AbsDict for 'Type' 'Format') at 'Description' 'Parameter' ⋄ 0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' ⋄ UpdateDataVars"[213] ⎕wi "∆rightlabel" "fmSV.fDefAOS.fData.lrFormat"[214] [215] ⎕wself←"fmSV.fDefAOS.fData.lrFormat" ⎕wi "New" "Label"[216] ⎕wi "scale" 5[217] ⎕wi "extent" (CharSize×¯2↑1,40)[218] ⎕wi "style" 32[219] ⎕wi "caption" " "[220] where←4↑,"fmSV.fDefAOS.fData.cbFormat" ⎕wi "∆where"[221] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmSV.fDefAOS.fData.cbFormat" ⎕wi "extent"[222] ⎕wi "∆where" ((x,2)⍴where)[223] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize ⎕wi "∆where")[224] [225] ⎕wself←"fmSV.fDefAOS.fData.llFormat" ⎕wi "New" "Label"[226] ⎕wi "scale" 5[227] ⎕wi "style" 2[228] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Data Format"))[229] ⎕wi "caption" "Data Format"[230] where←4↑,"fmSV.fDefAOS.fData.cbFormat" ⎕wi "∆where"[231] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[232] ⎕wi "∆where" ((x,2)⍴where)[233] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize ⎕wi "∆where")[234] [235] ⎕wself←"fmSV.fDefAOS.fData.ckUseSex" ⎕wi "New" "Check"[236] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.ckUseSex"[237] Fieldcontrol←Fieldcontrol OVER "Check"[238] ⎕wi "∆name" "UseSex"[239] ⎕wi "∆type" "Check"[240] ⎕wi "visible" (¯1+2×0)[241] ⎕wi "tooltip" "Indicate if Sex field to be used in the selection of Sub-Files"[242] ⎕wi "style" 0[243] ⎕wi "caption" "Select by Sex"[244] ⎕wi "∆where" (2 2⍴0.12 0 0.8 0)[245] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.12 0 0.8 0))[246] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[247] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' )"[248] [249] ⎕wself←"fmSV.fDefAOS.fData.ckUseCat" ⎕wi "New" "Check"[250] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.ckUseCat"[251] Fieldcontrol←Fieldcontrol OVER "Check"[252] ⎕wi "∆name" "UseCat"[253] ⎕wi "∆type" "Check"[254] ⎕wi "visible" (¯1+2×0)[255] ⎕wi "tooltip" "Indicate if Category field to be used in the selection of Sub-Files"[256] ⎕wi "style" 0[257] ⎕wi "caption" "Select by Category"[258] ⎕wi "∆where" (2 2⍴0.24 0 0.8 0)[259] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.24 0 0.8 0))[260] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[261] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' )"[262] [263] ⎕wself←"fmSV.fDefAOS.fData.lsCatSels" ⎕wi "New" "List"[264] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.lsCatSels"[265] Fieldcontrol←Fieldcontrol OVER "List"[266] ⎕wi "∆name" "CatSels"[267] ⎕wi "∆type" "List"[268] ⎕wi "∆mandatory" 1[269] ⎕wi "visible" (¯1+2×0)[270] ⎕wi "tooltip" "Select Sex/Category to be Valued"[271] ⎕wi "style" 16 0[272] PickList←UniqueDataSel '/SEX/CAT'[273] ⎕wi "∆update" "UniqueDataSel '/SEX/CAT'"[274] PickList←⊃m2n 1 0↓PickList[275] ⎕wi "list" PickList[276] size←0 0×Win∆TextSize "??? of ??? Selected"[277] size←size⌈(2↑0.5 )×"fmSV.fDefAOS.fData" ⎕wi "size"[278] size←1 0 1 0\(size⌈0,20+¯1↑Win∆TextSize PickList) CDIV "fmSV.fDefAOS.fData" ⎕wi "size"[279] size←0.5×⍴x←Win∆Calcwhere 0.36 0 0.8 0,size[280] x←(size,2)⍴x[281] ⎕wi "∆where" x[282] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize x)[283] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' "[284] ⎕wi "onExit" "⎕wres←0 List∆CHECK 'fmSV.fDefAOS.fData.lsCatSels'"[285] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[286] [287] ⎕wself←"fmSV.fDefAOS.fData.llCatSels" ⎕wi "New" "Label"[288] ⎕wi "scale" 5[289] ⎕wi "style" 2[290] ⎕wi "visible" (¯1+2×0)[291] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Sex/Category⍺Selection")))[292] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Sex/Category⍺Selection")[293] where←4↑,"fmSV.fDefAOS.fData.lsCatSels" ⎕wi "∆where"[294] size←1↑"fmSV.fDefAOS.fData.lsCatSels" ⎕wi "extent"[295] size←¯3⌈0.5×(1↑⎕wi "extent")-size[296] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[297] ⎕wi "∆where" ((x,2)⍴where)[298] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize ⎕wi "∆where")[299] [300] ⎕wself←"fmSV.fDefAOS.fData.ckUseSubs" ⎕wi "New" "Check"[301] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.ckUseSubs"[302] Fieldcontrol←Fieldcontrol OVER "Check"[303] ⎕wi "∆name" "UseSubs"[304] ⎕wi "∆type" "Check"[305] ⎕wi "visible" (¯1+2×0)[306] ⎕wi "tooltip" "Indicate if Existing Sex/Category Sub-File selected (if any) should be used"[307] ⎕wi "style" 0[308] ⎕wi "caption" "Use Existing Sex/Category Sub-File (if any)"[309] ⎕wi "∆where" (2 2⍴0.73 0 0.2 0)[310] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.73 0 0.2 0))[311] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[312] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' )"[313] [314] ⎕wself←"fmSV.fDefAOS.fData.ckDeleteSubs" ⎕wi "New" "Check"[315] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fData.ckDeleteSubs"[316] Fieldcontrol←Fieldcontrol OVER "Check"[317] ⎕wi "∆name" "DeleteSubs"[318] ⎕wi "∆type" "Check"[319] ⎕wi "visible" (¯1+2×0)[320] ⎕wi "tooltip" "Indicate if Existing Sex/Category Sub-File selected can be deleted without confirmation"[321] ⎕wi "style" 0[322] ⎕wi "caption" "Delete Existing Sex/Category Sub-Files (if any) without confirmation"[323] ⎕wi "∆where" (2 2⍴0.86 0 0.2 0)[324] ⎕wi "where" (("fmSV.fDefAOS.fData" ⎕wi "size") Win∆Resize (2 2⍴0.86 0 0.2 0))[325] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[326] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' )"[327] [328] :if 300<fnsize[329]     ((1↑⎕lc) fnsize "FrameV - Modes of Termination") Win∆ProgressBar "MemberUpdate"[330] :endif[331] [332] ⎕wself←"fmSV.fDefAOS.fExit" ⎕wi "New" "Frame"[333] ⎕wi "scale" 5[334] ⎕wi "∆where" (4 2⍴0.2 0 0 0 0.799 0 1 0)[335] ⎕wi "where" (("fmSV.fDefAOS" ⎕wi "size") Win∆Resize (4 2⍴0.2 0 0 0 0.799 0 1 0))[336] ⎕wi "caption" "Modes of Termination"[337] ⎕wi "style" 0[338] ⎕wi "onResize" "AutoResize"[339] [340] ⎕wself←"fmSV.fDefAOS.fExit.lsRetCode" ⎕wi "New" "List"[341] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fExit.lsRetCode"[342] Fieldcontrol←Fieldcontrol OVER "List"[343] ⎕wi "∆name" "RetCode"[344] ⎕wi "∆type" "ListM"[345] ⎕wi "∆helpid" 5360[346] ⎕wi "tooltip" "Select the list of Modes of Termination regarded as Retirements"[347] ⎕wi "style" 16 1[348] PickList←UniqueDataSel 'MOT'[349] ⎕wi "∆update" "UniqueDataSel 'MOT'"[350] PickList←⊃m2n 1 0↓PickList[351] ⎕wi "list" PickList[352] size←0 1×Win∆TextSize "??? of ??? Selected"[353] size←size⌈(2↑0.7 )×"fmSV.fDefAOS.fExit" ⎕wi "size"[354] size←1 0 1 0\(size⌈0,20+¯1↑Win∆TextSize PickList) CDIV "fmSV.fDefAOS.fExit" ⎕wi "size"[355] size←0.5×⍴x←Win∆Calcwhere 0.2 0 0.15 0,size[356] x←(size,2)⍴x[357] ⎕wi "∆where" x[358] ⎕wi "where" (("fmSV.fDefAOS.fExit" ⎕wi "size") Win∆Resize x)[359] ⎕wi "onPaint" "Sel∆LabelUpdate 'fmSV.fDefAOS.fExit.lsRetCode'"[360] ⎕wi "onClick" "Sel∆LabelUpdate 'fmSV.fDefAOS.fExit.lsRetCode' ⋄ 0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' "[361] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 List∆CHECK 'fmSV.fDefAOS.fExit.lsRetCode')/'0 0⍴(⊂⎕wi ''name'') Deferreds_AOS ''Change'' ' "[362] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[363] ⎕wi "∆rightlabel" "fmSV.fDefAOS.fExit.lrRetCode"[364] [365] ⎕wself←"fmSV.fDefAOS.fExit.lrRetCode" ⎕wi "New" "Label"[366] ⎕wi "scale" 5[367] ⎕wi "extent" (CharSize×¯2↑1,19)[368] ⎕wi "style" 32[369] ⎕wi "caption" " "[370] where←4↑,"fmSV.fDefAOS.fExit.lsRetCode" ⎕wi "∆where"[371] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmSV.fDefAOS.fExit.lsRetCode" ⎕wi "where") CDIV 1↑"fmSV.fDefAOS.fExit" ⎕wi "size"),0 0 0[372] ⎕wi "∆where" ((x,2)⍴where)[373] ⎕wi "where" (("fmSV.fDefAOS.fExit" ⎕wi "size") Win∆Resize ⎕wi "∆where")[374] [375] ⎕wself←"fmSV.fDefAOS.fExit.llRetCode" ⎕wi "New" "Label"[376] ⎕wi "scale" 5[377] ⎕wi "style" 2[378] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Retirement"))[379] ⎕wi "caption" "Retirement"[380] where←4↑,"fmSV.fDefAOS.fExit.lsRetCode" ⎕wi "∆where"[381] x←0.5×⍴where←Win∆Calcwhere where-0,(5+1↑⎕wi "extent"),0 0[382] ⎕wi "∆where" ((x,2)⍴where)[383] ⎕wi "where" (("fmSV.fDefAOS.fExit" ⎕wi "size") Win∆Resize ⎕wi "∆where")[384] [385] ⎕wself←"fmSV.fDefAOS.fExit.lsDISCode" ⎕wi "New" "List"[386] Fieldlist←Fieldlist OVER "fmSV.fDefAOS.fExit.lsDISCode"[387] Fieldcontrol←Fieldcontrol OVER "List"[388] ⎕wi "∆name" "DISCode"[389] ⎕wi "∆type" "ListM"[390] ⎕wi "∆helpid" 5360[391] ⎕wi "tooltip" "Select the list of Modes of Termination regarded as Deaths in Deferment"[392] ⎕wi "style" 16 1[393] PickList←UniqueDataSel 'MOT'[394] ⎕wi "∆update" "UniqueDataSel 'MOT'"[395] PickList←⊃m2n 1 0↓PickList[396] ⎕wi "list" PickList[397] size←0 1×Win∆TextSize "??? of ??? Selected"[398] size←size⌈(2↑0.7 )×"fmSV.fDefAOS.fExit" ⎕wi "size"[399] size←1 0 1 0\(size⌈0,20+¯1↑Win∆TextSize PickList) CDIV "fmSV.fDefAOS.fExit" ⎕wi "size"[400] size←0.5×⍴x←Win∆Calcwhere 0.2 0 0.35 0,size[401] x←(size,2)⍴x[402] ⎕wi "∆where" x[403] ⎕wi "where" (("fmSV.fDefAOS.fExit" ⎕wi "size") Win∆Resize x)[404] ⎕wi "onPaint" "Sel∆LabelUpdate 'fmSV.fDefAOS.fExit.lsDISCode'"[405] ⎕wi "onClick" "Sel∆LabelUpdate 'fmSV.fDefAOS.fExit.lsDISCode' ⋄ 0 0⍴(⊂⎕wi 'name') Deferreds_AOS 'Change' "[406] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 List∆CHECK 'fmSV.fDefAOS.fExit.lsDISCode')/'0 0⍴(⊂⎕wi ''name'') Deferreds_AOS ''Change'' ' "[407] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[408] ⎕wi "∆rightlabel" "fmSV.fDefAOS.fExit.lrDISCode"[409] [410] ⎕wself←"fmSV.fDefAOS.fExit.lrDISCode" ⎕wi "New" "Label"[411] ⎕wi "scale" 5[412] ⎕wi "extent" (CharSize×¯2↑1,19)[413] ⎕wi "style" 32[414] ⎕wi "caption" " "[415] where←4↑,"fmSV.fDefAOS.fExit.lsDISCode" ⎕wi "∆where"[416] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmSV.fDefAOS.fExit.lsDISCode" ⎕wi "where") CDIV 1↑"fmSV.fDefAOS.fExit" ⎕wi "size"),0 0 0[417] ⎕wi "∆where" ((x,2)⍴where)[418] ⎕wi "where" (("fmSV.fDefAOS.fExit" ⎕wi "size") Win∆Resize ⎕wi "∆where")[419] [420] ⎕wself←"fmSV.fDefAOS.fExit.llDISCode" ⎕wi "New" "Label"[421] ⎕wi "scale" 5[422] ⎕wi "style" 2[423] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Death In Deferment"))[424] ⎕wi "caption" "Death In Deferment"[425] where←4↑,"fmSV.fDefAOS.fExit.lsDISCode" ⎕wi "∆where"[426] x←0.5×⍴where←Win∆Calcwhere where-0,(5+1↑⎕wi "extent"),0 0[427] ⎕wi "∆where" ((x,2)⍴where)[428] ⎕wi "where" (("fmSV.fDefAOS.fExit" ⎕wi "size") Win∆Resize ⎕wi "∆where")[429] [430] "fmSV.fDefAOS" ⎕wi "∆multifile" "fmSV.fDefAOS.fData.edFILES"[431] "fmSV.fDefAOS" ⎕wi "∆singlefile" "fmSV.fDefAOS.fData.edfILENAME"[432] "fmSV.fDefAOS" ⎕wi "∆format" "fmSV.fDefAOS.fData.cbFormat"[433] "fmSV.fDefAOS" ⎕wi "∆financial" 0[434] "fmSV.fDefAOS" ⎕wi "∆relrules" 1[435] "fmSV.fDefAOS" ⎕wi "∆parm" 0[436] "fmSV.fDefAOS" ⎕wi "∆decr" 0[437] "fmSV.fDefAOS" ⎕wi "∆file" 1[438] "fmSV.fDefAOS" ⎕wi "∆codefile" CodeFile[439] "fmSV.fDefAOS" ⎕wi "∆inputstype" "ClientFile"[440] "fmSV.fDefAOS" ⎕wi "∆inputsentry" "Single"[441] "fmSV.fDefAOS" ⎕wi "∆savecn" (⍳0)[442] "fmSV.fDefAOS" ⎕wi "∆savedesc" ""[443] list←list OVER "fmSV.fDefAOS"[444] "fmSV.fDefAOS" ⎕wi "∆fieldlist" Fieldlist[445] "fmSV.fDefAOS" ⎕wi "∆fieldcontrol" Fieldcontrol[446] childlist←"fmSV" ⎕wi "∆childlist"[447] list←(⊃¯1↑childlist) OVER list[448] childlist[⍴childlist]←⊂list[449] "fmSV" ⎕wi "∆childlist" childlist[450] list←,⎕split list[451] 0 0⍴((∨/¨(⊂".mDeferreds_AOS")⍷¨list)/list) MultiWI "enabled" 1[452] :if 300<fnsize[453]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[454]     Win∆ProgressBar "Hide"[455] :endif[456] "Init" OpenParameters "Deferreds_AOS"[457] "fmSV.bnDeferreds_AOSHelp" ⎕wi "visible" 1[458] "fmSV.bnDeferreds_AOSQuit" ⎕wi "visible" 1[459] "fmSV.bnDeferreds_AOSSave" ⎕wi "visible" 1[460] "#" ⎕wi "focus" "fmSV.fDefAOS.fData.ckFileSelections"[461] :if bar_open←commandbar^"Multi"≡"Single"[462]     bar_open←"fmSV.mDeferreds_AOSFile.m" Win∆CommandBar "SaveHelp"[463] :endif[464] "fmSV" ⎕wi "pointer" 0 ∇