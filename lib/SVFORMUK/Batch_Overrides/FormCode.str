∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Valuation Batch Overrides")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Dialog"[14] [15] ⎕wself←"fmBatchOverride" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos 0.55 1.1×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmBatchOverride"[26] relTests←0[27] 0 Menu_Make "fmSV"[28] 0 Menu_Make "fmBatchOverride"[29] "fmBatchOverride" Win∆CutCopyPaste "Build"[30] "fmBatchOverride" ⎕wi "∆helpid" 2259[31] list←list OVER "fmBatchOverride.bnBatch_OverridesHelp"[32] ⎕wself←"fmBatchOverride.bnBatch_OverridesHelp" ⎕wi "New" "Button"[33] ⎕wi "deferexit" 1[34] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[35] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][36] ⎕wi "∆where" ((x,2)⍴where)[37] ⎕wi "where" (("fmBatchOverride" ⎕wi "size") Win∆Resize ⎕wi "∆where")[38] ⎕wi "tooltip" "SuperVal Help"[39] ⎕wi "onClick" ("fmSV.mBatch_OverridesHelp.mContext"⎕wi "onClick")[40] ⎕wi "caption" "Help"[41] :if buttonimage[42]     ⎕wi "imagelist" "fmSV.iStandard"[43]     ⎕wi "imageindex" 12[44] :endif[45] ⎕wi "visible" ¯1[46] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[47] list←list OVER "fmBatchOverride.bnBatch_OverridesQuit"[48] ⎕wself←"fmBatchOverride.bnBatch_OverridesQuit" ⎕wi "New" "Button"[49] ⎕wi "style" 2[50] ⎕wi "deferexit" 1[51] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[52] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][53] ⎕wi "∆where" ((x,2)⍴where)[54] ⎕wi "where" (("fmBatchOverride" ⎕wi "size") Win∆Resize ⎕wi "∆where")[55] ⎕wi "tooltip" "Cancel and Return"[56] ⎕wi "onClick" ("fmSV.mBatch_OverridesFile.mQuit"⎕wi "onClick")[57] ⎕wi "caption" "Cancel"[58] ⎕wi "∆helpid" 5416[59] ⎕wi "order" .5[60] ⎕wi "visible" ¯1[61] list←list OVER "fmBatchOverride.bnBatch_OverridesSave"[62] ⎕wself←"fmBatchOverride.bnBatch_OverridesSave" ⎕wi "New" "Button"[63] ⎕wi "style" 1[64] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[65] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][66] ⎕wi "∆where" ((x,2)⍴where)[67] ⎕wi "where" (("fmBatchOverride" ⎕wi "size") Win∆Resize ⎕wi "∆where")[68] ⎕wi "tooltip" "Save Parameters"[69] ⎕wi "onClick" ("fmSV.mBatch_OverridesFile.mSave"⎕wi "onClick")[70] ⎕wi "caption" "OK"[71] ⎕wi "∆helpid" 5417[72] ⎕wi "order" .5[73] ⎕wi "visible" ¯1[74] "fmBatchOverride" ⎕wi "∆modified" 1[75] [76] :if 300<fnsize[77]     ((1↑⎕lc) fnsize "FrameV - Valuation Run Options") Win∆ProgressBar "MemberUpdate"[78] :endif[79] [80] ⎕wself←"fmBatchOverride.fRunOpt" ⎕wi "New" "Frame"[81] ⎕wi "scale" 5[82] ⎕wi "∆where" (4 2⍴0 0 0 0 1 ¯45 0.5 0)[83] ⎕wi "where" (("fmBatchOverride" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 1 ¯45 0.5 0))[84] ⎕wi "caption" "Valuation Run Options"[85] ⎕wi "style" 0[86] ⎕wi "onResize" "AutoResize"[87] [88] ⎕wself←"fmBatchOverride.fRunOpt.cbAgeInterp" ⎕wi "New" "Combo"[89] Fieldlist←Fieldlist OVER "fmBatchOverride.fRunOpt.cbAgeInterp"[90] Fieldcontrol←Fieldcontrol OVER "Combo"[91] ⎕wi "∆name" "AgeInterp"[92] ⎕wi "∆type" "Combo"[93] ⎕wi "∆helpid" 5418[94] ⎕wi "tooltip" "Specify Override for Interpolated Exact Age Calculations"[95] ⎕wi "style" 16 128 256 2[96] ⎕wi "∆where" (2 2⍴0.18 0 0.6 0)[97] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize (2 2⍴0.18 0 0.6 0))[98] PickList←⍙POPUPSdict ReadDictFile "YesNo"[99] PickList←⊃m2n 1 0↓PickList[100] PickList←" " OVER PickList[101] ⎕wi "list" PickList[102] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[103] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[104] [105] ⎕wself←"fmBatchOverride.fRunOpt.llAgeInterp" ⎕wi "New" "Label"[106] ⎕wi "scale" 5[107] ⎕wi "style" 2[108] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Interpolated Exact Age Results"))[109] ⎕wi "caption" "Interpolated Exact Age Results"[110] where←4↑,"fmBatchOverride.fRunOpt.cbAgeInterp" ⎕wi "∆where"[111] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[112] ⎕wi "∆where" ((x,2)⍴where)[113] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[114] [115] ⎕wself←"fmBatchOverride.fRunOpt.cbaggopt" ⎕wi "New" "Combo"[116] Fieldlist←Fieldlist OVER "fmBatchOverride.fRunOpt.cbaggopt"[117] Fieldcontrol←Fieldcontrol OVER "Combo"[118] ⎕wi "∆name" "aggopt"[119] ⎕wi "∆type" "Combo"[120] ⎕wi "visible" (¯1+2×uk=1)[121] ⎕wi "∆helpid" 5419[122] ⎕wi "tooltip" "Specify Override for Benefits are to be Aggregated by Age before Valuation"[123] ⎕wi "style" 16 128 256 2[124] ⎕wi "∆where" (2 2⍴0.3 0 0.6 0)[125] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize (2 2⍴0.3 0 0.6 0))[126] PickList←⍙POPUPSdict ReadDictFile "YesNo"[127] PickList←⊃m2n 1 0↓PickList[128] PickList←" " OVER PickList[129] ⎕wi "list" PickList[130] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[131] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[132] [133] ⎕wself←"fmBatchOverride.fRunOpt.llaggopt" ⎕wi "New" "Label"[134] ⎕wi "scale" 5[135] ⎕wi "style" 2[136] ⎕wi "visible" (¯1+2×uk=1)[137] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Aggregate Benefits before Valuing"))[138] ⎕wi "caption" "Aggregate Benefits before Valuing"[139] where←4↑,"fmBatchOverride.fRunOpt.cbaggopt" ⎕wi "∆where"[140] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[141] ⎕wi "∆where" ((x,2)⍴where)[142] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[143] [144] ⎕wself←"fmBatchOverride.fRunOpt.edcontper" ⎕wi "New" "Edit"[145] Fieldlist←Fieldlist OVER "fmBatchOverride.fRunOpt.edcontper"[146] Fieldcontrol←Fieldcontrol OVER "Edit"[147] ⎕wi "∆name" "contper"[148] ⎕wi "∆type" "Num"[149] ⎕wi "∆valid" ('Int' 'Scalar' '+')[150] ⎕wi "∆helpid" 5420[151] ⎕wi "tooltip" "Specify Override for the Control Period (years)"[152] ⎕wi "limit" 2[153] ⎕wi "∆where" (2 2⍴0.42 0 0.6 0)[154] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize (2 2⍴0.42 0 0.6 0))[155] ⎕wi "∆range" "1 99"[156] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBatchOverride.fRunOpt.edcontper')/'0 0⍴(⊂⎕wi ''name'') Batch_Overrides ''Change'' ' "[157] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[158] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[159] ⎕wi "extent" (2+CharSize×1 3)[160] [161] ⎕wself←"fmBatchOverride.fRunOpt.lrcontper" ⎕wi "New" "Label"[162] ⎕wi "scale" 5[163] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[164] ⎕wi "caption" "years"[165] where←4↑,"fmBatchOverride.fRunOpt.edcontper" ⎕wi "∆where"[166] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBatchOverride.fRunOpt.edcontper" ⎕wi "extent"[167] ⎕wi "∆where" ((x,2)⍴where)[168] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[169] [170] ⎕wself←"fmBatchOverride.fRunOpt.llcontper" ⎕wi "New" "Label"[171] ⎕wi "scale" 5[172] ⎕wi "style" 2[173] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Control⍺Period")))[174] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Control⍺Period")[175] where←4↑,"fmBatchOverride.fRunOpt.edcontper" ⎕wi "∆where"[176] size←1↑"fmBatchOverride.fRunOpt.edcontper" ⎕wi "extent"[177] size←¯3⌈0.5×(1↑⎕wi "extent")-size[178] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[179] ⎕wi "∆where" ((x,2)⍴where)[180] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[181] [182] ⎕wself←"fmBatchOverride.fRunOpt.cbaosind" ⎕wi "New" "Combo"[183] Fieldlist←Fieldlist OVER "fmBatchOverride.fRunOpt.cbaosind"[184] Fieldcontrol←Fieldcontrol OVER "Combo"[185] ⎕wi "∆name" "aosind"[186] ⎕wi "∆type" "Combo"[187] ⎕wi "visible" (¯1+2×uk≠0)[188] ⎕wi "enabled" (aosenabled)[189] ⎕wi "∆helpid" 5421[190] ⎕wi "tooltip" "Specify Override for Analysis of Surplus calculations"[191] ⎕wi "style" 16 128 256 2[192] ⎕wi "∆where" (2 2⍴0.76 0 0.6 0)[193] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize (2 2⍴0.76 0 0.6 0))[194] PickList←⍙POPUPSdict ReadDictFile "YesNo"[195] PickList←⊃m2n 1 0↓PickList[196] PickList←" " OVER PickList[197] ⎕wi "list" PickList[198] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[199] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[200] [201] ⎕wself←"fmBatchOverride.fRunOpt.llaosind" ⎕wi "New" "Label"[202] ⎕wi "scale" 5[203] ⎕wi "style" 2[204] ⎕wi "visible" (¯1+2×uk≠0)[205] ⎕wi "enabled" (aosenabled)[206] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Analysis of Surplus"))[207] ⎕wi "caption" "Analysis of Surplus"[208] where←4↑,"fmBatchOverride.fRunOpt.cbaosind" ⎕wi "∆where"[209] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[210] ⎕wi "∆where" ((x,2)⍴where)[211] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[212] [213] ⎕wself←"fmBatchOverride.fRunOpt.cbbencap" ⎕wi "New" "Combo"[214] Fieldlist←Fieldlist OVER "fmBatchOverride.fRunOpt.cbbencap"[215] Fieldcontrol←Fieldcontrol OVER "Combo"[216] ⎕wi "∆name" "bencap"[217] ⎕wi "∆type" "Combo"[218] ⎕wi "visible" (¯1+2×uk=1)[219] ⎕wi "∆helpid" 5422[220] ⎕wi "tooltip" "Specify Override for Accrued Benefits are to be Capped"[221] ⎕wi "style" 16 128 256 2[222] ⎕wi "∆where" (2 2⍴0.88 0 0.6 0)[223] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize (2 2⍴0.88 0 0.6 0))[224] PickList←⍙POPUPSdict ReadDictFile "YesNo"[225] PickList←⊃m2n 1 0↓PickList[226] PickList←" " OVER PickList[227] ⎕wi "list" PickList[228] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[229] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[230] [231] ⎕wself←"fmBatchOverride.fRunOpt.llbencap" ⎕wi "New" "Label"[232] ⎕wi "scale" 5[233] ⎕wi "style" 2[234] ⎕wi "visible" (¯1+2×uk=1)[235] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Cap Accrued Benefits"))[236] ⎕wi "caption" "Cap Accrued Benefits"[237] where←4↑,"fmBatchOverride.fRunOpt.cbbencap" ⎕wi "∆where"[238] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[239] ⎕wi "∆where" ((x,2)⍴where)[240] ⎕wi "where" (("fmBatchOverride.fRunOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[241] [242] :if 300<fnsize[243]     ((1↑⎕lc) fnsize "FrameV - Output Options") Win∆ProgressBar "MemberUpdate"[244] :endif[245] [246] ⎕wself←"fmBatchOverride.fOutOpt" ⎕wi "New" "Frame"[247] ⎕wi "scale" 5[248] ⎕wi "∆where" (4 2⍴0 0 0.5 0 1 ¯45 0.5 0)[249] ⎕wi "where" (("fmBatchOverride" ⎕wi "size") Win∆Resize (4 2⍴0 0 0.5 0 1 ¯45 0.5 0))[250] ⎕wi "caption" "Output Options"[251] ⎕wi "style" 0[252] ⎕wi "onResize" "AutoResize"[253] [254] ⎕wself←"fmBatchOverride.fOutOpt.cbKeepResult" ⎕wi "New" "Combo"[255] Fieldlist←Fieldlist OVER "fmBatchOverride.fOutOpt.cbKeepResult"[256] Fieldcontrol←Fieldcontrol OVER "Combo"[257] ⎕wi "∆name" "KeepResult"[258] ⎕wi "∆type" "Combo"[259] ⎕wi "∆helpid" 5423[260] ⎕wi "tooltip" "Specify Override for the Valuation Results are to stored for Consolidation"[261] ⎕wi "style" 16 128 256 2[262] ⎕wi "∆where" (2 2⍴0.08 0 0.6 0)[263] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize (2 2⍴0.08 0 0.6 0))[264] PickList←⍙POPUPSdict ReadDictFile "YesNo"[265] PickList←⊃m2n 1 0↓PickList[266] PickList←" " OVER PickList[267] ⎕wi "list" PickList[268] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[269] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[270] [271] ⎕wself←"fmBatchOverride.fOutOpt.llKeepResult" ⎕wi "New" "Label"[272] ⎕wi "scale" 5[273] ⎕wi "style" 2[274] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Store Results for Consolidation"))[275] ⎕wi "caption" "Store Results for Consolidation"[276] where←4↑,"fmBatchOverride.fOutOpt.cbKeepResult" ⎕wi "∆where"[277] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[278] ⎕wi "∆where" ((x,2)⍴where)[279] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[280] [281] ⎕wself←"fmBatchOverride.fOutOpt.cbfscopt" ⎕wi "New" "Combo"[282] Fieldlist←Fieldlist OVER "fmBatchOverride.fOutOpt.cbfscopt"[283] Fieldcontrol←Fieldcontrol OVER "Combo"[284] ⎕wi "∆name" "fscopt"[285] ⎕wi "∆type" "Combo"[286] ⎕wi "visible" (¯1+2×uk=1)[287] ⎕wi "enabled" (bALMLDI)[288] ⎕wi "∆helpid" 5424[289] ⎕wi "tooltip" "Specify Override for Cash Flows required for ALM/LDI"[290] ⎕wi "style" 16 128 256 2[291] ⎕wi "∆where" (2 2⍴0.2 0 0.6 0)[292] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize (2 2⍴0.2 0 0.6 0))[293] PickList←⍙POPUPSdict ReadDictFile "YesNo"[294] PickList←⊃m2n 1 0↓PickList[295] PickList←" " OVER PickList[296] ⎕wi "list" PickList[297] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[298] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[299] [300] ⎕wself←"fmBatchOverride.fOutOpt.llfscopt" ⎕wi "New" "Label"[301] ⎕wi "scale" 5[302] ⎕wi "style" 2[303] ⎕wi "visible" (¯1+2×uk=1)[304] ⎕wi "enabled" (bALMLDI)[305] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "ALM/LDI Interface Required"))[306] ⎕wi "caption" "ALM/LDI Interface Required"[307] where←4↑,"fmBatchOverride.fOutOpt.cbfscopt" ⎕wi "∆where"[308] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[309] ⎕wi "∆where" ((x,2)⍴where)[310] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[311] [312] ⎕wself←"fmBatchOverride.fOutOpt.cbIndCashFlow" ⎕wi "New" "Combo"[313] Fieldlist←Fieldlist OVER "fmBatchOverride.fOutOpt.cbIndCashFlow"[314] Fieldcontrol←Fieldcontrol OVER "Combo"[315] ⎕wi "∆name" "IndCashFlow"[316] ⎕wi "∆type" "Combo"[317] ⎕wi "∆helpid" 5425[318] ⎕wi "tooltip" "Specify Override for Individual Member Cash Flows"[319] ⎕wi "style" 16 128 256 2[320] ⎕wi "∆where" (2 2⍴0.29 0 0.6 0)[321] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize (2 2⍴0.29 0 0.6 0))[322] PickList←⍙POPUPSdict ReadDictFile "YesNo"[323] PickList←⊃m2n 1 0↓PickList[324] PickList←" " OVER PickList[325] ⎕wi "list" PickList[326] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[327] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[328] [329] ⎕wself←"fmBatchOverride.fOutOpt.llIndCashFlow" ⎕wi "New" "Label"[330] ⎕wi "scale" 5[331] ⎕wi "style" 2[332] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Individual Member Cash Flows"))[333] ⎕wi "caption" "Individual Member Cash Flows"[334] where←4↑,"fmBatchOverride.fOutOpt.cbIndCashFlow" ⎕wi "∆where"[335] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[336] ⎕wi "∆where" ((x,2)⍴where)[337] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[338] [339] ⎕wself←"fmBatchOverride.fOutOpt.cbVFtables" ⎕wi "New" "Combo"[340] Fieldlist←Fieldlist OVER "fmBatchOverride.fOutOpt.cbVFtables"[341] Fieldcontrol←Fieldcontrol OVER "Combo"[342] ⎕wi "∆name" "VFtables"[343] ⎕wi "∆type" "Combo"[344] ⎕wi "∆helpid" 5426[345] ⎕wi "tooltip" "Specify Override for Valuation Factor Tables output to the Database/Excel"[346] ⎕wi "style" 16 128 256 2[347] ⎕wi "∆where" (2 2⍴0.37 0 0.6 0)[348] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize (2 2⍴0.37 0 0.6 0))[349] PickList←⍙POPUPSdict ReadDictFile "YesNo"[350] PickList←⊃m2n 1 0↓PickList[351] PickList←" " OVER PickList[352] ⎕wi "list" PickList[353] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[354] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Batch_Overrides 'Change' "[355] [356] ⎕wself←"fmBatchOverride.fOutOpt.llVFtables" ⎕wi "New" "Label"[357] ⎕wi "scale" 5[358] ⎕wi "style" 2[359] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Output Valuation Factor Tables"))[360] ⎕wi "caption" "Output Valuation Factor Tables"[361] where←4↑,"fmBatchOverride.fOutOpt.cbVFtables" ⎕wi "∆where"[362] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[363] ⎕wi "∆where" ((x,2)⍴where)[364] ⎕wi "where" (("fmBatchOverride.fOutOpt" ⎕wi "size") Win∆Resize ⎕wi "∆where")[365] [366] "fmBatchOverride" ⎕wi "∆multifile" ""[367] "fmBatchOverride" ⎕wi "∆singlefile" ""[368] "fmBatchOverride" ⎕wi "∆format" ""[369] "fmBatchOverride" ⎕wi "∆financial" 0[370] "fmBatchOverride" ⎕wi "∆relrules" 0[371] "fmBatchOverride" ⎕wi "∆parm" 0[372] "fmBatchOverride" ⎕wi "∆decr" 0[373] "fmBatchOverride" ⎕wi "∆file" 0[374] "fmBatchOverride" ⎕wi "∆codefile" CodeFile[375] "fmBatchOverride" ⎕wi "∆inputstype" ""[376] "fmBatchOverride" ⎕wi "∆inputsentry" ""[377] "fmBatchOverride" ⎕wi "∆savecn" (⍳0)[378] "fmBatchOverride" ⎕wi "∆savedesc" ""[379] list←list OVER "fmBatchOverride"[380] "fmBatchOverride" ⎕wi "∆fieldlist" Fieldlist[381] "fmBatchOverride" ⎕wi "∆fieldcontrol" Fieldcontrol[382] childlist←"fmSV" ⎕wi "∆childlist"[383] list←(⊃¯1↑childlist) OVER list[384] childlist[⍴childlist]←⊂list[385] "fmSV" ⎕wi "∆childlist" childlist[386] list←,⎕split list[387] 0 0⍴((∨/¨(⊂".mBatch_Overrides")⍷¨list)/list) MultiWI "enabled" 1[388] :if 300<fnsize[389]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[390]     Win∆ProgressBar "Hide"[391] :endif[392] "Init" OpenParameters "Batch_Overrides"[393] "fmBatchOverride.bnBatch_OverridesHelp" ⎕wi "visible" 1[394] "fmBatchOverride.bnBatch_OverridesQuit" ⎕wi "visible" 1[395] "fmBatchOverride.bnBatch_OverridesSave" ⎕wi "visible" 1[396] "#" ⎕wi "focus" "fmBatchOverride.fRunOpt.cbAgeInterp"[397] :if ~0∊⍴,Error←Win∆Initialise "Batch_Overrides"[398]     "Quit" EndModule Module[399]     "fmSV" ⎕wi "pointer" 0[400]     0 0⍴"fmBatchOverride" ⎕wi "Delete"[401]     :return[402] :endif[403] :if bar_open←commandbar^"Multi"≡""[404]     bar_open←0×"fmBatchOverride.mBatch_OverridesFile.m" Win∆CommandBar "OKHelp"[405] :endif[406] "fmBatchOverride" ⎕wi "Paint"[407] "fmSV" ⎕wi "pointer" 11[408] "fmBatchOverride" ⎕wi "onWait" "0 0⍴Batch_Overrides 'Wait' ⋄ 'fmBatchOverride' ⎕wi 'modified' 0"[409] 0 0⍴"fmBatchOverride" ⎕wi "Wait"[410] 0 0⍴"fmBatchOverride" ⎕wi "Delete"[411] "fmSV" ⎕wi "pointer" 0 ∇