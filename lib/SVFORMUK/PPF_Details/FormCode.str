∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Scheme PPF Parameters")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Dialog"[14] [15] ⎕wself←"fmPPFDetails" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos 0.9 1 ×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmPPFDetails"[26] relTests←1[27] 0 Menu_Make "fmSV"[28] 1 Menu_Make "fmPPFDetails"[29] "fmPPFDetails" Win∆CutCopyPaste "Build"[30] "fmPPFDetails" ⎕wi "∆helpid" 2156[31] list←list OVER "fmPPFDetails.bnPPF_DetailsHelp"[32] ⎕wself←"fmPPFDetails.bnPPF_DetailsHelp" ⎕wi "New" "Button"[33] ⎕wi "deferexit" 1[34] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[35] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][36] ⎕wi "∆where" ((x,2)⍴where)[37] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize ⎕wi "∆where")[38] ⎕wi "tooltip" "SuperVal Help"[39] ⎕wi "onClick" ("fmSV.mPPF_DetailsHelp.mContext"⎕wi "onClick")[40] ⎕wi "caption" "Help"[41] :if buttonimage[42]     ⎕wi "imagelist" "fmSV.iStandard"[43]     ⎕wi "imageindex" 12[44] :endif[45] ⎕wi "visible" ¯1[46] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[47] list←list OVER "fmPPFDetails.bnPPF_DetailsQuit"[48] ⎕wself←"fmPPFDetails.bnPPF_DetailsQuit" ⎕wi "New" "Button"[49] ⎕wi "style" 2[50] ⎕wi "deferexit" 1[51] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[52] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][53] ⎕wi "∆where" ((x,2)⍴where)[54] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize ⎕wi "∆where")[55] ⎕wi "tooltip" "Quit and Return"[56] ⎕wi "onClick" ("fmSV.mPPF_DetailsFile.mQuit"⎕wi "onClick")[57] ⎕wi "caption" "Quit"[58] ⎕wi "∆helpid" 4189[59] ⎕wi "order" .5[60] ⎕wi "visible" ¯1[61] ControlName ⎕wi "∆quitbutton" "fmPPFDetails.bnPPF_DetailsQuit"[62] list←list OVER "fmPPFDetails.bnPPF_DetailsSave"[63] ⎕wself←"fmPPFDetails.bnPPF_DetailsSave" ⎕wi "New" "Button"[64] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[65] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][66] ⎕wi "∆where" ((x,2)⍴where)[67] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize ⎕wi "∆where")[68] ⎕wi "tooltip" "Save Parameters"[69] ⎕wi "onClick" ("fmSV.mPPF_DetailsFile.mSave"⎕wi "onClick")[70] ⎕wi "caption" "Save"[71] :if buttonimage[72]     ⎕wi "imagelist" "fmSV.iStandard"[73]     ⎕wi "imageindex" 9[74] :endif[75] ⎕wi "∆helpid" 4190[76] ⎕wi "enabled" 0[77] ⎕wi "order" .5[78] ⎕wi "visible" ¯1[79] "fmPPFDetails" ⎕wi "onModified" "('PPF_Details' 'fmPPFDetails.bnPPF_DetailsSave') Win∆SaveEnabled (0≠⎕warg[1])"[80] "fmPPFDetails" ⎕wi "∆audit" 1[81] [82] :if 300<fnsize[83]     ((1↑⎕lc) fnsize "FrameV - PPF Parameters") Win∆ProgressBar "MemberUpdate"[84] :endif[85] [86] ⎕wself←"fmPPFDetails.fParams" ⎕wi "New" "Frame"[87] ⎕wi "scale" 5[88] ⎕wi "∆where" (4 2⍴0 0 0 0 0.28 0 1 0)[89] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 0.28 0 1 0))[90] ⎕wi "caption" "PPF Parameters"[91] ⎕wi "style" 0[92] ⎕wi "onResize" "AutoResize"[93] [94] ⎕wself←"fmPPFDetails.fParams.cbppfFile" ⎕wi "New" "Combo"[95] Fieldlist←Fieldlist OVER "fmPPFDetails.fParams.cbppfFile"[96] Fieldcontrol←Fieldcontrol OVER "Combo"[97] ⎕wi "∆name" "ppfFile"[98] ⎕wi "∆type" "Char"[99] ⎕wi "∆mandatory" 1[100] ⎕wi "visible" (¯1+2×ecflag)[101] ⎕wi "tooltip" "Select the Scheme PPF Parameters File"[102] ⎕wi "style" 16 128 256 2[103] ⎕wi "∆where" (2 2⍴0.6 0 0.6 0)[104] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.6 0))[105] PickList←GetPPFFiles[106] ⎕wi "∆update" "GetPPFFiles"[107] PickList←⊃m2n 1 0↓PickList[108] ⎕wi "list" PickList[109] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[110] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[111] [112] ⎕wself←"fmPPFDetails.fParams.llppfFile" ⎕wi "New" "Label"[113] ⎕wi "scale" 5[114] ⎕wi "style" 2[115] ⎕wi "visible" (¯1+2×ecflag)[116] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "PPF Parameters File"))[117] ⎕wi "caption" "PPF Parameters File"[118] where←4↑,"fmPPFDetails.fParams.cbppfFile" ⎕wi "∆where"[119] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[120] ⎕wi "∆where" ((x,2)⍴where)[121] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize ⎕wi "∆where")[122] [123] ⎕wself←"fmPPFDetails.fParams.cbPPFDate" ⎕wi "New" "Combo"[124] Fieldlist←Fieldlist OVER "fmPPFDetails.fParams.cbPPFDate"[125] Fieldcontrol←Fieldcontrol OVER "Combo"[126] ⎕wi "∆name" "PPFDate"[127] ⎕wi "∆type" "Date"[128] ⎕wi "∆mandatory" 1[129] ⎕wi "enabled" (ppfenabled)[130] ⎕wi "∆helpid" 4191[131] ⎕wi "tooltip" "Select the PPF Yields Date"[132] ⎕wi "style" 16 128 256 2[133] ⎕wi "∆where" (2 2⍴0.2 0 0.15 0)[134] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize (2 2⍴0.2 0 0.15 0))[135] PickList←SVPPFFile GetPPFParms 'Yields'[136] ⎕wi "∆update" "SVPPFFile GetPPFParms 'Yields'"[137] PickList←⊃m2n 1 0↓PickList[138] ⎕wi "list" PickList[139] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[140] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[141] [142] ⎕wself←"fmPPFDetails.fParams.llPPFDate" ⎕wi "New" "Label"[143] ⎕wi "scale" 5[144] ⎕wi "style" 2[145] ⎕wi "enabled" (ppfenabled)[146] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "PPF Yields Date"))[147] ⎕wi "caption" "PPF Yields Date"[148] where←4↑,"fmPPFDetails.fParams.cbPPFDate" ⎕wi "∆where"[149] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[150] ⎕wi "∆where" ((x,2)⍴where)[151] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize ⎕wi "∆where")[152] [153] ⎕wself←"fmPPFDetails.fParams.cbPPFCapDate" ⎕wi "New" "Combo"[154] Fieldlist←Fieldlist OVER "fmPPFDetails.fParams.cbPPFCapDate"[155] Fieldcontrol←Fieldcontrol OVER "Combo"[156] ⎕wi "∆name" "PPFCapDate"[157] ⎕wi "∆type" "Date"[158] ⎕wi "∆mandatory" 1[159] ⎕wi "∆helpid" 4192[160] ⎕wi "tooltip" "Select the PPF Cap Date"[161] ⎕wi "style" 16 128 256 2[162] ⎕wi "∆where" (2 2⍴0.2 0 0.35 0)[163] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize (2 2⍴0.2 0 0.35 0))[164] PickList←SVPPFFile GetPPFParms 'Caps'[165] ⎕wi "∆update" "SVPPFFile GetPPFParms 'Caps'"[166] PickList←⊃m2n 1 0↓PickList[167] ⎕wi "list" PickList[168] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[169] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[170] [171] ⎕wself←"fmPPFDetails.fParams.llPPFCapDate" ⎕wi "New" "Label"[172] ⎕wi "scale" 5[173] ⎕wi "style" 2[174] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "PPF Cap Date"))[175] ⎕wi "caption" "PPF Cap Date"[176] where←4↑,"fmPPFDetails.fParams.cbPPFCapDate" ⎕wi "∆where"[177] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[178] ⎕wi "∆where" ((x,2)⍴where)[179] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize ⎕wi "∆where")[180] [181] ⎕wself←"fmPPFDetails.fParams.cbPPFServiceCap" ⎕wi "New" "Combo"[182] Fieldlist←Fieldlist OVER "fmPPFDetails.fParams.cbPPFServiceCap"[183] Fieldcontrol←Fieldcontrol OVER "Combo"[184] ⎕wi "∆name" "PPFServiceCap"[185] ⎕wi "∆type" "Char"[186] ⎕wi "∆mandatory" 1[187] ⎕wi "∆helpid" 4193[188] ⎕wi "tooltip" "Specify if the Service Related Cap Adjustment is to be applied"[189] ⎕wi "style" 16 128 256 2[190] ⎕wi "∆where" (2 2⍴0.2 0 0.6 0)[191] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize (2 2⍴0.2 0 0.6 0))[192] PickList←⍙POPUPSdict ReadDictFile "PPFServiceCap"[193] PickList←⊃m2n 1 0↓PickList[194] ⎕wi "list" PickList[195] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[196] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[197] [198] ⎕wself←"fmPPFDetails.fParams.llPPFServiceCap" ⎕wi "New" "Label"[199] ⎕wi "scale" 5[200] ⎕wi "style" 2[201] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Service Adjusted Cap"))[202] ⎕wi "caption" "Service Adjusted Cap"[203] where←4↑,"fmPPFDetails.fParams.cbPPFServiceCap" ⎕wi "∆where"[204] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[205] ⎕wi "∆where" ((x,2)⍴where)[206] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize ⎕wi "∆where")[207] [208] ⎕wself←"fmPPFDetails.fParams.cbPPFOverrides" ⎕wi "New" "Combo"[209] Fieldlist←Fieldlist OVER "fmPPFDetails.fParams.cbPPFOverrides"[210] Fieldcontrol←Fieldcontrol OVER "Combo"[211] ⎕wi "∆name" "PPFOverrides"[212] ⎕wi "∆type" "Char"[213] ⎕wi "∆mandatory" 1[214] ⎕wi "enabled" (ppfenabled)[215] ⎕wi "∆helpid" 4194[216] ⎕wi "tooltip" "Select the PPF Overrides Parameters"[217] ⎕wi "style" 16 128 256 2[218] ⎕wi "∆where" (2 2⍴0.6 0 0.15 0)[219] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.15 0))[220] PickList←SVPPFFile GetPPFParms 'Overrides'[221] ⎕wi "∆update" "SVPPFFile GetPPFParms 'Overrides'"[222] PickList←⊃m2n 1 0↓PickList[223] ⎕wi "list" PickList[224] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[225] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[226] [227] ⎕wself←"fmPPFDetails.fParams.llPPFOverrides" ⎕wi "New" "Label"[228] ⎕wi "scale" 5[229] ⎕wi "style" 2[230] ⎕wi "enabled" (ppfenabled)[231] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "PPF Overrides⍺Parameters")))[232] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "PPF Overrides⍺Parameters")[233] where←4↑,"fmPPFDetails.fParams.cbPPFOverrides" ⎕wi "∆where"[234] size←1↑"fmPPFDetails.fParams.cbPPFOverrides" ⎕wi "extent"[235] size←¯3⌈0.5×(1↑⎕wi "extent")-size[236] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[237] ⎕wi "∆where" ((x,2)⍴where)[238] ⎕wi "where" (("fmPPFDetails.fParams" ⎕wi "size") Win∆Resize ⎕wi "∆where")[239] [240] :if 300<fnsize[241]     ((1↑⎕lc) fnsize "FrameV - PPF Proportion Married") Win∆ProgressBar "MemberUpdate"[242] :endif[243] [244] ⎕wself←"fmPPFDetails.fMarried" ⎕wi "New" "Frame"[245] ⎕wi "scale" 5[246] ⎕wi "∆where" (4 2⍴0.28 0 0 0 0.14 0 1 0)[247] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize (4 2⍴0.28 0 0 0 0.14 0 1 0))[248] ⎕wi "caption" "PPF Proportion Married"[249] ⎕wi "style" 0[250] ⎕wi "onResize" "AutoResize"[251] [252] ⎕wself←"fmPPFDetails.fMarried.ckm_HTABind" ⎕wi "New" "Check"[253] Fieldlist←Fieldlist OVER "fmPPFDetails.fMarried.ckm_HTABind"[254] Fieldcontrol←Fieldcontrol OVER "Check"[255] ⎕wi "∆name" "m_HTABind"[256] ⎕wi "∆type" "Check"[257] ⎕wi "enabled" (ppfenabled)[258] ⎕wi "∆helpid" 4195[259] ⎕wi "tooltip" "Check this if Male Proportion Married includes Partners"[260] ⎕wi "style" 0[261] ⎕wi "caption" "Male Proportion Married Include Partners"[262] ⎕wi "∆where" (2 2⍴0.4 0 0.15 0)[263] ⎕wi "where" (("fmPPFDetails.fMarried" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.15 0))[264] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[265] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' )"[266] [267] ⎕wself←"fmPPFDetails.fMarried.ckf_HTABind" ⎕wi "New" "Check"[268] Fieldlist←Fieldlist OVER "fmPPFDetails.fMarried.ckf_HTABind"[269] Fieldcontrol←Fieldcontrol OVER "Check"[270] ⎕wi "∆name" "f_HTABind"[271] ⎕wi "∆type" "Check"[272] ⎕wi "enabled" (ppfenabled)[273] ⎕wi "∆helpid" 4195[274] ⎕wi "tooltip" "Check this if Female Proportion Married includes Partners"[275] ⎕wi "style" 0[276] ⎕wi "caption" "Female Proportion Married Include Partners"[277] ⎕wi "∆where" (2 2⍴0.4 0 0.6 0)[278] ⎕wi "where" (("fmPPFDetails.fMarried" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.6 0))[279] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[280] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' )"[281] [282] :if 300<fnsize[283]     ((1↑⎕lc) fnsize "FrameV - PPF Actives Parameters") Win∆ProgressBar "MemberUpdate"[284] :endif[285] [286] ⎕wself←"fmPPFDetails.fActs" ⎕wi "New" "Frame"[287] ⎕wi "scale" 5[288] ⎕wi "∆where" (4 2⍴0.42 0 0 0 0.14 0 1 0)[289] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize (4 2⍴0.42 0 0 0 0.14 0 1 0))[290] ⎕wi "caption" "PPF Actives Parameters"[291] ⎕wi "style" 0[292] ⎕wi "onResize" "AutoResize"[293] [294] ⎕wself←"fmPPFDetails.fActs.cba_CAPincPre" ⎕wi "New" "Combo"[295] Fieldlist←Fieldlist OVER "fmPPFDetails.fActs.cba_CAPincPre"[296] Fieldcontrol←Fieldcontrol OVER "Combo"[297] ⎕wi "∆name" "a_CAPincPre"[298] ⎕wi "∆type" "Char"[299] ⎕wi "∆mandatory" 1[300] ⎕wi "enabled" (capenabled)[301] ⎕wi "∆helpid" 4196[302] ⎕wi "tooltip" "Select the Actives Cap Increases before Discontinuance"[303] ⎕wi "style" 16 128 256 2[304] ⎕wi "∆where" (2 2⍴0.4 0 0.15 0)[305] ⎕wi "where" (("fmPPFDetails.fActs" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.15 0))[306] PickList←GetFinList 'Inf'[307] ⎕wi "∆update" "GetFinList 'Inf'"[308] PickList←⊃m2n 1 0↓PickList[309] ⎕wi "list" PickList[310] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[311] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[312] ⎕wi "∆rightlabel" "fmPPFDetails.fActs.lra_CAPincPre"[313] [314] ⎕wself←"fmPPFDetails.fActs.lra_CAPincPre" ⎕wi "New" "Label"[315] ⎕wi "scale" 5[316] ⎕wi "enabled" (capenabled)[317] ⎕wi "extent" (CharSize×¯2↑1,2 40)[318] ⎕wi "caption" " "[319] where←4↑,"fmPPFDetails.fActs.cba_CAPincPre" ⎕wi "∆where"[320] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmPPFDetails.fActs.cba_CAPincPre" ⎕wi "extent"[321] ⎕wi "∆where" ((x,2)⍴where)[322] ⎕wi "where" (("fmPPFDetails.fActs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[323] [324] ⎕wself←"fmPPFDetails.fActs.lla_CAPincPre" ⎕wi "New" "Label"[325] ⎕wi "scale" 5[326] ⎕wi "style" 2[327] ⎕wi "enabled" (capenabled)[328] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Cap Increases⍺Before Discontinuance")))[329] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Cap Increases⍺Before Discontinuance")[330] where←4↑,"fmPPFDetails.fActs.cba_CAPincPre" ⎕wi "∆where"[331] size←1↑"fmPPFDetails.fActs.cba_CAPincPre" ⎕wi "extent"[332] size←¯3⌈0.5×(1↑⎕wi "extent")-size[333] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[334] ⎕wi "∆where" ((x,2)⍴where)[335] ⎕wi "where" (("fmPPFDetails.fActs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[336] [337] ⎕wself←"fmPPFDetails.fActs.cba_CAPinc" ⎕wi "New" "Combo"[338] Fieldlist←Fieldlist OVER "fmPPFDetails.fActs.cba_CAPinc"[339] Fieldcontrol←Fieldcontrol OVER "Combo"[340] ⎕wi "∆name" "a_CAPinc"[341] ⎕wi "∆type" "Char"[342] ⎕wi "∆mandatory" 1[343] ⎕wi "enabled" (capenabled)[344] ⎕wi "∆helpid" 4197[345] ⎕wi "tooltip" "Select the Actives Cap Increases after Discontinuance"[346] ⎕wi "style" 16 128 256 2[347] ⎕wi "∆where" (2 2⍴0.4 0 0.6 0)[348] ⎕wi "where" (("fmPPFDetails.fActs" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.6 0))[349] PickList←GetFinList 'Inf'[350] ⎕wi "∆update" "GetFinList 'Inf'"[351] PickList←⊃m2n 1 0↓PickList[352] ⎕wi "list" PickList[353] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[354] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[355] ⎕wi "∆rightlabel" "fmPPFDetails.fActs.lra_CAPinc"[356] [357] ⎕wself←"fmPPFDetails.fActs.lra_CAPinc" ⎕wi "New" "Label"[358] ⎕wi "scale" 5[359] ⎕wi "enabled" (capenabled)[360] ⎕wi "extent" (CharSize×¯2↑1,2 40)[361] ⎕wi "caption" " "[362] where←4↑,"fmPPFDetails.fActs.cba_CAPinc" ⎕wi "∆where"[363] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmPPFDetails.fActs.cba_CAPinc" ⎕wi "extent"[364] ⎕wi "∆where" ((x,2)⍴where)[365] ⎕wi "where" (("fmPPFDetails.fActs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[366] [367] ⎕wself←"fmPPFDetails.fActs.lla_CAPinc" ⎕wi "New" "Label"[368] ⎕wi "scale" 5[369] ⎕wi "style" 2[370] ⎕wi "enabled" (capenabled)[371] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Cap Increases⍺After Discontinuance")))[372] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Cap Increases⍺After Discontinuance")[373] where←4↑,"fmPPFDetails.fActs.cba_CAPinc" ⎕wi "∆where"[374] size←1↑"fmPPFDetails.fActs.cba_CAPinc" ⎕wi "extent"[375] size←¯3⌈0.5×(1↑⎕wi "extent")-size[376] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[377] ⎕wi "∆where" ((x,2)⍴where)[378] ⎕wi "where" (("fmPPFDetails.fActs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[379] [380] :if 300<fnsize[381]     ((1↑⎕lc) fnsize "FrameV - PPF Deferreds Parameters") Win∆ProgressBar "MemberUpdate"[382] :endif[383] [384] ⎕wself←"fmPPFDetails.fDefs" ⎕wi "New" "Frame"[385] ⎕wi "scale" 5[386] ⎕wi "∆where" (4 2⍴0.56 0 0 0 0.23 0 1 0)[387] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize (4 2⍴0.56 0 0 0 0.23 0 1 0))[388] ⎕wi "caption" "PPF Deferreds Parameters"[389] ⎕wi "style" 0[390] ⎕wi "onResize" "AutoResize"[391] [392] ⎕wself←"fmPPFDetails.fDefs.cbd_CAPincPre" ⎕wi "New" "Combo"[393] Fieldlist←Fieldlist OVER "fmPPFDetails.fDefs.cbd_CAPincPre"[394] Fieldcontrol←Fieldcontrol OVER "Combo"[395] ⎕wi "∆name" "d_CAPincPre"[396] ⎕wi "∆type" "Char"[397] ⎕wi "∆mandatory" 1[398] ⎕wi "enabled" (capenabled)[399] ⎕wi "∆helpid" 4196[400] ⎕wi "tooltip" "Select the Deferreds Cap Increases before Discontinuance"[401] ⎕wi "style" 16 128 256 2[402] ⎕wi "∆where" (2 2⍴0.3 0 0.15 0)[403] ⎕wi "where" (("fmPPFDetails.fDefs" ⎕wi "size") Win∆Resize (2 2⍴0.3 0 0.15 0))[404] PickList←GetFinList 'Inf'[405] ⎕wi "∆update" "GetFinList 'Inf'"[406] PickList←⊃m2n 1 0↓PickList[407] ⎕wi "list" PickList[408] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[409] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[410] ⎕wi "∆rightlabel" "fmPPFDetails.fDefs.lrd_CAPincPre"[411] [412] ⎕wself←"fmPPFDetails.fDefs.lrd_CAPincPre" ⎕wi "New" "Label"[413] ⎕wi "scale" 5[414] ⎕wi "enabled" (capenabled)[415] ⎕wi "extent" (CharSize×¯2↑1,2 40)[416] ⎕wi "caption" " "[417] where←4↑,"fmPPFDetails.fDefs.cbd_CAPincPre" ⎕wi "∆where"[418] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmPPFDetails.fDefs.cbd_CAPincPre" ⎕wi "extent"[419] ⎕wi "∆where" ((x,2)⍴where)[420] ⎕wi "where" (("fmPPFDetails.fDefs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[421] [422] ⎕wself←"fmPPFDetails.fDefs.lld_CAPincPre" ⎕wi "New" "Label"[423] ⎕wi "scale" 5[424] ⎕wi "style" 2[425] ⎕wi "enabled" (capenabled)[426] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Cap Increases⍺Before Discontinuance")))[427] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Cap Increases⍺Before Discontinuance")[428] where←4↑,"fmPPFDetails.fDefs.cbd_CAPincPre" ⎕wi "∆where"[429] size←1↑"fmPPFDetails.fDefs.cbd_CAPincPre" ⎕wi "extent"[430] size←¯3⌈0.5×(1↑⎕wi "extent")-size[431] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[432] ⎕wi "∆where" ((x,2)⍴where)[433] ⎕wi "where" (("fmPPFDetails.fDefs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[434] [435] ⎕wself←"fmPPFDetails.fDefs.cbd_CAPinc" ⎕wi "New" "Combo"[436] Fieldlist←Fieldlist OVER "fmPPFDetails.fDefs.cbd_CAPinc"[437] Fieldcontrol←Fieldcontrol OVER "Combo"[438] ⎕wi "∆name" "d_CAPinc"[439] ⎕wi "∆type" "Char"[440] ⎕wi "∆mandatory" 1[441] ⎕wi "enabled" (capenabled)[442] ⎕wi "∆helpid" 4197[443] ⎕wi "tooltip" "Select the Deferreds Cap Increases after Discontinuance"[444] ⎕wi "style" 16 128 256 2[445] ⎕wi "∆where" (2 2⍴0.3 0 0.6 0)[446] ⎕wi "where" (("fmPPFDetails.fDefs" ⎕wi "size") Win∆Resize (2 2⍴0.3 0 0.6 0))[447] PickList←GetFinList 'Inf'[448] ⎕wi "∆update" "GetFinList 'Inf'"[449] PickList←⊃m2n 1 0↓PickList[450] ⎕wi "list" PickList[451] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[452] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[453] ⎕wi "∆rightlabel" "fmPPFDetails.fDefs.lrd_CAPinc"[454] [455] ⎕wself←"fmPPFDetails.fDefs.lrd_CAPinc" ⎕wi "New" "Label"[456] ⎕wi "scale" 5[457] ⎕wi "enabled" (capenabled)[458] ⎕wi "extent" (CharSize×¯2↑1,2 40)[459] ⎕wi "caption" " "[460] where←4↑,"fmPPFDetails.fDefs.cbd_CAPinc" ⎕wi "∆where"[461] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmPPFDetails.fDefs.cbd_CAPinc" ⎕wi "extent"[462] ⎕wi "∆where" ((x,2)⍴where)[463] ⎕wi "where" (("fmPPFDetails.fDefs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[464] [465] ⎕wself←"fmPPFDetails.fDefs.lld_CAPinc" ⎕wi "New" "Label"[466] ⎕wi "scale" 5[467] ⎕wi "style" 2[468] ⎕wi "enabled" (capenabled)[469] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Cap Increases⍺After Discontinuance")))[470] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Cap Increases⍺After Discontinuance")[471] where←4↑,"fmPPFDetails.fDefs.cbd_CAPinc" ⎕wi "∆where"[472] size←1↑"fmPPFDetails.fDefs.cbd_CAPinc" ⎕wi "extent"[473] size←¯3⌈0.5×(1↑⎕wi "extent")-size[474] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[475] ⎕wi "∆where" ((x,2)⍴where)[476] ⎕wi "where" (("fmPPFDetails.fDefs" ⎕wi "size") Win∆Resize ⎕wi "∆where")[477] [478] ⎕wself←"fmPPFDetails.fDefs.ckMOOOverride" ⎕wi "New" "Check"[479] Fieldlist←Fieldlist OVER "fmPPFDetails.fDefs.ckMOOOverride"[480] Fieldcontrol←Fieldcontrol OVER "Check"[481] ⎕wi "∆name" "MOOOverride"[482] ⎕wi "∆type" "Check"[483] ⎕wi "∆helpid" 4198[484] ⎕wi "style" 0[485] ⎕wi "caption" "Override PUP 'Ignore for DBR' according to PUP PPF Service Period (Pre 1997 (Yes) and Post 1997 (No))"[486] ⎕wi "∆where" (2 2⍴0.7 0 0.4 0)[487] ⎕wi "where" (("fmPPFDetails.fDefs" ⎕wi "size") Win∆Resize (2 2⍴0.7 0 0.4 0))[488] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[489] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' )"[490] [491] :if 300<fnsize[492]     ((1↑⎕lc) fnsize "FrameV - PPF Pensioners Parameters") Win∆ProgressBar "MemberUpdate"[493] :endif[494] [495] ⎕wself←"fmPPFDetails.fPens" ⎕wi "New" "Frame"[496] ⎕wi "scale" 5[497] ⎕wi "∆where" (4 2⍴0.79 0 0 0 0.14 0 1 0)[498] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize (4 2⍴0.79 0 0 0 0.14 0 1 0))[499] ⎕wi "caption" "PPF Pensioners Parameters"[500] ⎕wi "style" 0[501] ⎕wi "onResize" "AutoResize"[502] [503] ⎕wself←"fmPPFDetails.fPens.cbp_PPFGMPREV1" ⎕wi "New" "Combo"[504] Fieldlist←Fieldlist OVER "fmPPFDetails.fPens.cbp_PPFGMPREV1"[505] Fieldcontrol←Fieldcontrol OVER "Combo"[506] ⎕wi "∆name" "p_PPFGMPREV1"[507] ⎕wi "∆type" "Char"[508] ⎕wi "∆mandatory" 1[509] ⎕wi "enabled" (ppfenabled)[510] ⎕wi "∆helpid" 4199[511] ⎕wi "tooltip" "Select the Pensioners PPF Revaluation to SPA"[512] ⎕wi "style" 16 128 256 2[513] ⎕wi "∆where" (2 2⍴0.4 0 0.15 0)[514] ⎕wi "where" (("fmPPFDetails.fPens" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.15 0))[515] PickList←GetFinList 'Rev'[516] ⎕wi "∆update" "GetFinList 'Rev'"[517] PickList←⊃m2n 1 0↓PickList[518] ⎕wi "list" PickList[519] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[520] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') PPF_Details 'Change' "[521] ⎕wi "∆rightlabel" "fmPPFDetails.fPens.lrp_PPFGMPREV1"[522] [523] ⎕wself←"fmPPFDetails.fPens.lrp_PPFGMPREV1" ⎕wi "New" "Label"[524] ⎕wi "scale" 5[525] ⎕wi "enabled" (ppfenabled)[526] ⎕wi "extent" (CharSize×¯2↑1,2 40)[527] ⎕wi "caption" " "[528] where←4↑,"fmPPFDetails.fPens.cbp_PPFGMPREV1" ⎕wi "∆where"[529] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmPPFDetails.fPens.cbp_PPFGMPREV1" ⎕wi "extent"[530] ⎕wi "∆where" ((x,2)⍴where)[531] ⎕wi "where" (("fmPPFDetails.fPens" ⎕wi "size") Win∆Resize ⎕wi "∆where")[532] [533] ⎕wself←"fmPPFDetails.fPens.llp_PPFGMPREV1" ⎕wi "New" "Label"[534] ⎕wi "scale" 5[535] ⎕wi "style" 2[536] ⎕wi "enabled" (ppfenabled)[537] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "PPF GMP⍺Revaluation to SPA")))[538] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "PPF GMP⍺Revaluation to SPA")[539] where←4↑,"fmPPFDetails.fPens.cbp_PPFGMPREV1" ⎕wi "∆where"[540] size←1↑"fmPPFDetails.fPens.cbp_PPFGMPREV1" ⎕wi "extent"[541] size←¯3⌈0.5×(1↑⎕wi "extent")-size[542] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[543] ⎕wi "∆where" ((x,2)⍴where)[544] ⎕wi "where" (("fmPPFDetails.fPens" ⎕wi "size") Win∆Resize ⎕wi "∆where")[545] [546] :if 300<fnsize[547]     ((1↑⎕lc) fnsize "Frame - Buttons") Win∆ProgressBar "MemberUpdate"[548] :endif[549] [550] ⎕wself←"fmPPFDetails.fButtons" ⎕wi "New" "Frame"[551] ⎕wi "scale" 5[552] ⎕wi "∆where" (4 2⍴0.93 0 0 0 0.069 0 1 0)[553] ⎕wi "where" (("fmPPFDetails" ⎕wi "size") Win∆Resize (4 2⍴0.93 0 0 0 0.069 0 1 0))[554] ⎕wi "style" 7[555] ⎕wi "onResize" "AutoResize"[556] list←list OVER "fmPPFDetails.fButtons.bnPPF_DetailsEditFin"[557] ⎕wself←"fmPPFDetails.fButtons.bnPPF_DetailsEditFin" ⎕wi "New" "Button"[558] ⎕wi "deferexit" 1[559] ⎕wi "extent" (size←1.2 1.384615385×buttonsize×1⌈CharSize÷13 6)[560] ⎕wi "∆where" (2 2⍴0.1 0 0.28 0)[561] ⎕wi "where" (("fmPPFDetails.fButtons" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.28 0))[562] ⎕wi "tooltip" "Edit/Add the Scheme Financial Assumptions"[563] ⎕wi "onClick" ("fmSV.mPPF_DetailsFile.mEditFin"⎕wi "onClick")[564] ⎕wi "∆helpid" 4200[565] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Edit Scheme⍺Financials")[566] list←list OVER "fmPPFDetails.fButtons.bnPPF_DetailsEditYield"[567] ⎕wself←"fmPPFDetails.fButtons.bnPPF_DetailsEditYield" ⎕wi "New" "Button"[568] ⎕wi "deferexit" 1[569] ⎕wi "extent" (size←1.2 1.384615385×buttonsize×1⌈CharSize÷13 6)[570] ⎕wi "∆where" (2 2⍴0.1 0 0.4 0)[571] ⎕wi "where" (("fmPPFDetails.fButtons" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.4 0))[572] ⎕wi "tooltip" "Edit/Add the PPF Yields Definitions"[573] ⎕wi "onClick" ("fmSV.mPPF_DetailsFile.mEditYield"⎕wi "onClick")[574] ⎕wi "∆helpid" 4201[575] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Edit PPF⍺Yields")[576] list←list OVER "fmPPFDetails.fButtons.bnPPF_DetailsEditCap"[577] ⎕wself←"fmPPFDetails.fButtons.bnPPF_DetailsEditCap" ⎕wi "New" "Button"[578] ⎕wi "deferexit" 1[579] ⎕wi "extent" (size←1.2 1.384615385×buttonsize×1⌈CharSize÷13 6)[580] ⎕wi "∆where" (2 2⍴0.1 0 0.52 0)[581] ⎕wi "where" (("fmPPFDetails.fButtons" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.52 0))[582] ⎕wi "tooltip" "Edit/Add the PPF Caps Definitions"[583] ⎕wi "onClick" ("fmSV.mPPF_DetailsFile.mEditCap"⎕wi "onClick")[584] ⎕wi "∆helpid" 4202[585] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Edit PPF⍺Caps")[586] list←list OVER "fmPPFDetails.fButtons.bnPPF_DetailsEditOver"[587] ⎕wself←"fmPPFDetails.fButtons.bnPPF_DetailsEditOver" ⎕wi "New" "Button"[588] ⎕wi "deferexit" 1[589] ⎕wi "extent" (size←1.2 1.384615385×buttonsize×1⌈CharSize÷13 6)[590] ⎕wi "∆where" (2 2⍴0.1 0 0.64 0)[591] ⎕wi "where" (("fmPPFDetails.fButtons" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.64 0))[592] ⎕wi "tooltip" "Edit/Add the PPF Overrides Definitions"[593] ⎕wi "onClick" ("fmSV.mPPF_DetailsFile.mEditOver"⎕wi "onClick")[594] ⎕wi "∆helpid" 4203[595] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Edit PPF⍺Overrides")[596] [597] "fmPPFDetails" ⎕wi "∆multifile" ""[598] "fmPPFDetails" ⎕wi "∆singlefile" ""[599] "fmPPFDetails" ⎕wi "∆format" ""[600] "fmPPFDetails" ⎕wi "∆financial" 1[601] "fmPPFDetails" ⎕wi "∆relrules" 1[602] "fmPPFDetails" ⎕wi "∆parm" 0[603] "fmPPFDetails" ⎕wi "∆decr" 0[604] "fmPPFDetails" ⎕wi "∆file" 0[605] "fmPPFDetails" ⎕wi "∆codefile" CodeFile[606] "fmPPFDetails" ⎕wi "∆inputstype" "ClientFile"[607] "fmPPFDetails" ⎕wi "∆inputsentry" "Single"[608] "fmPPFDetails" ⎕wi "∆savecn" (⍳0)[609] "fmPPFDetails" ⎕wi "∆savedesc" ""[610] list←list OVER "fmPPFDetails"[611] "fmPPFDetails" ⎕wi "∆fieldlist" Fieldlist[612] "fmPPFDetails" ⎕wi "∆fieldcontrol" Fieldcontrol[613] childlist←"fmSV" ⎕wi "∆childlist"[614] list←(⊃¯1↑childlist) OVER list[615] childlist[⍴childlist]←⊂list[616] "fmSV" ⎕wi "∆childlist" childlist[617] list←,⎕split list[618] 0 0⍴((∨/¨(⊂".mPPF_Details")⍷¨list)/list) MultiWI "enabled" 1[619] :if 300<fnsize[620]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[621]     Win∆ProgressBar "Hide"[622] :endif[623] "Init" OpenParameters "PPF_Details"[624] "fmPPFDetails.bnPPF_DetailsHelp" ⎕wi "visible" 1[625] "fmPPFDetails.bnPPF_DetailsQuit" ⎕wi "visible" 1[626] "fmPPFDetails.bnPPF_DetailsSave" ⎕wi "visible" 1[627] "#" ⎕wi "focus" "fmPPFDetails.fParams.cbppfFile"[628] :if ~0∊⍴,Error←Win∆Initialise "PPF_Details"[629]     "Quit" EndModule Module[630]     "fmSV" ⎕wi "pointer" 0[631]     0 0⍴"fmPPFDetails" ⎕wi "Delete"[632]     :return[633] :endif[634] :if bar_open←commandbar^"Multi"≡"Single"[635]     bar_open←0×"fmPPFDetails.mPPF_DetailsFile.m" Win∆CommandBar "SaveHelp"[636] :endif[637] "fmPPFDetails" ⎕wi "Paint"[638] "fmSV" ⎕wi "pointer" 11[639] "fmPPFDetails" ⎕wi "onWait" "0 0⍴PPF_Details 'Wait'"[640] 0 0⍴"fmPPFDetails" ⎕wi "Wait"[641] 0 0⍴"fmPPFDetails" ⎕wi "Delete"[642] "fmSV" ⎕wi "pointer" 0 ∇