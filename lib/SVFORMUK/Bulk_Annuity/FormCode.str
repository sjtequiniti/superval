∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Bulk Annuity Calculator")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Dialog"[14] [15] ⎕wself←"fmBulkAnn" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos 1 1 ×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmBulkAnn.sBulk_Annuity"[26] relTests←0[27] 0 Menu_Make "fmSV"[28] 1 Menu_Make "fmBulkAnn"[29] "fmBulkAnn" Win∆CutCopyPaste "Build"[30] [31] ⎕wself←"fmBulkAnn.sBulk_Annuity" ⎕wi "New" "Selector" "Hide"[32] ⎕wi "scale" 5[33] ⎕wi "style" (32+8×basisTabAll)[34] ⎕wi "fixedtabsize" (20 85×1⌈CharSize÷13 6)[35] ⎕wi "padding" 2 5[36] ⎕wi "∆where" (4 2⍴0 0 0 0 1 ¯45 1 0)[37] ⎕wi "where" (("fmBulkAnn" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 1 ¯45 1 0))[38] ⎕wi "onResize" "AutoResize"[39] "fmBulkAnn.sBulk_Annuity" Win∆SelPageChange ""[40] list←list OVER "fmBulkAnn.bnBulk_AnnuityHelp"[41] ⎕wself←"fmBulkAnn.bnBulk_AnnuityHelp" ⎕wi "New" "Button"[42] ⎕wi "deferexit" 1[43] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[44] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][45] ⎕wi "∆where" ((x,2)⍴where)[46] ⎕wi "where" (("fmBulkAnn" ⎕wi "size") Win∆Resize ⎕wi "∆where")[47] ⎕wi "tooltip" "SuperVal Help"[48] ⎕wi "onClick" ("fmSV.mBulk_AnnuityHelp.mContext"⎕wi "onClick")[49] ⎕wi "caption" "Help"[50] :if buttonimage[51]     ⎕wi "imagelist" "fmSV.iStandard"[52]     ⎕wi "imageindex" 12[53] :endif[54] ⎕wi "visible" ¯1[55] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[56] list←list OVER "fmBulkAnn.bnBulk_AnnuityQuit"[57] ⎕wself←"fmBulkAnn.bnBulk_AnnuityQuit" ⎕wi "New" "Button"[58] ⎕wi "style" 2[59] ⎕wi "deferexit" 1[60] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[61] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][62] ⎕wi "∆where" ((x,2)⍴where)[63] ⎕wi "where" (("fmBulkAnn" ⎕wi "size") Win∆Resize ⎕wi "∆where")[64] ⎕wi "tooltip" "Quit and Return"[65] ⎕wi "onClick" ("fmSV.mBulk_AnnuityFile.mQuit"⎕wi "onClick")[66] ⎕wi "caption" "Quit"[67] ⎕wi "∆helpid" 4044[68] ⎕wi "order" .5[69] ⎕wi "visible" ¯1[70] ControlName ⎕wi "∆quitbutton" "fmBulkAnn.bnBulk_AnnuityQuit"[71] list←list OVER "fmBulkAnn.bnBulk_AnnuitySave"[72] ⎕wself←"fmBulkAnn.bnBulk_AnnuitySave" ⎕wi "New" "Button"[73] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[74] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][75] ⎕wi "∆where" ((x,2)⍴where)[76] ⎕wi "where" (("fmBulkAnn" ⎕wi "size") Win∆Resize ⎕wi "∆where")[77] ⎕wi "tooltip" "Save Parameters"[78] ⎕wi "onClick" ("fmSV.mBulk_AnnuityFile.mSave"⎕wi "onClick")[79] ⎕wi "caption" "Save"[80] :if buttonimage[81]     ⎕wi "imagelist" "fmSV.iStandard"[82]     ⎕wi "imageindex" 9[83] :endif[84] ⎕wi "∆helpid" 4045[85] ⎕wi "enabled" 0[86] ⎕wi "order" .5[87] ⎕wi "visible" ¯1[88] "fmBulkAnn" ⎕wi "onModified" "('Bulk_Annuity' 'fmBulkAnn.bnBulk_AnnuitySave') Win∆SaveEnabled (0≠⎕warg[1])"[89] list←list OVER "fmBulkAnn.bnBulk_AnnuitySaveAs"[90] ⎕wself←"fmBulkAnn.bnBulk_AnnuitySaveAs" ⎕wi "New" "Button"[91] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[92] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][93] ⎕wi "∆where" ((x,2)⍴where)[94] ⎕wi "where" (("fmBulkAnn" ⎕wi "size") Win∆Resize ⎕wi "∆where")[95] ⎕wi "tooltip" "Save Parameters As ..."[96] ⎕wi "onClick" ("fmSV.mBulk_AnnuityFile.mSaveAs"⎕wi "onClick")[97] ⎕wi "caption" "Save As"[98] ⎕wi "∆helpid" 4046[99] ⎕wi "order" .5[100] ⎕wi "visible" ¯1[101] list←list OVER "fmBulkAnn.bnBulk_AnnuityRun"[102] ⎕wself←"fmBulkAnn.bnBulk_AnnuityRun" ⎕wi "New" "Button"[103] ⎕wi "style" 1[104] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[105] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][106] ⎕wi "∆where" ((x,2)⍴where)[107] ⎕wi "where" (("fmBulkAnn" ⎕wi "size") Win∆Resize ⎕wi "∆where")[108] ⎕wi "tooltip" "Save Parameters and Run Bulk Annuity Calculator"[109] ⎕wi "onClick" ("fmSV.mBulk_AnnuityFile.mRun"⎕wi "onClick")[110] ⎕wi "caption" "Run"[111] :if buttonimage[112]     ⎕wi "imagelist" "fmSV.iStandard"[113]     ⎕wi "imageindex" 33[114] :endif[115] ⎕wi "∆helpid" 4047[116] ⎕wi "order" .5[117] ⎕wi "visible" ¯1[118] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆audit" 1[119] [120] Fieldlist←Fieldcontrol←0 0⍴""[121] [122] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment" ⎕wi "New" "Page"[123] ⎕wi "caption" "Payment"[124] ⎕wi "scale" 5[125] ⎕wi "imageindex" 4[126] ⎕wi "onResize" "AutoResize"[127] ⎕wi "∆helpid" 2111[128] :if ~0∊⍴"fmSV.mBulk_AnnuityGoTo" ⎕wi "self"[129]     ⎕wself←"fmSV.mBulk_AnnuityGoTo.mPayment" ⎕wi "New" "Menu"[130]     ⎕wi "caption" "Payment"[131]     ⎕wi "prompt" "Go to Payment Page"[132]     ⎕wi "onClick" "'fmBulkAnn.sBulk_Annuity' ⎕wi 'value' (('fmBulkAnn.sBulk_Annuity' ⎕wi 'pages')⍳⊂'pgPayment')"[133] :endif[134] ⎕wgive 0[135] "fmBulkAnn.sBulk_Annuity" ⎕wi "value" (⍴"fmBulkAnn.sBulk_Annuity" ⎕wi "pages")[136] [137] :if 300<fnsize[138]     ((1↑⎕lc) fnsize "FrameV - Payment Parameters") Win∆ProgressBar "MemberUpdate"[139] :endif[140] [141] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "New" "Frame"[142] ⎕wi "scale" 5[143] ⎕wi "∆where" (4 2⍴0 0 0 0 0.28 0 1 0)[144] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 0.28 0 1 0))[145] ⎕wi "caption" "Payment Parameters"[146] ⎕wi "style" 0[147] ⎕wi "onResize" "AutoResize"[148] [149] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edBAGE" ⎕wi "New" "Edit"[150] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edBAGE"[151] Fieldcontrol←Fieldcontrol OVER "Edit"[152] ⎕wi "∆name" "BAGE"[153] ⎕wi "∆type" "Num"[154] ⎕wi "∆mandatory" 1[155] ⎕wi "∆valid" ('Int' 'Scalar' '0+')[156] ⎕wi "∆helpid" 4048[157] ⎕wi "tooltip" "Specify the Primary Annuitant's Start Age in years"[158] ⎕wi "limit" 3[159] ⎕wi "∆where" (2 2⍴0.1 0 0.25 0)[160] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.25 0))[161] ⎕wi "∆range" "0 119"[162] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edBAGE')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[163] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[164] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[165] ⎕wi "extent" (2+CharSize×1 4)[166] [167] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.lrBAGE" ⎕wi "New" "Label"[168] ⎕wi "scale" 5[169] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[170] ⎕wi "caption" "years"[171] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edBAGE" ⎕wi "∆where"[172] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edBAGE" ⎕wi "extent"[173] ⎕wi "∆where" ((x,2)⍴where)[174] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[175] [176] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.llBAGE" ⎕wi "New" "Label"[177] ⎕wi "scale" 5[178] ⎕wi "style" 2[179] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Primary Annuitant: Start Age (x)"))[180] ⎕wi "caption" "Primary Annuitant: Start Age (x)"[181] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edBAGE" ⎕wi "∆where"[182] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[183] ⎕wi "∆where" ((x,2)⍴where)[184] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[185] [186] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edEAGE" ⎕wi "New" "Edit"[187] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edEAGE"[188] Fieldcontrol←Fieldcontrol OVER "Edit"[189] ⎕wi "∆name" "EAGE"[190] ⎕wi "∆type" "Num"[191] ⎕wi "∆mandatory" 1[192] ⎕wi "∆valid" ('Int' 'Scalar' '0+')[193] ⎕wi "∆helpid" 4048[194] ⎕wi "tooltip" "Specify the Primary Annuitant's End Age in years"[195] ⎕wi "limit" 3[196] ⎕wi "∆where" (2 2⍴0.1 0 0.55 0)[197] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.55 0))[198] ⎕wi "∆range" "0 119"[199] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edEAGE')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[200] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[201] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[202] ⎕wi "extent" (2+CharSize×1 4)[203] [204] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.lrEAGE" ⎕wi "New" "Label"[205] ⎕wi "scale" 5[206] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[207] ⎕wi "caption" "years"[208] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edEAGE" ⎕wi "∆where"[209] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edEAGE" ⎕wi "extent"[210] ⎕wi "∆where" ((x,2)⍴where)[211] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[212] [213] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.llEAGE" ⎕wi "New" "Label"[214] ⎕wi "scale" 5[215] ⎕wi "style" 2[216] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "End Age"))[217] ⎕wi "caption" "End Age"[218] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edEAGE" ⎕wi "∆where"[219] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[220] ⎕wi "∆where" ((x,2)⍴where)[221] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[222] [223] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edgp" ⎕wi "New" "Edit"[224] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edgp"[225] Fieldcontrol←Fieldcontrol OVER "Edit"[226] ⎕wi "∆name" "gp"[227] ⎕wi "∆type" "Num"[228] ⎕wi "∆valid" ('Int' 'Scalar' '0+')[229] ⎕wi "∆helpid" 4049[230] ⎕wi "tooltip" "Specify the Remaining Guarantee Period in years"[231] ⎕wi "limit" 3[232] ⎕wi "∆where" (2 2⍴0.34 0 0.25 0)[233] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.34 0 0.25 0))[234] ⎕wi "∆range" "0 25"[235] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edgp')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[236] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[237] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[238] ⎕wi "extent" (2+CharSize×1 4)[239] [240] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.llgp" ⎕wi "New" "Label"[241] ⎕wi "scale" 5[242] ⎕wi "style" 2[243] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Guarantee Period (years)"))[244] ⎕wi "caption" "Guarantee Period (years)"[245] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edgp" ⎕wi "∆where"[246] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[247] ⎕wi "∆where" ((x,2)⍴where)[248] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[249] [250] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.ckgpOlap" ⎕wi "New" "Check"[251] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.ckgpOlap"[252] Fieldcontrol←Fieldcontrol OVER "Check"[253] ⎕wi "∆name" "gpOlap"[254] ⎕wi "∆type" "Check"[255] ⎕wi "∆helpid" 4050[256] ⎕wi "style" 0[257] ⎕wi "caption" "Overlap on Death in Guarantee Period"[258] ⎕wi "∆where" (2 2⍴0.34 0 0.55 0)[259] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.34 0 0.55 0))[260] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[261] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' )"[262] [263] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.ckDISC" ⎕wi "New" "Check"[264] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.ckDISC"[265] Fieldcontrol←Fieldcontrol OVER "Check"[266] ⎕wi "∆name" "DISC"[267] ⎕wi "∆type" "Check"[268] ⎕wi "∆helpid" 4051[269] ⎕wi "style" 0[270] ⎕wi "caption" "Discounted LS on Death in Guarantee Period"[271] ⎕wi "∆where" (2 2⍴0.34 0 0.75 0)[272] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.34 0 0.75 0))[273] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[274] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' )"[275] [276] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.eddefage" ⎕wi "New" "Edit"[277] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.eddefage"[278] Fieldcontrol←Fieldcontrol OVER "Edit"[279] ⎕wi "∆name" "defage"[280] ⎕wi "∆type" "Num"[281] ⎕wi "∆valid" ('Int' 'Scalar' '0+')[282] ⎕wi "∆helpid" 4052[283] ⎕wi "tooltip" "Specify the Pension Deferment Age in years
(expressed as the age of the Primary Annuitant)"[284] ⎕wi "limit" 3[285] ⎕wi "∆where" (2 2⍴0.58 0 0.25 0)[286] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.58 0 0.25 0))[287] ⎕wi "∆range" "0 99"[288] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fParms.eddefage')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[289] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[290] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[291] ⎕wi "extent" (2+CharSize×1 4)[292] [293] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.lrdefage" ⎕wi "New" "Label"[294] ⎕wi "scale" 5[295] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[296] ⎕wi "caption" "years"[297] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.eddefage" ⎕wi "∆where"[298] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.eddefage" ⎕wi "extent"[299] ⎕wi "∆where" ((x,2)⍴where)[300] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[301] [302] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.lldefage" ⎕wi "New" "Label"[303] ⎕wi "scale" 5[304] ⎕wi "style" 2[305] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Deferment Age"))[306] ⎕wi "caption" "Deferment Age"[307] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.eddefage" ⎕wi "∆where"[308] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[309] ⎕wi "∆where" ((x,2)⍴where)[310] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[311] [312] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edtop" ⎕wi "New" "Edit"[313] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edtop"[314] Fieldcontrol←Fieldcontrol OVER "Edit"[315] ⎕wi "∆name" "top"[316] ⎕wi "∆type" "Num"[317] ⎕wi "∆mandatory" 1[318] ⎕wi "∆valid" ('Int' 'Scalar' '0+')[319] ⎕wi "∆helpid" 4053[320] ⎕wi "tooltip" "Specify the Pension Ceasing Age in years
(expressed as the age of the Primary Annuitant)"[321] ⎕wi "limit" 3[322] ⎕wi "∆where" (2 2⍴0.58 0 0.55 0)[323] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.58 0 0.55 0))[324] ⎕wi "∆range" "0 119"[325] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edtop')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[326] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[327] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊8 32 48 49 50 51 52 53 54 55 56 57"[328] ⎕wi "extent" (2+CharSize×1 4)[329] [330] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.lrtop" ⎕wi "New" "Label"[331] ⎕wi "scale" 5[332] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[333] ⎕wi "caption" "years"[334] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edtop" ⎕wi "∆where"[335] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edtop" ⎕wi "extent"[336] ⎕wi "∆where" ((x,2)⍴where)[337] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[338] [339] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.lltop" ⎕wi "New" "Label"[340] ⎕wi "scale" 5[341] ⎕wi "style" 2[342] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Ceasing Age"))[343] ⎕wi "caption" "Ceasing Age"[344] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edtop" ⎕wi "∆where"[345] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[346] ⎕wi "∆where" ((x,2)⍴where)[347] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[348] [349] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.cbPenFreq1" ⎕wi "New" "Combo"[350] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.cbPenFreq1"[351] Fieldcontrol←Fieldcontrol OVER "Combo"[352] ⎕wi "∆name" "PenFreq[1;]"[353] ⎕wi "∆type" "Char"[354] ⎕wi "∆mandatory" 1[355] ⎕wi "∆helpid" 4054[356] ⎕wi "tooltip" "Select the Pension Payment Frequency"[357] ⎕wi "style" 16 128 256 2[358] ⎕wi "∆where" (2 2⍴0.82 0 0.25 0)[359] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.82 0 0.25 0))[360] PickList←⍙POPUPSdict ReadDictFile "PayFreq"[361] PickList←⊃m2n 1 0↓PickList[362] ⎕wi "list" PickList[363] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[364] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[365] [366] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.llPenFreq1" ⎕wi "New" "Label"[367] ⎕wi "scale" 5[368] ⎕wi "style" 2[369] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Payment Frequency"))[370] ⎕wi "caption" "Payment Frequency"[371] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.cbPenFreq1" ⎕wi "∆where"[372] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[373] ⎕wi "∆where" ((x,2)⍴where)[374] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[375] [376] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.cbPenFreq2" ⎕wi "New" "Combo"[377] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.cbPenFreq2"[378] Fieldcontrol←Fieldcontrol OVER "Combo"[379] ⎕wi "∆name" "PenFreq[2;]"[380] ⎕wi "∆type" "Char"[381] ⎕wi "∆mandatory" 1[382] ⎕wi "∆helpid" 4055[383] ⎕wi "tooltip" "Select the Pension Payment Mode"[384] ⎕wi "style" 16 128 256 2[385] ⎕wi "∆where" (2 2⍴0.82 0 0.55 0)[386] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize (2 2⍴0.82 0 0.55 0))[387] PickList←⍙POPUPSdict ReadDictFile "PenPay"[388] PickList←⊃m2n 1 0↓PickList[389] ⎕wi "list" PickList[390] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[391] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[392] [393] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.llPenFreq2" ⎕wi "New" "Label"[394] ⎕wi "scale" 5[395] ⎕wi "style" 2[396] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Payment Mode"))[397] ⎕wi "caption" "Payment Mode"[398] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fParms.cbPenFreq2" ⎕wi "∆where"[399] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[400] ⎕wi "∆where" ((x,2)⍴where)[401] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fParms" ⎕wi "size") Win∆Resize ⎕wi "∆where")[402] [403] :if 300<fnsize[404]     ((1↑⎕lc) fnsize "FrameV - Reversion Parameters") Win∆ProgressBar "MemberUpdate"[405] :endif[406] [407] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "New" "Frame"[408] ⎕wi "scale" 5[409] ⎕wi "∆where" (4 2⍴0.28 0 0 0 0.3 0 1 0)[410] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment" ⎕wi "size") Win∆Resize (4 2⍴0.28 0 0 0 0.3 0 1 0))[411] ⎕wi "caption" "Reversion Parameters"[412] ⎕wi "style" 0[413] ⎕wi "onResize" "AutoResize"[414] [415] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH1" ⎕wi "New" "Edit"[416] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH1"[417] Fieldcontrol←Fieldcontrol OVER "Edit"[418] ⎕wi "∆name" "H[1;]"[419] ⎕wi "∆type" "Decr"[420] ⎕wi "∆mandatory" 1[421] ⎕wi "∆valid" ('H' 'H_')[422] ⎕wi "∆helpid" 4056[423] ⎕wi "tooltip" "Specify the Table Code of the Proportions Married Table
(Right Click for List, Double Click for Rate Tables Display or '<' or '>' to Scroll through the Rate Tables)"[424] ⎕wi "limit" 5[425] ⎕wi "∆where" (2 2⍴0.1 0 0.17 0)[426] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.17 0))[427] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH1')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[428] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[429] ⎕wi "extent" (2+CharSize×1 6)[430] ⎕wi "keys" (60 62)[431] ⎕wi "pointer" ">cur 1001 shell32.dll"[432] ⎕wi "onFocus" "0 0⍴GetDecrList 'List' "[433] ⎕wi "onKeyPress" "(⎕wi 'self') Win∆DecrToggle ⎕wi '∆valid' "[434] ⎕wi "onMouseDown" "(⎕wi 'self') Win∆DecrPopup ⎕wi '∆valid' "[435] ⎕wi "onMouseDouble" "(⎕wi '∆valid') RunDecr 'Form'"[436] ⎕wi "onChange" "(⎕wi 'self') Win∆LabelUpdate (FormName ⎕wi '∆decrdesc') (FormName ⎕wi '∆decrlist') ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[437] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.lrH1"[438] [439] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.llH1" ⎕wi "New" "Label"[440] ⎕wi "scale" 5[441] ⎕wi "style" 2[442] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Proportions⍺Married Table")))[443] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Proportions⍺Married Table")[444] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH1" ⎕wi "∆where"[445] size←1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH1" ⎕wi "extent"[446] size←¯3⌈0.5×(1↑⎕wi "extent")-size[447] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[448] ⎕wi "∆where" ((x,2)⍴where)[449] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[450] [451] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.lrH1" ⎕wi "New" "Label"[452] ⎕wi "scale" 5[453] ⎕wi "extent" (CharSize×¯2↑1,40)[454] ⎕wi "style" 32[455] ⎕wi "caption" " "[456] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH1" ⎕wi "∆where"[457] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH1" ⎕wi "extent"[458] ⎕wi "∆where" ((x,2)⍴where)[459] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[460] [461] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH2" ⎕wi "New" "Edit"[462] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH2"[463] Fieldcontrol←Fieldcontrol OVER "Edit"[464] ⎕wi "∆name" "H[2;]"[465] ⎕wi "∆type" "CharNum"[466] ⎕wi "∆valid" ('Int' 'Rating')[467] ⎕wi "∆helpid" 4057[468] ⎕wi "tooltip" "Specify the Age Rating of the Proportion Married Table"[469] ⎕wi "limit" 3[470] ⎕wi "∆where" (2 2⍴0.1 0 0.7 0)[471] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.7 0))[472] ⎕wi "∆range" "¯20 20"[473] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH2')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[474] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[475] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊43 45 8 32 48 49 50 51 52 53 54 55 56 57"[476] ⎕wi "extent" (2+CharSize×1 4)[477] [478] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.lrH2" ⎕wi "New" "Label"[479] ⎕wi "scale" 5[480] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[481] ⎕wi "caption" "years"[482] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH2" ⎕wi "∆where"[483] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH2" ⎕wi "extent"[484] ⎕wi "∆where" ((x,2)⍴where)[485] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[486] [487] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.llH2" ⎕wi "New" "Label"[488] ⎕wi "scale" 5[489] ⎕wi "style" 2[490] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Age Rating"))[491] ⎕wi "caption" "Age Rating"[492] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH2" ⎕wi "∆where"[493] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[494] ⎕wi "∆where" ((x,2)⍴where)[495] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[496] [497] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH3" ⎕wi "New" "Edit"[498] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH3"[499] Fieldcontrol←Fieldcontrol OVER "Edit"[500] ⎕wi "∆name" "H[3;]"[501] ⎕wi "∆type" "CharNum"[502] ⎕wi "∆valid" ('Rating')[503] ⎕wi "∆helpid" 4058[504] ⎕wi "tooltip" "Specify the Percentage Rating of the Proportion Married Table"[505] ⎕wi "limit" 7[506] ⎕wi "∆where" (2 2⍴0.1 0 0.9 0)[507] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.9 0))[508] ⎕wi "∆range" "¯99 1000"[509] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH3')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[510] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[511] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊43 45 46 8 32 48 49 50 51 52 53 54 55 56 57"[512] ⎕wi "extent" (2+CharSize×1 8)[513] [514] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.lrH3" ⎕wi "New" "Label"[515] ⎕wi "scale" 5[516] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "%"))[517] ⎕wi "caption" "%"[518] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH3" ⎕wi "∆where"[519] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH3" ⎕wi "extent"[520] ⎕wi "∆where" ((x,2)⍴where)[521] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[522] [523] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.llH3" ⎕wi "New" "Label"[524] ⎕wi "scale" 5[525] ⎕wi "style" 2[526] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "% Rating"))[527] ⎕wi "caption" "% Rating"[528] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edH3" ⎕wi "∆where"[529] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[530] ⎕wi "∆where" ((x,2)⍴where)[531] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[532] [533] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edPropMarr" ⎕wi "New" "Edit"[534] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edPropMarr"[535] Fieldcontrol←Fieldcontrol OVER "Edit"[536] ⎕wi "∆name" "PropMarr"[537] ⎕wi "∆type" "Num"[538] ⎕wi "∆mandatory" 1[539] ⎕wi "∆valid" ('Scalar' '0+')[540] ⎕wi "∆helpid" 4059[541] ⎕wi "tooltip" "Specify the Proportion Married as a Percentage"[542] ⎕wi "limit" 5[543] ⎕wi "∆where" (2 2⍴0.28 0 0.17 0)[544] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.28 0 0.17 0))[545] ⎕wi "∆range" "0 100"[546] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edPropMarr')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[547] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[548] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊46 8 32 48 49 50 51 52 53 54 55 56 57"[549] ⎕wi "extent" (2+CharSize×1 6)[550] [551] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.lrPropMarr" ⎕wi "New" "Label"[552] ⎕wi "scale" 5[553] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "%"))[554] ⎕wi "caption" "%"[555] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edPropMarr" ⎕wi "∆where"[556] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edPropMarr" ⎕wi "extent"[557] ⎕wi "∆where" ((x,2)⍴where)[558] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[559] [560] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.llPropMarr" ⎕wi "New" "Label"[561] ⎕wi "scale" 5[562] ⎕wi "style" 2[563] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Proportion Married"))[564] ⎕wi "caption" "Proportion Married"[565] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edPropMarr" ⎕wi "∆where"[566] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[567] ⎕wi "∆where" ((x,2)⍴where)[568] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[569] [570] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edSAgeDiff" ⎕wi "New" "Edit"[571] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edSAgeDiff"[572] Fieldcontrol←Fieldcontrol OVER "Edit"[573] ⎕wi "∆name" "SAgeDiff"[574] ⎕wi "∆type" "Num"[575] ⎕wi "∆valid" ('Int' 'Rating')[576] ⎕wi "∆helpid" 4060[577] ⎕wi "tooltip" "Specify the Spouse's Age Differences in years"[578] ⎕wi "limit" 3[579] ⎕wi "∆where" (2 2⍴0.46 0 0.4 0)[580] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.46 0 0.4 0))[581] ⎕wi "∆range" "¯29 29"[582] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edSAgeDiff')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[583] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[584] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊43 45 8 32 48 49 50 51 52 53 54 55 56 57"[585] ⎕wi "extent" (2+CharSize×1 4)[586] [587] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.lrSAgeDiff" ⎕wi "New" "Label"[588] ⎕wi "scale" 5[589] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "years"))[590] ⎕wi "caption" "years"[591] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edSAgeDiff" ⎕wi "∆where"[592] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edSAgeDiff" ⎕wi "extent"[593] ⎕wi "∆where" ((x,2)⍴where)[594] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[595] [596] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.llSAgeDiff" ⎕wi "New" "Label"[597] ⎕wi "scale" 5[598] ⎕wi "style" 2[599] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Spouse's Age Difference (x-y)"))[600] ⎕wi "caption" "Spouse's Age Difference (x-y)"[601] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edSAgeDiff" ⎕wi "∆where"[602] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[603] ⎕wi "∆where" ((x,2)⍴where)[604] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[605] [606] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edrev" ⎕wi "New" "Edit"[607] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edrev"[608] Fieldcontrol←Fieldcontrol OVER "Edit"[609] ⎕wi "∆name" "rev"[610] ⎕wi "∆type" "Num"[611] ⎕wi "∆valid" ('Scalar' '0+')[612] ⎕wi "∆helpid" 4061[613] ⎕wi "tooltip" "Specify the Reversion percentage."[614] ⎕wi "limit" 7[615] ⎕wi "∆where" (2 2⍴0.64 0 0.4 0)[616] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.64 0 0.4 0))[617] ⎕wi "∆range" "0 100"[618] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edrev')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[619] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[620] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊46 8 32 48 49 50 51 52 53 54 55 56 57"[621] ⎕wi "extent" (2+CharSize×1 8)[622] [623] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.lrrev" ⎕wi "New" "Label"[624] ⎕wi "scale" 5[625] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "%"))[626] ⎕wi "caption" "%"[627] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edrev" ⎕wi "∆where"[628] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edrev" ⎕wi "extent"[629] ⎕wi "∆where" ((x,2)⍴where)[630] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[631] [632] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.llrev" ⎕wi "New" "Label"[633] ⎕wi "scale" 5[634] ⎕wi "style" 2[635] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Spouse's Reversion"))[636] ⎕wi "caption" "Spouse's Reversion"[637] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.edrev" ⎕wi "∆where"[638] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[639] ⎕wi "∆where" ((x,2)⍴where)[640] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[641] [642] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.ckrevdef" ⎕wi "New" "Check"[643] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.ckrevdef"[644] Fieldcontrol←Fieldcontrol OVER "Check"[645] ⎕wi "∆name" "revdef"[646] ⎕wi "∆type" "Check"[647] ⎕wi "∆helpid" 4062[648] ⎕wi "style" 0[649] ⎕wi "caption" "Reversion payable to Spouse on Death in Deferment"[650] ⎕wi "∆where" (2 2⍴0.66 0 0.6 0)[651] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.66 0 0.6 0))[652] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[653] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' )"[654] [655] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.cbrevterm" ⎕wi "New" "Combo"[656] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.cbrevterm"[657] Fieldcontrol←Fieldcontrol OVER "Combo"[658] ⎕wi "∆name" "revterm"[659] ⎕wi "∆type" "Char"[660] ⎕wi "∆mandatory" 1[661] ⎕wi "visible" (¯1+2×0)[662] ⎕wi "tooltip" "Select the Payment Period of the Reversion"[663] ⎕wi "style" 16 128 256 2[664] ⎕wi "∆where" (2 2⍴0.82 0 0.25 0)[665] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.82 0 0.25 0))[666] PickList←⍙POPUPSdict ReadDictFile "RevTerm"[667] PickList←⊃m2n 1 0↓PickList[668] ⎕wi "list" PickList[669] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[670] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[671] [672] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.llrevterm" ⎕wi "New" "Label"[673] ⎕wi "scale" 5[674] ⎕wi "style" 2[675] ⎕wi "visible" (¯1+2×0)[676] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Term of Reversion"))[677] ⎕wi "caption" "Term of Reversion"[678] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.cbrevterm" ⎕wi "∆where"[679] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[680] ⎕wi "∆where" ((x,2)⍴where)[681] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize ⎕wi "∆where")[682] [683] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.ckrevind" ⎕wi "New" "Check"[684] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fReversion.ckrevind"[685] Fieldcontrol←Fieldcontrol OVER "Check"[686] ⎕wi "∆name" "revind"[687] ⎕wi "∆type" "Check"[688] ⎕wi "∆helpid" 4063[689] ⎕wi "style" 0[690] ⎕wi "caption" "Value Spouse's Reversion only"[691] ⎕wi "∆where" (2 2⍴0.84 0 0.6 0)[692] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fReversion" ⎕wi "size") Win∆Resize (2 2⍴0.84 0 0.6 0))[693] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[694] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' )"[695] [696] :if 300<fnsize[697]     ((1↑⎕lc) fnsize "FrameV - Financial Assumptions") Win∆ProgressBar "MemberUpdate"[698] :endif[699] [700] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "New" "Frame"[701] ⎕wi "scale" 5[702] ⎕wi "∆where" (4 2⍴0.58 0 0 0 0.349 0 1 0)[703] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment" ⎕wi "size") Win∆Resize (4 2⍴0.58 0 0 0 0.349 0 1 0))[704] ⎕wi "caption" "Financial Assumptions"[705] ⎕wi "style" 0[706] ⎕wi "onResize" "AutoResize"[707] [708] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbIR" ⎕wi "New" "Combo"[709] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbIR"[710] Fieldcontrol←Fieldcontrol OVER "Combo"[711] ⎕wi "∆name" "IR"[712] ⎕wi "∆type" "Num"[713] ⎕wi "∆mandatory" 1[714] ⎕wi "∆helpid" 4064[715] ⎕wi "∆range" "¯20 40"[716] ⎕wi "limit" 32[717] ⎕wi "onExit" "⍎(mt ,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbIR')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[718] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[719] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊45 46 8 32 48 49 50 51 52 53 54 55 56 57"[720] ⎕wi "style" 16 128 256 0[721] ⎕wi "∆where" (2 2⍴0.15 0 0.4 0)[722] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize (2 2⍴0.15 0 0.4 0))[723] PickList←GetFinList 'Int'[724] ⎕wi "∆update" "GetFinList 'Int'"[725] PickList←⊃m2n 1 0↓PickList[726] PickList←" " OVER PickList[727] ⎕wi "list" PickList[728] ⎕wi "extent" (150,(¯10+8×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[729] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[730] ⎕wi "onChange" "Win∆ComboFudge ⎕wi 'self' ⋄ (⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[731] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrIR"[732] [733] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrIR" ⎕wi "New" "Label"[734] ⎕wi "scale" 5[735] ⎕wi "extent" (CharSize×¯2↑1,2 55)[736] ⎕wi "caption" " "[737] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbIR" ⎕wi "∆where"[738] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbIR" ⎕wi "extent"[739] ⎕wi "∆where" ((x,2)⍴where)[740] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[741] [742] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.llIR" ⎕wi "New" "Label"[743] ⎕wi "scale" 5[744] ⎕wi "style" 2[745] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Interest Rate (% p.a.)"))[746] ⎕wi "caption" "Interest Rate (% p.a.)"[747] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbIR" ⎕wi "∆where"[748] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[749] ⎕wi "∆where" ((x,2)⍴where)[750] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[751] [752] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.ckpiind" ⎕wi "New" "Check"[753] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.ckpiind"[754] Fieldcontrol←Fieldcontrol OVER "Check"[755] ⎕wi "∆name" "piind"[756] ⎕wi "∆type" "Check"[757] ⎕wi "∆helpid" 4065[758] ⎕wi "tooltip" "Indicate if a different Rate of Return is to be assumed on the reinvestment of earnings during the period of deferment"[759] ⎕wi "style" 0[760] ⎕wi "caption" "Specify a Different Rate of Return on Reinvestment while in Deferment"[761] ⎕wi "∆where" (2 2⍴0.32 0 0.4 0)[762] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize (2 2⍴0.32 0 0.4 0))[763] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[764] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' )"[765] [766] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbdefi" ⎕wi "New" "Combo"[767] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbdefi"[768] Fieldcontrol←Fieldcontrol OVER "Combo"[769] ⎕wi "∆name" "defi"[770] ⎕wi "∆type" "Num"[771] ⎕wi "∆mandatory" 1[772] ⎕wi "∆helpid" 4065[773] ⎕wi "∆range" "¯20 40"[774] ⎕wi "limit" 32[775] ⎕wi "onExit" "⍎(mt ,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbdefi')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[776] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[777] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊45 46 8 32 48 49 50 51 52 53 54 55 56 57"[778] ⎕wi "style" 16 128 256 0[779] ⎕wi "∆where" (2 2⍴0.44 0 0.4 0)[780] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize (2 2⍴0.44 0 0.4 0))[781] PickList←GetFinList 'Int'[782] ⎕wi "∆update" "GetFinList 'Int'"[783] PickList←⊃m2n 1 0↓PickList[784] PickList←" " OVER PickList[785] ⎕wi "list" PickList[786] ⎕wi "extent" (150,(¯10+8×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[787] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[788] ⎕wi "onChange" "Win∆ComboFudge ⎕wi 'self' ⋄ (⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[789] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrdefi"[790] [791] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrdefi" ⎕wi "New" "Label"[792] ⎕wi "scale" 5[793] ⎕wi "extent" (CharSize×¯2↑1,2 55)[794] ⎕wi "caption" " "[795] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbdefi" ⎕wi "∆where"[796] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbdefi" ⎕wi "extent"[797] ⎕wi "∆where" ((x,2)⍴where)[798] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[799] [800] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lldefi" ⎕wi "New" "Label"[801] ⎕wi "scale" 5[802] ⎕wi "style" 2[803] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Reinvestment Rate in Deferment (% p.a.)"))[804] ⎕wi "caption" "Reinvestment Rate in Deferment (% p.a.)"[805] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbdefi" ⎕wi "∆where"[806] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[807] ⎕wi "∆where" ((x,2)⍴where)[808] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[809] [810] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVMdef" ⎕wi "New" "Combo"[811] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVMdef"[812] Fieldcontrol←Fieldcontrol OVER "Combo"[813] ⎕wi "∆name" "PVMdef"[814] ⎕wi "∆type" "Num"[815] ⎕wi "∆mandatory" 1[816] ⎕wi "∆helpid" 4066[817] ⎕wi "∆range" "¯20 40"[818] ⎕wi "limit" 32[819] ⎕wi "onExit" "⍎(mt ,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVMdef')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[820] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[821] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊45 46 8 32 48 49 50 51 52 53 54 55 56 57"[822] ⎕wi "style" 16 128 256 0[823] ⎕wi "∆where" (2 2⍴0.6 0 0.4 0)[824] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.4 0))[825] PickList←GetFinList 'Rev'[826] ⎕wi "∆update" "GetFinList 'Rev'"[827] PickList←⊃m2n 1 0↓PickList[828] PickList←" " OVER PickList[829] ⎕wi "list" PickList[830] ⎕wi "extent" (150,(¯10+8×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[831] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[832] ⎕wi "onChange" "Win∆ComboFudge ⎕wi 'self' ⋄ (⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[833] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrPVMdef"[834] [835] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrPVMdef" ⎕wi "New" "Label"[836] ⎕wi "scale" 5[837] ⎕wi "extent" (CharSize×¯2↑1,2 55)[838] ⎕wi "caption" " "[839] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVMdef" ⎕wi "∆where"[840] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVMdef" ⎕wi "extent"[841] ⎕wi "∆where" ((x,2)⍴where)[842] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[843] [844] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.llPVMdef" ⎕wi "New" "Label"[845] ⎕wi "scale" 5[846] ⎕wi "style" 2[847] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Revaluation in⍺Deferment (% p.a.)")))[848] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Revaluation in⍺Deferment (% p.a.)")[849] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVMdef" ⎕wi "∆where"[850] size←1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVMdef" ⎕wi "extent"[851] size←¯3⌈0.5×(1↑⎕wi "extent")-size[852] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[853] ⎕wi "∆where" ((x,2)⍴where)[854] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[855] [856] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVM" ⎕wi "New" "Combo"[857] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVM"[858] Fieldcontrol←Fieldcontrol OVER "Combo"[859] ⎕wi "∆name" "PVM"[860] ⎕wi "∆type" "Num"[861] ⎕wi "∆mandatory" 1[862] ⎕wi "∆helpid" 4067[863] ⎕wi "∆range" "¯20 40"[864] ⎕wi "limit" 32[865] ⎕wi "onExit" "⍎(mt ,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVM')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[866] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[867] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊45 46 8 32 48 49 50 51 52 53 54 55 56 57"[868] ⎕wi "style" 16 128 256 0[869] ⎕wi "∆where" (2 2⍴0.76 0 0.4 0)[870] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize (2 2⍴0.76 0 0.4 0))[871] PickList←GetFinList 'Inc'[872] ⎕wi "∆update" "GetFinList 'Inc'"[873] PickList←⊃m2n 1 0↓PickList[874] PickList←" " OVER PickList[875] ⎕wi "list" PickList[876] ⎕wi "extent" (150,(¯10+8×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[877] ⎕wi "onClick" "(⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[878] ⎕wi "onChange" "Win∆ComboFudge ⎕wi 'self' ⋄ (⎕wi 'self') Win∆FinLabelUpdate ⊃¨(⊂⍙FinAssdict) at¨'List' 'Label' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[879] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrPVM"[880] [881] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.lrPVM" ⎕wi "New" "Label"[882] ⎕wi "scale" 5[883] ⎕wi "extent" (CharSize×¯2↑1,2 55)[884] ⎕wi "caption" " "[885] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVM" ⎕wi "∆where"[886] x←0.5×⍴where←Win∆Calcwhere where+0,¯3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVM" ⎕wi "extent"[887] ⎕wi "∆where" ((x,2)⍴where)[888] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[889] [890] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.llPVM" ⎕wi "New" "Label"[891] ⎕wi "scale" 5[892] ⎕wi "style" 2[893] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Pension Increases⍺in Payment (% p.a.)")))[894] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Pension Increases⍺in Payment (% p.a.)")[895] where←4↑,"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVM" ⎕wi "∆where"[896] size←1↑"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.cbPVM" ⎕wi "extent"[897] size←¯3⌈0.5×(1↑⎕wi "extent")-size[898] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[899] ⎕wi "∆where" ((x,2)⍴where)[900] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize ⎕wi "∆where")[901] [902] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.ckPVMind" ⎕wi "New" "Check"[903] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial.ckPVMind"[904] Fieldcontrol←Fieldcontrol OVER "Check"[905] ⎕wi "∆name" "PVMind"[906] ⎕wi "∆type" "Check"[907] ⎕wi "∆helpid" 4068[908] ⎕wi "style" 0[909] ⎕wi "caption" "Value Pension Increases only"[910] ⎕wi "∆where" (2 2⍴0.9 0 0.4 0)[911] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fFinancial" ⎕wi "size") Win∆Resize (2 2⍴0.9 0 0.4 0))[912] ⎕wi "extent" ((0 5×CharSize)+Win∆TextSize ⎕wi "caption")[913] ⎕wi "onClick" "(0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' )"[914] [915] :if 300<fnsize[916]     ((1↑⎕lc) fnsize "Frame - Buttons") Win∆ProgressBar "MemberUpdate"[917] :endif[918] [919] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fButtons" ⎕wi "New" "Frame"[920] ⎕wi "scale" 5[921] ⎕wi "∆where" (4 2⍴0.93 0 0 0 0.069 0 1 0)[922] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment" ⎕wi "size") Win∆Resize (4 2⍴0.93 0 0 0 0.069 0 1 0))[923] ⎕wi "style" 7[924] ⎕wi "onResize" "AutoResize"[925] list←list OVER "fmBulkAnn.sBulk_Annuity.pgPayment.fButtons.bnBulk_AnnuityEditFin"[926] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgPayment.fButtons.bnBulk_AnnuityEditFin" ⎕wi "New" "Button"[927] ⎕wi "deferexit" 1[928] ⎕wi "extent" (size←1.4 1.384615385×buttonsize×1⌈CharSize÷13 6)[929] ⎕wi "∆where" (2 2⍴0.1 0 0.44 0)[930] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgPayment.fButtons" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.44 0))[931] ⎕wi "tooltip" "Edit/Add the Scheme Financial Assumptions"[932] ⎕wi "onClick" ("fmSV.mBulk_AnnuityFile.mEditFin"⎕wi "onClick")[933] ⎕wi "∆helpid" 4069[934] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Edit Scheme⍺Financials")[935] "fmBulkAnn.sBulk_Annuity.pgPayment" ⎕wi "∆fieldlist" Fieldlist[936] "fmBulkAnn.sBulk_Annuity.pgPayment" ⎕wi "∆fieldcontrol" Fieldcontrol[937] [938] Fieldlist←Fieldcontrol←0 0⍴""[939] [940] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "New" "Page"[941] ⎕wi "caption" "Mortality"[942] ⎕wi "scale" 5[943] ⎕wi "imageindex" 1[944] ⎕wi "onResize" "AutoResize"[945] ⎕wi "∆helpid" 2112[946] :if ~0∊⍴"fmSV.mBulk_AnnuityGoTo" ⎕wi "self"[947]     ⎕wself←"fmSV.mBulk_AnnuityGoTo.mMortality" ⎕wi "New" "Menu"[948]     ⎕wi "caption" "Mortality"[949]     ⎕wi "prompt" "Go to Mortality Page"[950]     ⎕wi "onClick" "'fmBulkAnn.sBulk_Annuity' ⎕wi 'value' (('fmBulkAnn.sBulk_Annuity' ⎕wi 'pages')⍳⊂'pgMortality')"[951] :endif[952] ⎕wgive 0[953] "fmBulkAnn.sBulk_Annuity" ⎕wi "value" (⍴"fmBulkAnn.sBulk_Annuity" ⎕wi "pages")[954] [955] :if 300<fnsize[956]     ((1↑⎕lc) fnsize "FrameV - Mortality in Deferment") Win∆ProgressBar "MemberUpdate"[957] :endif[958] [959] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "New" "Frame"[960] ⎕wi "scale" 5[961] ⎕wi "∆where" (4 2⍴0 0 0 0 0.4 0 1 0)[962] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 0.4 0 1 0))[963] ⎕wi "caption" "Mortality in Deferment"[964] ⎕wi "style" 0[965] ⎕wi "onResize" "AutoResize"[966] [967] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_DDEF" ⎕wi "New" "Combo"[968] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_DDEF"[969] Fieldcontrol←Fieldcontrol OVER "Combo"[970] ⎕wi "∆name" "P_DDEF"[971] ⎕wi "∆type" "Char"[972] ⎕wi "∆mandatory" 1[973] ⎕wi "∆helpid" 4070[974] ⎕wi "tooltip" "Select the Male Mortality in Deferment Definition"[975] ⎕wi "style" 16 128 256 2[976] ⎕wi "∆where" (2 2⍴0.25 0 0.2 0)[977] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.2 0))[978] PickList←GetMortParms ''[979] ⎕wi "∆update" "GetMortParms ''"[980] PickList←⊃m2n 1 0↓PickList[981] ⎕wi "list" PickList[982] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[983] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'Mortality') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[984] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrP_DDEF"[985] [986] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrP_DDEF" ⎕wi "New" "Label"[987] ⎕wi "scale" 5[988] ⎕wi "extent" (CharSize×¯2↑1,60)[989] ⎕wi "style" 32[990] ⎕wi "caption" " "[991] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_DDEF" ⎕wi "∆where"[992] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_DDEF" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size"),0 0 0[993] ⎕wi "∆where" ((x,2)⍴where)[994] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[995] [996] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.llP_DDEF" ⎕wi "New" "Label"[997] ⎕wi "scale" 5[998] ⎕wi "style" 2[999] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Primary Annuitant⍺Mortality in Deferment Parameters")))[1000] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Primary Annuitant⍺Mortality in Deferment Parameters")[1001] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_DDEF" ⎕wi "∆where"[1002] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_DDEF" ⎕wi "extent"[1003] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1004] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1005] ⎕wi "∆where" ((x,2)⍴where)[1006] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1007] [1008] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_miDDEF" ⎕wi "New" "Combo"[1009] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_miDDEF"[1010] Fieldcontrol←Fieldcontrol OVER "Combo"[1011] ⎕wi "∆name" "P_miDDEF"[1012] ⎕wi "∆type" "Char"[1013] ⎕wi "∆mandatory" 1[1014] ⎕wi "∆helpid" 4071[1015] ⎕wi "tooltip" "Select the Male Mortality in Deferment Improvement Definition"[1016] ⎕wi "style" 16 128 256 2[1017] ⎕wi "∆where" (2 2⍴0.6 0 0.2 0)[1018] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.2 0))[1019] PickList←'None' GetClientParms 'Mort_Improvement'[1020] ⎕wi "∆update" "'None' GetClientParms 'Mort_Improvement'"[1021] PickList←⊃m2n 1 0↓PickList[1022] ⎕wi "list" PickList[1023] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[1024] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'MortImp') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[1025] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrP_miDDEF"[1026] [1027] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrP_miDDEF" ⎕wi "New" "Label"[1028] ⎕wi "scale" 5[1029] ⎕wi "extent" (CharSize×¯2↑1,60)[1030] ⎕wi "style" 32[1031] ⎕wi "caption" " "[1032] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_miDDEF" ⎕wi "∆where"[1033] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_miDDEF" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size"),0 0 0[1034] ⎕wi "∆where" ((x,2)⍴where)[1035] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1036] [1037] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.llP_miDDEF" ⎕wi "New" "Label"[1038] ⎕wi "scale" 5[1039] ⎕wi "style" 2[1040] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Primary Annuitant Mortality⍺Improvement Parameters")))[1041] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Primary Annuitant Mortality⍺Improvement Parameters")[1042] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_miDDEF" ⎕wi "∆where"[1043] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbP_miDDEF" ⎕wi "extent"[1044] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1045] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1046] ⎕wi "∆where" ((x,2)⍴where)[1047] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1048] [1049] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_DDEF" ⎕wi "New" "Combo"[1050] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_DDEF"[1051] Fieldcontrol←Fieldcontrol OVER "Combo"[1052] ⎕wi "∆name" "S_DDEF"[1053] ⎕wi "∆type" "Char"[1054] ⎕wi "∆mandatory" 1[1055] ⎕wi "∆helpid" 4070[1056] ⎕wi "tooltip" "Select the Female Mortality in Deferment Definition"[1057] ⎕wi "style" 16 128 256 2[1058] ⎕wi "∆where" (2 2⍴0.25 0 0.65 0)[1059] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.65 0))[1060] PickList←GetMortParms ''[1061] ⎕wi "∆update" "GetMortParms ''"[1062] PickList←⊃m2n 1 0↓PickList[1063] ⎕wi "list" PickList[1064] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[1065] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'Mortality') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[1066] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrS_DDEF"[1067] [1068] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrS_DDEF" ⎕wi "New" "Label"[1069] ⎕wi "scale" 5[1070] ⎕wi "extent" (CharSize×¯2↑1,60)[1071] ⎕wi "style" 32[1072] ⎕wi "caption" " "[1073] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_DDEF" ⎕wi "∆where"[1074] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_DDEF" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size"),0 0 0[1075] ⎕wi "∆where" ((x,2)⍴where)[1076] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1077] [1078] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.llS_DDEF" ⎕wi "New" "Label"[1079] ⎕wi "scale" 5[1080] ⎕wi "style" 2[1081] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺in Deferment Parameters")))[1082] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺in Deferment Parameters")[1083] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_DDEF" ⎕wi "∆where"[1084] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_DDEF" ⎕wi "extent"[1085] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1086] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1087] ⎕wi "∆where" ((x,2)⍴where)[1088] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1089] [1090] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_miDDEF" ⎕wi "New" "Combo"[1091] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_miDDEF"[1092] Fieldcontrol←Fieldcontrol OVER "Combo"[1093] ⎕wi "∆name" "S_miDDEF"[1094] ⎕wi "∆type" "Char"[1095] ⎕wi "∆mandatory" 1[1096] ⎕wi "∆helpid" 4071[1097] ⎕wi "tooltip" "Select the Female Mortality in Deferment Improvement Definition"[1098] ⎕wi "style" 16 128 256 2[1099] ⎕wi "∆where" (2 2⍴0.6 0 0.65 0)[1100] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.65 0))[1101] PickList←'None' GetClientParms 'Mort_Improvement'[1102] ⎕wi "∆update" "'None' GetClientParms 'Mort_Improvement'"[1103] PickList←⊃m2n 1 0↓PickList[1104] ⎕wi "list" PickList[1105] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[1106] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'MortImp') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[1107] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrS_miDDEF"[1108] [1109] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.lrS_miDDEF" ⎕wi "New" "Label"[1110] ⎕wi "scale" 5[1111] ⎕wi "extent" (CharSize×¯2↑1,60)[1112] ⎕wi "style" 32[1113] ⎕wi "caption" " "[1114] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_miDDEF" ⎕wi "∆where"[1115] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_miDDEF" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size"),0 0 0[1116] ⎕wi "∆where" ((x,2)⍴where)[1117] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1118] [1119] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.llS_miDDEF" ⎕wi "New" "Label"[1120] ⎕wi "scale" 5[1121] ⎕wi "style" 2[1122] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺Improvement Parameters")))[1123] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺Improvement Parameters")[1124] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_miDDEF" ⎕wi "∆where"[1125] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fDefer.cbS_miDDEF" ⎕wi "extent"[1126] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1127] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1128] ⎕wi "∆where" ((x,2)⍴where)[1129] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fDefer" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1130] [1131] :if 300<fnsize[1132]     ((1↑⎕lc) fnsize "FrameV - Mortality on Pension") Win∆ProgressBar "MemberUpdate"[1133] :endif[1134] [1135] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "New" "Frame"[1136] ⎕wi "scale" 5[1137] ⎕wi "∆where" (4 2⍴0.4 0 0 0 0.4 0 1 0)[1138] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "size") Win∆Resize (4 2⍴0.4 0 0 0 0.4 0 1 0))[1139] ⎕wi "caption" "Mortality on Pension"[1140] ⎕wi "style" 0[1141] ⎕wi "onResize" "AutoResize"[1142] [1143] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_DPEN" ⎕wi "New" "Combo"[1144] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_DPEN"[1145] Fieldcontrol←Fieldcontrol OVER "Combo"[1146] ⎕wi "∆name" "P_DPEN"[1147] ⎕wi "∆type" "Char"[1148] ⎕wi "∆mandatory" 1[1149] ⎕wi "∆helpid" 4070[1150] ⎕wi "tooltip" "Select the Male Mortality on Pension Definition"[1151] ⎕wi "style" 16 128 256 2[1152] ⎕wi "∆where" (2 2⍴0.25 0 0.2 0)[1153] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.2 0))[1154] PickList←GetMortParms ''[1155] ⎕wi "∆update" "GetMortParms ''"[1156] PickList←⊃m2n 1 0↓PickList[1157] ⎕wi "list" PickList[1158] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[1159] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'Mortality') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[1160] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrP_DPEN"[1161] [1162] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrP_DPEN" ⎕wi "New" "Label"[1163] ⎕wi "scale" 5[1164] ⎕wi "extent" (CharSize×¯2↑1,60)[1165] ⎕wi "style" 32[1166] ⎕wi "caption" " "[1167] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_DPEN" ⎕wi "∆where"[1168] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_DPEN" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size"),0 0 0[1169] ⎕wi "∆where" ((x,2)⍴where)[1170] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1171] [1172] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.llP_DPEN" ⎕wi "New" "Label"[1173] ⎕wi "scale" 5[1174] ⎕wi "style" 2[1175] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Primary Annuitant⍺Mortality on Pension Parameters")))[1176] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Primary Annuitant⍺Mortality on Pension Parameters")[1177] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_DPEN" ⎕wi "∆where"[1178] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_DPEN" ⎕wi "extent"[1179] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1180] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1181] ⎕wi "∆where" ((x,2)⍴where)[1182] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1183] [1184] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_miDPEN" ⎕wi "New" "Combo"[1185] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_miDPEN"[1186] Fieldcontrol←Fieldcontrol OVER "Combo"[1187] ⎕wi "∆name" "P_miDPEN"[1188] ⎕wi "∆type" "Char"[1189] ⎕wi "∆mandatory" 1[1190] ⎕wi "∆helpid" 4071[1191] ⎕wi "tooltip" "Select the Male Mortality on Pension Improvement Definition"[1192] ⎕wi "style" 16 128 256 2[1193] ⎕wi "∆where" (2 2⍴0.6 0 0.2 0)[1194] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.2 0))[1195] PickList←'None' GetClientParms 'Mort_Improvement'[1196] ⎕wi "∆update" "'None' GetClientParms 'Mort_Improvement'"[1197] PickList←⊃m2n 1 0↓PickList[1198] ⎕wi "list" PickList[1199] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[1200] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'MortImp') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[1201] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrP_miDPEN"[1202] [1203] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrP_miDPEN" ⎕wi "New" "Label"[1204] ⎕wi "scale" 5[1205] ⎕wi "extent" (CharSize×¯2↑1,60)[1206] ⎕wi "style" 32[1207] ⎕wi "caption" " "[1208] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_miDPEN" ⎕wi "∆where"[1209] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_miDPEN" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size"),0 0 0[1210] ⎕wi "∆where" ((x,2)⍴where)[1211] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1212] [1213] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.llP_miDPEN" ⎕wi "New" "Label"[1214] ⎕wi "scale" 5[1215] ⎕wi "style" 2[1216] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Primary Annuitant Mortality⍺Improvement Parameters")))[1217] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Primary Annuitant Mortality⍺Improvement Parameters")[1218] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_miDPEN" ⎕wi "∆where"[1219] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbP_miDPEN" ⎕wi "extent"[1220] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1221] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1222] ⎕wi "∆where" ((x,2)⍴where)[1223] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1224] [1225] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_DPEN" ⎕wi "New" "Combo"[1226] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_DPEN"[1227] Fieldcontrol←Fieldcontrol OVER "Combo"[1228] ⎕wi "∆name" "S_DPEN"[1229] ⎕wi "∆type" "Char"[1230] ⎕wi "∆mandatory" 1[1231] ⎕wi "∆helpid" 4070[1232] ⎕wi "tooltip" "Select the Female Mortality on Pension Definition"[1233] ⎕wi "style" 16 128 256 2[1234] ⎕wi "∆where" (2 2⍴0.25 0 0.65 0)[1235] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.65 0))[1236] PickList←GetMortParms ''[1237] ⎕wi "∆update" "GetMortParms ''"[1238] PickList←⊃m2n 1 0↓PickList[1239] ⎕wi "list" PickList[1240] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[1241] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'Mortality') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[1242] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrS_DPEN"[1243] [1244] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrS_DPEN" ⎕wi "New" "Label"[1245] ⎕wi "scale" 5[1246] ⎕wi "extent" (CharSize×¯2↑1,60)[1247] ⎕wi "style" 32[1248] ⎕wi "caption" " "[1249] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_DPEN" ⎕wi "∆where"[1250] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_DPEN" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size"),0 0 0[1251] ⎕wi "∆where" ((x,2)⍴where)[1252] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1253] [1254] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.llS_DPEN" ⎕wi "New" "Label"[1255] ⎕wi "scale" 5[1256] ⎕wi "style" 2[1257] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺on Pension Parameters")))[1258] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺on Pension Parameters")[1259] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_DPEN" ⎕wi "∆where"[1260] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_DPEN" ⎕wi "extent"[1261] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1262] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1263] ⎕wi "∆where" ((x,2)⍴where)[1264] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1265] [1266] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_miDPEN" ⎕wi "New" "Combo"[1267] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_miDPEN"[1268] Fieldcontrol←Fieldcontrol OVER "Combo"[1269] ⎕wi "∆name" "S_miDPEN"[1270] ⎕wi "∆type" "Char"[1271] ⎕wi "∆mandatory" 1[1272] ⎕wi "∆helpid" 4071[1273] ⎕wi "tooltip" "Select the Female Mortality on Pension Improvement Definition"[1274] ⎕wi "style" 16 128 256 2[1275] ⎕wi "∆where" (2 2⍴0.6 0 0.65 0)[1276] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.65 0))[1277] PickList←'None' GetClientParms 'Mort_Improvement'[1278] ⎕wi "∆update" "'None' GetClientParms 'Mort_Improvement'"[1279] PickList←⊃m2n 1 0↓PickList[1280] ⎕wi "list" PickList[1281] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[1282] ⎕wi "onClick" "(⎕wi 'self') Win∆LabelUpdate ⊃¨(⊂⍙MortAssdict for 'Type' 'MortImp') at¨'Label' 'List' ⋄ 0 0⍴(⊂⎕wi 'name') Bulk_Annuity 'Change' "[1283] ⎕wi "∆rightlabel" "fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrS_miDPEN"[1284] [1285] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.lrS_miDPEN" ⎕wi "New" "Label"[1286] ⎕wi "scale" 5[1287] ⎕wi "extent" (CharSize×¯2↑1,60)[1288] ⎕wi "style" 32[1289] ⎕wi "caption" " "[1290] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_miDPEN" ⎕wi "∆where"[1291] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_miDPEN" ⎕wi "where") CDIV 1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size"),0 0 0[1292] ⎕wi "∆where" ((x,2)⍴where)[1293] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1294] [1295] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.llS_miDPEN" ⎕wi "New" "Label"[1296] ⎕wi "scale" 5[1297] ⎕wi "style" 2[1298] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺Improvement Parameters")))[1299] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Spouse Mortality⍺Improvement Parameters")[1300] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_miDPEN" ⎕wi "∆where"[1301] size←1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fPension.cbS_miDPEN" ⎕wi "extent"[1302] size←¯3⌈0.5×(1↑⎕wi "extent")-size[1303] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[1304] ⎕wi "∆where" ((x,2)⍴where)[1305] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fPension" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1306] [1307] :if 300<fnsize[1308]     ((1↑⎕lc) fnsize "FrameV - Calculation Year") Win∆ProgressBar "MemberUpdate"[1309] :endif[1310] [1311] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fYear" ⎕wi "New" "Frame"[1312] ⎕wi "scale" 5[1313] ⎕wi "∆where" (4 2⍴0.8 0 0 0 0.1 0 1 0)[1314] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "size") Win∆Resize (4 2⍴0.8 0 0 0 0.1 0 1 0))[1315] ⎕wi "caption" "Calculation Year"[1316] ⎕wi "style" 0[1317] ⎕wi "onResize" "AutoResize"[1318] [1319] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fYear.edCalcYr" ⎕wi "New" "Edit"[1320] Fieldlist←Fieldlist OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fYear.edCalcYr"[1321] Fieldcontrol←Fieldcontrol OVER "Edit"[1322] ⎕wi "∆name" "CalcYr"[1323] ⎕wi "∆type" "Num"[1324] ⎕wi "∆valid" ('Int' 'Scalar')[1325] ⎕wi "∆helpid" 4072[1326] ⎕wi "tooltip" "Specify the Calculation Year"[1327] ⎕wi "limit" 4[1328] ⎕wi "∆where" (2 2⍴0.4 0 0.5 0)[1329] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fYear" ⎕wi "size") Win∆Resize (2 2⍴0.4 0 0.5 0))[1330] ⎕wi "∆range" "1950 2100"[1331] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmBulkAnn.sBulk_Annuity.pgMortality.fYear.edCalcYr')/'0 0⍴(⊂⎕wi ''name'') Bulk_Annuity ''Change'' ' "[1332] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[1333] ⎕wi "onKeyPress" "⎕wres←¯2×~⎕warg∊45 8 32 48 49 50 51 52 53 54 55 56 57"[1334] ⎕wi "extent" (2+CharSize×1 5)[1335] [1336] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fYear.lrCalcYr" ⎕wi "New" "Label"[1337] ⎕wi "scale" 5[1338] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "CCYY (for some Mortality Improvement definitions)"))[1339] ⎕wi "caption" "CCYY (for some Mortality Improvement definitions)"[1340] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fYear.edCalcYr" ⎕wi "∆where"[1341] x←0.5×⍴where←Win∆Calcwhere where+0,3,0,10+¯1↑"fmBulkAnn.sBulk_Annuity.pgMortality.fYear.edCalcYr" ⎕wi "extent"[1342] ⎕wi "∆where" ((x,2)⍴where)[1343] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fYear" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1344] [1345] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fYear.llCalcYr" ⎕wi "New" "Label"[1346] ⎕wi "scale" 5[1347] ⎕wi "style" 2[1348] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Calculation Year"))[1349] ⎕wi "caption" "Calculation Year"[1350] where←4↑,"fmBulkAnn.sBulk_Annuity.pgMortality.fYear.edCalcYr" ⎕wi "∆where"[1351] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[1352] ⎕wi "∆where" ((x,2)⍴where)[1353] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fYear" ⎕wi "size") Win∆Resize ⎕wi "∆where")[1354] [1355] :if 300<fnsize[1356]     ((1↑⎕lc) fnsize "Frame - Buttons") Win∆ProgressBar "MemberUpdate"[1357] :endif[1358] [1359] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fButtons" ⎕wi "New" "Frame"[1360] ⎕wi "scale" 5[1361] ⎕wi "∆where" (4 2⍴0.9 0 0 0 0.099 0 1 0)[1362] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "size") Win∆Resize (4 2⍴0.9 0 0 0 0.099 0 1 0))[1363] ⎕wi "style" 7[1364] ⎕wi "onResize" "AutoResize"[1365] list←list OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fButtons.bnBulk_AnnuityEditD"[1366] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fButtons.bnBulk_AnnuityEditD" ⎕wi "New" "Button"[1367] ⎕wi "deferexit" 1[1368] ⎕wi "extent" (size←1.4 1.384615385×buttonsize×1⌈CharSize÷13 6)[1369] ⎕wi "∆where" (2 2⍴0.1 0 0.44 0)[1370] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fButtons" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.44 0))[1371] ⎕wi "tooltip" "Edit/Add a Mortality Rates Definition"[1372] ⎕wi "onClick" ("fmSV.mBulk_AnnuityFile.mEditD"⎕wi "onClick")[1373] ⎕wi "∆helpid" 4073[1374] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Add/Edit⍺Mortality Rates")[1375] list←list OVER "fmBulkAnn.sBulk_Annuity.pgMortality.fButtons.bnBulk_AnnuityEditMI"[1376] ⎕wself←"fmBulkAnn.sBulk_Annuity.pgMortality.fButtons.bnBulk_AnnuityEditMI" ⎕wi "New" "Button"[1377] ⎕wi "deferexit" 1[1378] ⎕wi "extent" (size←1.4 1.384615385×buttonsize×1⌈CharSize÷13 6)[1379] ⎕wi "∆where" (2 2⍴0.1 0 0.56 0)[1380] ⎕wi "where" (("fmBulkAnn.sBulk_Annuity.pgMortality.fButtons" ⎕wi "size") Win∆Resize (2 2⍴0.1 0 0.56 0))[1381] ⎕wi "tooltip" "Edit/Add a Mortality Improvement Definition"[1382] ⎕wi "onClick" ("fmSV.mBulk_AnnuityFile.mEditMI"⎕wi "onClick")[1383] ⎕wi "∆helpid" 4074[1384] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Add/Edit Mortality⍺Improvement")[1385] "fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "∆fieldlist" Fieldlist[1386] "fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "∆fieldcontrol" Fieldcontrol[1387] [1388] ⎕wself←"fmBulkAnn.lParmDesc" ⎕wi "New" "Label"[1389] ⎕wi "scale" 5[1390] ⎕wi "extent" (CharSize×¯2↑1,80)[1391] ⎕wi "style" 32[1392] ⎕wi "caption" " "[1393] ⎕wi "∆where" (2 2⍴0.96 0 0.02 0)[1394] ⎕wi "where" (("fmBulkAnn" ⎕wi "size") Win∆Resize (2 2⍴0.96 0 0.02 0))[1395] "fmBulkAnn.sBulk_Annuity" ⎕wi "value" 1[1396] "fmBulkAnn.sBulk_Annuity.pgPayment " ⎕wi "onValidate" "⎕wres←(0⍴'')≡'Bulk_Annuity' Win∆ValidPage 'fmBulkAnn.sBulk_Annuity.pgPayment'"[1397] "fmBulkAnn.sBulk_Annuity.pgMortality" ⎕wi "onValidate" "⎕wres←(0⍴'')≡'Bulk_Annuity' Win∆ValidPage 'fmBulkAnn.sBulk_Annuity.pgMortality'"[1398] "fmBulkAnn.sBulk_Annuity" ⎕wi "Show"[1399] [1400] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆multifile" ""[1401] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆singlefile" ""[1402] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆format" ""[1403] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆financial" 1[1404] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆relrules" 0[1405] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆parm" 0[1406] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆decr" 1[1407] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆file" 0[1408] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆codefile" CodeFile[1409] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆inputstype" "ClientFile"[1410] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆inputsentry" "Multi"[1411] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆savecn" (⍳0)[1412] "fmBulkAnn.sBulk_Annuity" ⎕wi "∆savedesc" ""[1413] list←list OVER "fmBulkAnn.sBulk_Annuity"[1414] list←list OVER "fmBulkAnn"[1415] childlist←"fmSV" ⎕wi "∆childlist"[1416] list←(⊃¯1↑childlist) OVER list[1417] childlist[⍴childlist]←⊂list[1418] "fmSV" ⎕wi "∆childlist" childlist[1419] list←,⎕split list[1420] 0 0⍴((∨/¨(⊂".mBulk_Annuity")⍷¨list)/list) MultiWI "enabled" 1[1421] :if 300<fnsize[1422]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[1423]     Win∆ProgressBar "Hide"[1424] :endif[1425] "Init" OpenParameters "Bulk_Annuity"[1426] "fmBulkAnn.bnBulk_AnnuityHelp" ⎕wi "visible" 1[1427] "fmBulkAnn.bnBulk_AnnuityQuit" ⎕wi "visible" 1[1428] "fmBulkAnn.bnBulk_AnnuitySave" ⎕wi "visible" 1[1429] "fmBulkAnn.bnBulk_AnnuitySaveAs" ⎕wi "visible" 1[1430] "fmBulkAnn.bnBulk_AnnuityRun" ⎕wi "visible" 1[1431] "#" ⎕wi "focus" "fmBulkAnn.sBulk_Annuity.pgPayment.fParms.edBAGE"[1432] :if ~0∊⍴,Error←Win∆Initialise "Bulk_Annuity"[1433]     "Quit" EndModule Module[1434]     "fmSV" ⎕wi "pointer" 0[1435]     0 0⍴"fmBulkAnn" ⎕wi "Delete"[1436]     :return[1437] :endif[1438] :if bar_open←commandbar^"Multi"≡"Multi"[1439]     bar_open←0×"fmBulkAnn.mBulk_AnnuityFile.m" Win∆CommandBar "RunAsHelp"[1440] :endif[1441] "fmBulkAnn" ⎕wi "Paint"[1442] "fmSV" ⎕wi "pointer" 11[1443] "fmBulkAnn" ⎕wi "onWait" "0 0⍴Bulk_Annuity 'Wait' ⋄ 'fmBulkAnn' ⎕wi 'modified' 0"[1444] 0 0⍴"fmBulkAnn" ⎕wi "Wait"[1445] 0 0⍴"fmBulkAnn" ⎕wi "Delete"[1446] "fmSV" ⎕wi "pointer" 0 ∇