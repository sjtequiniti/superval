∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Merging Rate Table Files")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Wizard"[14] [15] ⎕wself←"fmDecrMerge" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos .70 .98×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmDecrMerge"[26] relTests←0[27] 0 Menu_Make "fmSV"[28] 0 Menu_Make "fmDecrMerge"[29] "fmDecrMerge" Win∆CutCopyPaste "Build"[30] list←list OVER "fmDecrMerge.bnDecr_MergeHelp"[31] ⎕wself←"fmDecrMerge.bnDecr_MergeHelp" ⎕wi "New" "Button"[32] ⎕wi "deferexit" 1[33] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[34] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][35] ⎕wi "∆where" ((x,2)⍴where)[36] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize ⎕wi "∆where")[37] ⎕wi "tooltip" "SuperVal Help"[38] ⎕wi "onClick" ("fmSV.mDecr_MergeHelp.mContext"⎕wi "onClick")[39] ⎕wi "caption" "Help"[40] :if buttonimage[41]     ⎕wi "imagelist" "fmSV.iStandard"[42]     ⎕wi "imageindex" 12[43] :endif[44] ⎕wi "visible" ¯1[45] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[46] list←list OVER "fmDecrMerge.bnDecr_MergeQuit"[47] ⎕wself←"fmDecrMerge.bnDecr_MergeQuit" ⎕wi "New" "Button"[48] ⎕wi "style" 2[49] ⎕wi "deferexit" 1[50] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[51] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][52] ⎕wi "∆where" ((x,2)⍴where)[53] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize ⎕wi "∆where")[54] ⎕wi "tooltip" "Cancel and Return"[55] ⎕wi "onClick" ("fmSV.mDecr_MergeFile.mQuit"⎕wi "onClick")[56] ⎕wi "caption" "Cancel"[57] ⎕wi "∆helpid" 4098[58] ⎕wi "order" .5[59] ⎕wi "visible" ¯1[60] list←list OVER "fmDecrMerge.bnDecr_MergeNext"[61] ⎕wself←"fmDecrMerge.bnDecr_MergeNext" ⎕wi "New" "Button"[62] ⎕wi "style" 1[63] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[64] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][65] ⎕wi "∆where" ((x,2)⍴where)[66] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize ⎕wi "∆where")[67] ⎕wi "tooltip" "Move on to Next Form"[68] ⎕wi "onClick" ("fmSV.mDecr_MergeFile.mNext"⎕wi "onClick")[69] ⎕wi "caption" "Next"[70] :if buttonimage[71]     ⎕wi "imagelist" "fmSV.iStandard"[72]     ⎕wi "imageindex" 29[73] :endif[74] ⎕wi "∆helpid" 4099[75] list←list OVER "fmDecrMerge.bnDecr_MergeBack"[76] ⎕wself←"fmDecrMerge.bnDecr_MergeBack" ⎕wi "New" "Button"[77] ⎕wi "enabled" (0)[78] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[79] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][80] ⎕wi "∆where" ((x,2)⍴where)[81] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize ⎕wi "∆where")[82] ⎕wi "tooltip" "Move back to Previous Form"[83] ⎕wi "onClick" ("fmSV.mDecr_MergeFile.mBack"⎕wi "onClick")[84] ⎕wi "caption" "Back"[85] :if buttonimage[86]     ⎕wi "imagelist" "fmSV.iStandard"[87]     ⎕wi "imageindex" 28[88] :endif[89] ⎕wi "∆helpid" 4100[90] framelist←0 0⍴""[91] [92] :if 300<fnsize[93]     ((1↑⎕lc) fnsize "FrameV - Merging Rate Table Files") Win∆ProgressBar "MemberUpdate"[94] :endif[95] [96] ⎕wself←"fmDecrMerge.fFiles" ⎕wi "New" "Frame"[97] ⎕wi "scale" 5[98] ⎕wi "∆where" (4 2⍴0 0 0 0 1 ¯45 1 0)[99] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 1 ¯45 1 0))[100] ⎕wi "caption" "Merging Rate Table Files"[101] ⎕wi "style" 0[102] ⎕wi "onResize" "AutoResize"[103] framelist←framelist OVER "fmDecrMerge.fFiles"[104] [105] ⎕wself←"fmDecrMerge.fFiles.edprimaryFile" ⎕wi "New" "Edit"[106] Fieldlist←Fieldlist OVER "fmDecrMerge.fFiles.edprimaryFile"[107] Fieldcontrol←Fieldcontrol OVER "Edit"[108] ⎕wi "∆name" "primaryFile"[109] ⎕wi "∆type" "Char"[110] ⎕wi "∆mandatory" 1[111] ⎕wi "enabled" (0)[112] ⎕wi "∆helpid" 4101[113] ⎕wi "tooltip" "The Primary Rate Tables File"[114] ⎕wi "∆where" (2 2⍴0.25 0 0.4 0)[115] ⎕wi "where" (("fmDecrMerge.fFiles" ⎕wi "size") Win∆Resize (2 2⍴0.25 0 0.4 0))[116] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmDecrMerge.fFiles.edprimaryFile')/'0 0⍴(⊂⎕wi ''name'') Decr_Merge ''Change'' ' "[117] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[118] ⎕wi "extent" (2+CharSize×1 41)[119] [120] ⎕wself←"fmDecrMerge.fFiles.llprimaryFile" ⎕wi "New" "Label"[121] ⎕wi "scale" 5[122] ⎕wi "style" 2[123] ⎕wi "enabled" (0)[124] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Primary Rate Tables File"))[125] ⎕wi "caption" "Primary Rate Tables File"[126] where←4↑,"fmDecrMerge.fFiles.edprimaryFile" ⎕wi "∆where"[127] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[128] ⎕wi "∆where" ((x,2)⍴where)[129] ⎕wi "where" (("fmDecrMerge.fFiles" ⎕wi "size") Win∆Resize ⎕wi "∆where")[130] [131] ⎕wself←"fmDecrMerge.fFiles.cbimportFile" ⎕wi "New" "Combo"[132] Fieldlist←Fieldlist OVER "fmDecrMerge.fFiles.cbimportFile"[133] Fieldcontrol←Fieldcontrol OVER "Combo"[134] ⎕wi "∆name" "importFile"[135] ⎕wi "∆type" "Char"[136] ⎕wi "∆mandatory" 1[137] ⎕wi "∆helpid" 4102[138] ⎕wi "tooltip" "Select the Rate Tables File to be Merged into the Primary Rate Table File"[139] ⎕wi "style" 16 128 256 2[140] ⎕wi "∆where" (2 2⍴0.65 0 0.4 0)[141] ⎕wi "where" (("fmDecrMerge.fFiles" ⎕wi "size") Win∆Resize (2 2⍴0.65 0 0.4 0))[142] PickList←GetNewDecrFiles -1[143] ⎕wi "∆update" "GetNewDecrFiles -1"[144] PickList←⊃m2n 1 0↓PickList[145] ⎕wi "list" PickList[146] ⎕wi "extent" (150,(¯10+6×¯1↑CharSize)+¯1↑Win∆TextSize ((0,⎕wi "limit")⌈⍴PickList)↑PickList)[147] ⎕wi "onClick" "0 0⍴(⊂⎕wi 'name') Decr_Merge 'Change' "[148] [149] ⎕wself←"fmDecrMerge.fFiles.llimportFile" ⎕wi "New" "Label"[150] ⎕wi "scale" 5[151] ⎕wi "style" 2[152] ⎕wi "extent" (↑⎕wi "Draw" ("?text" (("⍺",⎕tcnl) char_replace "Rate Tables File⍺Merged into Primary File")))[153] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Rate Tables File⍺Merged into Primary File")[154] where←4↑,"fmDecrMerge.fFiles.cbimportFile" ⎕wi "∆where"[155] size←1↑"fmDecrMerge.fFiles.cbimportFile" ⎕wi "extent"[156] size←¯3⌈0.5×(1↑⎕wi "extent")-size[157] x←0.5×⍴where←Win∆Calcwhere where-0,size,0,10+¯1↑⎕wi "extent"[158] ⎕wi "∆where" ((x,2)⍴where)[159] ⎕wi "where" (("fmDecrMerge.fFiles" ⎕wi "size") Win∆Resize ⎕wi "∆where")[160] [161] :if 300<fnsize[162]     ((1↑⎕lc) fnsize "FrameV - Matching/Unique Rate Tables") Win∆ProgressBar "MemberUpdate"[163] :endif[164] [165] ⎕wself←"fmDecrMerge.fOK" ⎕wi "New" "Frame"[166] ⎕wi "scale" 5[167] ⎕wi "∆where" (4 2⍴0 0 0 0 1 ¯45 1 0)[168] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 1 ¯45 1 0))[169] ⎕wi "caption" "Matching/Unique Rate Tables"[170] ⎕wi "style" 0[171] ⎕wi "onResize" "AutoResize"[172] framelist←framelist OVER "fmDecrMerge.fOK"[173] [174] ⎕wself←"fmDecrMerge.fOK.lvUnique" ⎕wi "New" "Listview"[175] Fieldlist←Fieldlist OVER "fmDecrMerge.fOK.lvUnique"[176] Fieldcontrol←Fieldcontrol OVER "Listview"[177] ⎕wi "∆name" "Unique"[178] ⎕wi "∆type" "Listview"[179] ⎕wi "∆helpid" 4103[180] ⎕wi "tooltip" "The list of Rate Tables that are either Matching or Singletons"[181] list←list OVER "fmDecrMerge.fOK.lvUnique"[182] ⎕wi "scale" 5[183] ⎕wi "viewmode" "report"[184] ⎕wi "style" 1 4 8[185] ⎕wi "∆where" (4 2⍴0.05 0 0.01 0 0.9 0 0.98 0)[186] ⎕wi "where" (("fmDecrMerge.fOK" ⎕wi "size") Win∆Resize (4 2⍴0.05 0 0.01 0 0.9 0 0.98 0))[187] ⎕wi "∆update" "'' GetDecrMerge 'Unique'"[188] (PickList NameList sortorder SortList)←4↑'' GetDecrMerge 'Unique'[189] ⎕wi "list" PickList[190] NameList[;1]←NameList[;1],¨⊂4↑" "[191] ⎕wi "columndisplay" NameList[192] ⎕wi "AutoFit" "header" "all"[193] ⎕wi "∆sortorder" sortorder[194] ⎕wi "∆sortlist" SortList[195] ⎕wi "onColClick" "('fmDecrMerge.fOK.lvUnique' 'Decr_Merge') Win∆SortListview ⎕warg"[196] :if 0=⎕nc "listviewDict"[197] listviewDict←MATRIX keysIn ListviewDict[198] :endif[199] :if ~mt sortorder←DLTB ↑((ListviewDict for "Control" "fmDecrMerge.fOK.lvUnique") for "Parameters" "") at "Sort"[200] ("fmDecrMerge.fOK.lvUnique" "Decr_Merge") Win∆SortListview sortorder[201] :else[202] ("fmDecrMerge.fOK.lvUnique" "Decr_Merge") Win∆SortListview "Last Modified"[203] :endif[204] ⎕wi "onResize" "Win∆SizeListview ⎕wi 'self'"[205] ⎕wi "onSelect" "0 0⍴(⊂⎕wi 'name') Decr_Merge 'Change' "[206] ⎕wi "onExit" "⎕wres←0 List∆CHECK 'fmDecrMerge.fOK.lvUnique'"[207] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[208] [209] :if 300<fnsize[210]     ((1↑⎕lc) fnsize "FrameV - Conflicting Rate Tables") Win∆ProgressBar "MemberUpdate"[211] :endif[212] [213] ⎕wself←"fmDecrMerge.fNotOK" ⎕wi "New" "Frame"[214] ⎕wi "scale" 5[215] ⎕wi "∆where" (4 2⍴0 0 0 0 1 ¯45 1 0)[216] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 1 ¯45 1 0))[217] ⎕wi "caption" "Conflicting Rate Tables"[218] ⎕wi "style" 0[219] ⎕wi "onResize" "AutoResize"[220] framelist←framelist OVER "fmDecrMerge.fNotOK"[221] [222] ⎕wself←"fmDecrMerge.fNotOK.lvFile1" ⎕wi "New" "Listview"[223] Fieldlist←Fieldlist OVER "fmDecrMerge.fNotOK.lvFile1"[224] Fieldcontrol←Fieldcontrol OVER "Listview"[225] ⎕wi "∆name" "File1"[226] ⎕wi "∆type" "Listview"[227] ⎕wi "enabled" (0)[228] ⎕wi "∆helpid" 4104[229] ⎕wi "tooltip" "The list of Rate Tables that are Conflicting. Double click to compare the Table values."[230] list←list OVER "fmDecrMerge.fNotOK.lvFile1"[231] ⎕wi "scale" 5[232] ⎕wi "viewmode" "report"[233] ⎕wi "style" 1 4 8[234] ⎕wi "∆where" (4 2⍴0.03 0 0.01 0 0.44 0 0.88 0)[235] ⎕wi "where" (("fmDecrMerge.fNotOK" ⎕wi "size") Win∆Resize (4 2⍴0.03 0 0.01 0 0.44 0 0.88 0))[236] ⎕wi "∆update" "'Primary ' GetDecrMerge 'File1'"[237] (PickList NameList sortorder SortList)←4↑'Primary ' GetDecrMerge 'File1'[238] ⎕wi "list" PickList[239] NameList[;1]←NameList[;1],¨⊂4↑" "[240] ⎕wi "columndisplay" NameList[241] ⎕wi "AutoFit" "header" "all"[242] ⎕wi "∆sortorder" sortorder[243] ⎕wi "∆sortlist" SortList[244] ⎕wi "onColClick" "('fmDecrMerge.fNotOK.lvFile1' 'Decr_Merge') Win∆SortListview ⎕warg"[245] :if 0=⎕nc "listviewDict"[246] listviewDict←MATRIX keysIn ListviewDict[247] :endif[248] :if ~mt sortorder←DLTB ↑((ListviewDict for "Control" "fmDecrMerge.fNotOK.lvFile1") for "Parameters" "") at "Sort"[249] ("fmDecrMerge.fNotOK.lvFile1" "Decr_Merge") Win∆SortListview sortorder[250] :else[251] ("fmDecrMerge.fNotOK.lvFile1" "Decr_Merge") Win∆SortListview "Last Modified"[252] :endif[253] ⎕wi "onResize" "Win∆SizeListview ⎕wi 'self'"[254] ⎕wi "onDblClick" "ViewTables"[255] ⎕wi "onClick" "ViewTables"[256] ⎕wi "onSelect" "0 0⍴(⊂⎕wi 'name') Decr_Merge 'Change' "[257] ⎕wi "onExit" "⎕wres←0 List∆CHECK 'fmDecrMerge.fNotOK.lvFile1'"[258] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[259] [260] ⎕wself←"fmDecrMerge.fNotOK.lvFile2" ⎕wi "New" "Listview"[261] Fieldlist←Fieldlist OVER "fmDecrMerge.fNotOK.lvFile2"[262] Fieldcontrol←Fieldcontrol OVER "Listview"[263] ⎕wi "∆name" "File2"[264] ⎕wi "∆type" "ListviewM"[265] ⎕wi "∆helpid" 4105[266] ⎕wi "tooltip" "The list of Rate Tables that are Conflicting. Double click to compare the Table values."[267] list←list OVER "fmDecrMerge.fNotOK.lvFile2"[268] ⎕wi "scale" 5[269] ⎕wi "viewmode" "report"[270] ⎕wi "style" 1 4 0[271] ⎕wi "∆where" (4 2⍴0.51 0 0.01 0 0.44 0 0.88 0)[272] ⎕wi "where" (("fmDecrMerge.fNotOK" ⎕wi "size") Win∆Resize (4 2⍴0.51 0 0.01 0 0.44 0 0.88 0))[273] ⎕wi "∆update" "'Merging ' GetDecrMerge 'File2'"[274] (PickList NameList sortorder SortList)←4↑'Merging ' GetDecrMerge 'File2'[275] ⎕wi "list" PickList[276] NameList[;1]←NameList[;1],¨⊂4↑" "[277] ⎕wi "columndisplay" NameList[278] ⎕wi "AutoFit" "header" "all"[279] ⎕wi "∆sortorder" sortorder[280] ⎕wi "∆sortlist" SortList[281] ⎕wi "onColClick" "('fmDecrMerge.fNotOK.lvFile2' 'Decr_Merge') Win∆SortListview ⎕warg"[282] :if 0=⎕nc "listviewDict"[283] listviewDict←MATRIX keysIn ListviewDict[284] :endif[285] :if ~mt sortorder←DLTB ↑((ListviewDict for "Control" "fmDecrMerge.fNotOK.lvFile2") for "Parameters" "") at "Sort"[286] ("fmDecrMerge.fNotOK.lvFile2" "Decr_Merge") Win∆SortListview sortorder[287] :else[288] ("fmDecrMerge.fNotOK.lvFile2" "Decr_Merge") Win∆SortListview "Last Modified"[289] :endif[290] ⎕wi "onResize" "Win∆SizeListview ⎕wi 'self'"[291] ⎕wi "onDblClick" "ViewTables"[292] ⎕wi "onClick" "ViewTables"[293] ⎕wi "onPaint" "0 Sel∆LabelUpdate 'fmDecrMerge.fNotOK.lvFile2' "[294] ⎕wi "onSelect" "0 Sel∆LabelUpdate 'fmDecrMerge.fNotOK.lvFile2' ⋄ 0 0⍴(⊂⎕wi 'name') Decr_Merge 'Change' "[295] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 List∆CHECK 'fmDecrMerge.fNotOK.lvFile2')/'0 0⍴(⊂⎕wi ''name'') Decr_Merge ''Change'' ' "[296] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[297] ⎕wi "∆rightlabel" "fmDecrMerge.fNotOK.lrFile2"[298] [299] ⎕wself←"fmDecrMerge.fNotOK.lrFile2" ⎕wi "New" "Label"[300] ⎕wi "scale" 5[301] ⎕wi "extent" (CharSize×¯2↑1,19)[302] ⎕wi "style" 32[303] ⎕wi "caption" " "[304] where←4↑,"fmDecrMerge.fNotOK.lvFile2" ⎕wi "∆where"[305] x←0.5×⍴where←Win∆Calcwhere where+((5+1↑2↓"fmDecrMerge.fNotOK.lvFile2" ⎕wi "where") CDIV 1↑"fmDecrMerge.fNotOK" ⎕wi "size"),0 0 0[306] ⎕wi "∆where" ((x,2)⍴where)[307] ⎕wi "where" (("fmDecrMerge.fNotOK" ⎕wi "size") Win∆Resize ⎕wi "∆where")[308] list←list OVER "fmDecrMerge.fNotOK.bnDecr_MergeView"[309] ⎕wself←"fmDecrMerge.fNotOK.bnDecr_MergeView" ⎕wi "New" "Button"[310] ⎕wi "enabled" (0)[311] ⎕wi "deferexit" 1[312] ⎕wi "extent" (size←1.36 1×buttonsize×1⌈CharSize÷13 6)[313] ⎕wi "∆where" (2 2⍴0.45 0 0.92 0)[314] ⎕wi "where" (("fmDecrMerge.fNotOK" ⎕wi "size") Win∆Resize (2 2⍴0.45 0 0.92 0))[315] ⎕wi "tooltip" "View a Comparison of Conflicting Rate Tables"[316] ⎕wi "onClick" ("fmSV.mDecr_MergeFile.mView"⎕wi "onClick")[317] ⎕wi "∆helpid" 4106[318] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "View⍺Tables")[319] list←list OVER "fmDecrMerge.fNotOK.bnDecr_MergeAddNew"[320] ⎕wself←"fmDecrMerge.fNotOK.bnDecr_MergeAddNew" ⎕wi "New" "Button"[321] ⎕wi "enabled" (0)[322] ⎕wi "deferexit" 1[323] ⎕wi "extent" (size←1.36 1×buttonsize×1⌈CharSize÷13 6)[324] ⎕wi "∆where" (2 2⍴0.6 0 0.92 0)[325] ⎕wi "where" (("fmDecrMerge.fNotOK" ⎕wi "size") Win∆Resize (2 2⍴0.6 0 0.92 0))[326] ⎕wi "tooltip" "Add Selected Rate Table(s) overwriting these Rate Table(s) from Primary File"[327] ⎕wi "onClick" ("fmSV.mDecr_MergeFile.mAddSel"⎕wi "onClick")[328] ⎕wi "∆helpid" 4107[329] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Replace⍺Selected")[330] list←list OVER "fmDecrMerge.fNotOK.bnDecr_MergeAddBoth"[331] ⎕wself←"fmDecrMerge.fNotOK.bnDecr_MergeAddBoth" ⎕wi "New" "Button"[332] ⎕wi "enabled" (0)[333] ⎕wi "deferexit" 1[334] ⎕wi "extent" (size←1.36 1×buttonsize×1⌈CharSize÷13 6)[335] ⎕wi "∆where" (2 2⍴0.7 0 0.92 0)[336] ⎕wi "where" (("fmDecrMerge.fNotOK" ⎕wi "size") Win∆Resize (2 2⍴0.7 0 0.92 0))[337] ⎕wi "tooltip" "Add Selected Rate Table(s) (with new Rate Table codes) while retaining these Rate Table(s) from Primary File"[338] ⎕wi "onClick" ("fmSV.mDecr_MergeFile.mAddBoth"⎕wi "onClick")[339] ⎕wi "∆helpid" 4108[340] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Add⍺Selected")[341] list←list OVER "fmDecrMerge.fNotOK.bnDecr_MergeAddOld"[342] ⎕wself←"fmDecrMerge.fNotOK.bnDecr_MergeAddOld" ⎕wi "New" "Button"[343] ⎕wi "enabled" (0)[344] ⎕wi "deferexit" 1[345] ⎕wi "extent" (size←1.36 1×buttonsize×1⌈CharSize÷13 6)[346] ⎕wi "∆where" (2 2⍴0.8 0 0.92 0)[347] ⎕wi "where" (("fmDecrMerge.fNotOK" ⎕wi "size") Win∆Resize (2 2⍴0.8 0 0.92 0))[348] ⎕wi "tooltip" "Ignore Selected Rate Table(s) from the Merge File and retain Selected Rate Table(s) in the Primary File"[349] ⎕wi "onClick" ("fmSV.mDecr_MergeFile.mIgnSel"⎕wi "onClick")[350] ⎕wi "∆helpid" 4109[351] ⎕wi "caption" (("⍺",⎕tcnl) char_replace "Ignore⍺Selected")[352] [353] :if 300<fnsize[354]     ((1↑⎕lc) fnsize "FrameV - Rate Table Merge - Summary Report") Win∆ProgressBar "MemberUpdate"[355] :endif[356] [357] ⎕wself←"fmDecrMerge.fSummary" ⎕wi "New" "Frame"[358] ⎕wi "scale" 5[359] ⎕wi "∆where" (4 2⍴0 0 0 0 1 ¯45 1 0)[360] ⎕wi "where" (("fmDecrMerge" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 1 ¯45 1 0))[361] ⎕wi "caption" "Rate Table Merge - Summary Report"[362] ⎕wi "style" 0[363] ⎕wi "onResize" "AutoResize"[364] framelist←framelist OVER "fmDecrMerge.fSummary"[365] [366] ⎕wself←"fmDecrMerge.fSummary.webSummary" ⎕wi "New" "Microsoft Web Browser"[367] Fieldlist←Fieldlist OVER "fmDecrMerge.fSummary.webSummary"[368] Fieldcontrol←Fieldcontrol OVER "Microsoft Web Browser"[369] ⎕wi "∆name" "Summary"[370] ⎕wi "∆type" "Web"[371] ⎕wi "∆helpid" 4110[372] ⎕wi "∆where" (4 2⍴0.05 0 0.01 0 0.9 0 0.98 0)[373] ⎕wi "where" (("fmDecrMerge.fSummary" ⎕wi "size") Win∆Resize (4 2⍴0.05 0 0.01 0 0.9 0 0.98 0))[374] [375] "fmDecrMerge" ⎕wi "∆multifile" ""[376] "fmDecrMerge" ⎕wi "∆singlefile" ""[377] "fmDecrMerge" ⎕wi "∆format" ""[378] "fmDecrMerge" ⎕wi "∆financial" 0[379] "fmDecrMerge" ⎕wi "∆relrules" 0[380] "fmDecrMerge" ⎕wi "∆parm" 0[381] "fmDecrMerge" ⎕wi "∆decr" 0[382] "fmDecrMerge" ⎕wi "∆file" 0[383] "fmDecrMerge" ⎕wi "∆codefile" CodeFile[384] "fmDecrMerge" ⎕wi "∆inputstype" ""[385] "fmDecrMerge" ⎕wi "∆inputsentry" ""[386] "fmDecrMerge" ⎕wi "∆savecn" (⍳0)[387] "fmDecrMerge" ⎕wi "∆savedesc" ""[388] list←list OVER "fmDecrMerge"[389] "fmDecrMerge" ⎕wi "∆fieldlist" Fieldlist[390] "fmDecrMerge" ⎕wi "∆fieldcontrol" Fieldcontrol[391] childlist←"fmSV" ⎕wi "∆childlist"[392] list←(⊃¯1↑childlist) OVER list[393] childlist[⍴childlist]←⊂list[394] "fmSV" ⎕wi "∆childlist" childlist[395] list←,⎕split list[396] 0 0⍴((∨/¨(⊂".mDecr_Merge")⍷¨list)/list) MultiWI "enabled" 1[397] :if 300<fnsize[398]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[399]     Win∆ProgressBar "Hide"[400] :endif[401] "Init" OpenParameters "Decr_Merge"[402] "fmDecrMerge.bnDecr_MergeHelp" ⎕wi "visible" 1[403] "fmDecrMerge.bnDecr_MergeQuit" ⎕wi "visible" 1[404] "#" ⎕wi "focus" "fmDecrMerge.fFiles.edprimaryFile"[405] "fmDecrMerge" ⎕wi "∆framelist" framelist[406] (⎕split 1 0↓framelist) MultiWI "visible" ¯1[407] :if ~0∊⍴,Error←Win∆Initialise "Decr_Merge"[408]     "Quit" EndModule Module[409]     "fmSV" ⎕wi "pointer" 0[410]     0 0⍴"fmDecrMerge" ⎕wi "Delete"[411]     :return[412] :endif[413] :if bar_open←commandbar^"Multi"≡""[414]     bar_open←0×"fmDecrMerge.mDecr_MergeFile.m" Win∆CommandBar "CancelHelp"[415] :endif[416] "fmDecrMerge" ⎕wi "Paint"[417] "fmSV" ⎕wi "pointer" 11[418] "fmDecrMerge" ⎕wi "onWait" "0 0⍴Decr_Merge 'Wait' ⋄ 'fmDecrMerge' ⎕wi 'modified' 0"[419] 0 0⍴"fmDecrMerge" ⎕wi "Wait"[420] 0 0⍴"fmDecrMerge" ⎕wi "Delete"[421] "fmSV" ⎕wi "pointer" 0 ∇