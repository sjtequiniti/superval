∇ Container←Form_Make;⎕wself;ControlName;childlist;list;Fieldlist;Fieldcontrol;FrameWidth;Caption;buttonsize;buttonwhere;where;size;alignment;Header;PickList;NameList;value;sortorder;SortList;MaxRow;MaxCol;Parent;level;node;no;nn;NN;x;fnsize;framelist;relTests[1] [2] Fieldlist←Fieldcontrol←list←0 0⍴""[3] "fmSV" ⎕wi "pointer" 13[4] buttonsize←25 65 ⋄ buttonwhere←¯5[5] FormName ⎕wi "caption" ((FormName ⎕wi "caption")," - Rate Tables Browser/Editor")[6] "fmSV" ⎕wi "∆caption" (("fmSV" ⎕wi "∆caption"),⊂("fmSV" ⎕wi "caption"))[7] :if 300<fnsize←1↑⍴⎕cr "Form_Make"[8]     "Generating Form" Win∆ProgressBar "Open"[9]     ("Menu Items:" "Form Controls:") Win∆ProgressBar "SetLabels"[10]     (1 1 "Help About") Win∆ProgressBar "FileUpdate"[11] :endif[12] [13] Container←"∆Dialog"[14] [15] ⎕wself←"fmRateTables" ⎕wi "New" "Form" "Hide"[16] ⎕wi "caption" ("fmSV" ⎕wi "caption")[17] ⎕wi "scale" 5[18] ⎕wi "font" ("fmSV" ⎕wi "font")[19] ⎕wi "border" 2 32 64[20] ⎕wi "where" (Win∆CentrePos 1.5 1.5×768 1024×1⌈CharSize÷13 6)[21] ⎕wi "limitwhere" (0.8×¯2↑⎕wi "where")[22] ⎕wi "tooltipwidth" 200[23] ⎕wi "onResize" "AutoResize"[24] ⎕wi "onClose" "ExitSystem ''"[25] ControlName←"fmRateTables"[26] relTests←0[27] 0 Menu_Make "fmSV"[28] 0 Menu_Make "fmRateTables"[29] "fmRateTables" Win∆CutCopyPaste "Build"[30] "fmRateTables" ⎕wi "∆helpid" 2102[31] list←list OVER "fmRateTables.bnRate_TablesHelp"[32] ⎕wself←"fmRateTables.bnRate_TablesHelp" ⎕wi "New" "Button"[33] ⎕wi "deferexit" 1[34] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[35] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][36] ⎕wi "∆where" ((x,2)⍴where)[37] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[38] ⎕wi "tooltip" "SuperVal Help"[39] ⎕wi "onClick" ("fmSV.mRate_TablesHelp.mContext"⎕wi "onClick")[40] ⎕wi "caption" "Help"[41] :if buttonimage[42]     ⎕wi "imagelist" "fmSV.iStandard"[43]     ⎕wi "imageindex" 12[44] :endif[45] ⎕wi "visible" ¯1[46] ⎕wi "onMouseDown" "∆HelpField←'#' ⎕wi 'focus' "[47] list←list OVER "fmRateTables.bnRate_TablesQuit"[48] ⎕wself←"fmRateTables.bnRate_TablesQuit" ⎕wi "New" "Button"[49] ⎕wi "style" 2[50] ⎕wi "deferexit" 1[51] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[52] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][53] ⎕wi "∆where" ((x,2)⍴where)[54] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[55] ⎕wi "tooltip" "Quit and Return"[56] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mQuit"⎕wi "onClick")[57] ⎕wi "caption" "Quit"[58] ⎕wi "∆helpid" 3995[59] ⎕wi "order" .5[60] ⎕wi "visible" ¯1[61] ControlName ⎕wi "∆quitbutton" "fmRateTables.bnRate_TablesQuit"[62] "fmRateTables" ⎕wi "∆modified" 1[63] [64] ⎕wself←"fmRateTables.trTABLE" ⎕wi "New" "Tree"[65] Fieldlist←Fieldlist OVER "fmRateTables.trTABLE"[66] Fieldcontrol←Fieldcontrol OVER "Tree"[67] ⎕wi "∆name" "TABLE"[68] ⎕wi "∆type" "Tree"[69] ⎕wi "∆helpid" 3996[70] ⎕wi "tooltip" "Highlight the required Rate Table"[71] ⎕wi "style" 0 8[72] ⎕wi "∆where" (4 2⍴0 0 0 0 0.53 0 0.5 0)[73] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize (4 2⍴0 0 0 0 0.53 0 0.5 0))[74] PickList←0 DecrIndex Tables[75] Win∆PopulateTree PickList (DECRFile)[76] ⎕wi "onChange" "0 0⍴(⊂⎕wi 'name') Rate_Tables 'Change'"[77] ⎕wgive 0[78] [79] ⎕wself←"fmRateTables.picPretty" ⎕wi "New" "Picture"[80] Fieldlist←Fieldlist OVER "fmRateTables.picPretty"[81] Fieldcontrol←Fieldcontrol OVER "Picture"[82] ⎕wi "∆name" "Pretty"[83] ⎕wi "∆type" "Picture"[84] ⎕wi "tooltip" "Double-click to enlarge graph"[85] ⎕wi "scale" 5[86] ⎕wi "style" 4[87] ⎕wi "∆where" (4 2⍴0 0 0.5 0 0.53 0 0.5 0)[88] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize (4 2⍴0 0 0.5 0 0.53 0 0.5 0))[89] ⎕wi "imagesize" (⎕wi "size")[90] ⎕wi "onResize" "⎕wi 'imagesize' (⎕wi 'size')"[91] ⎕wi "onMouseDouble" "'fmRateTables.trTABLE' EnlargePict PageView"[92] [93] ⎕wself←"fmRateTables.edTableNo" ⎕wi "New" "Edit"[94] Fieldlist←Fieldlist OVER "fmRateTables.edTableNo"[95] Fieldcontrol←Fieldcontrol OVER "Edit"[96] ⎕wi "∆name" "TableNo"[97] ⎕wi "∆type" "Char"[98] ⎕wi "enabled" (0)[99] ⎕wi "∆helpid" 3997[100] ⎕wi "tooltip" "The Table Code used to identify the Rate Table"[101] ⎕wi "limit" 5[102] ⎕wi "∆where" (2 2⍴0.54 0 0.1 0)[103] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize (2 2⍴0.54 0 0.1 0))[104] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmRateTables.edTableNo')/'0 0⍴(⊂⎕wi ''name'') Rate_Tables ''Change'' ' "[105] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[106] ⎕wi "extent" (2+CharSize×1 6)[107] [108] ⎕wself←"fmRateTables.llTableNo" ⎕wi "New" "Label"[109] ⎕wi "scale" 5[110] ⎕wi "style" 2[111] ⎕wi "enabled" (0)[112] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Table Code"))[113] ⎕wi "caption" "Table Code"[114] where←4↑,"fmRateTables.edTableNo" ⎕wi "∆where"[115] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[116] ⎕wi "∆where" ((x,2)⍴where)[117] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[118] [119] ⎕wself←"fmRateTables.edTableDesc" ⎕wi "New" "Edit"[120] Fieldlist←Fieldlist OVER "fmRateTables.edTableDesc"[121] Fieldcontrol←Fieldcontrol OVER "Edit"[122] ⎕wi "∆name" "TableDesc"[123] ⎕wi "∆type" "Char"[124] ⎕wi "enabled" (0)[125] ⎕wi "∆helpid" 3998[126] ⎕wi "tooltip" "A Description of the Rate Table"[127] ⎕wi "∆where" (2 2⍴0.54 0 0.3 0)[128] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize (2 2⍴0.54 0 0.3 0))[129] ⎕wi "onExit" "⍎(0∊⍴,⎕wres←0 INPUT∆CHECK 'fmRateTables.edTableDesc')/'0 0⍴(⊂⎕wi ''name'') Rate_Tables ''Change'' ' "[130] ⎕wi "onExitError" "Win∆ExitError ⎕warg"[131] ⎕wi "extent" (2+CharSize×1 81)[132] [133] ⎕wself←"fmRateTables.llTableDesc" ⎕wi "New" "Label"[134] ⎕wi "scale" 5[135] ⎕wi "style" 2[136] ⎕wi "enabled" (0)[137] ⎕wi "extent" (↑⎕wi "Draw" ("?text" "Table Description"))[138] ⎕wi "caption" "Table Description"[139] where←4↑,"fmRateTables.edTableDesc" ⎕wi "∆where"[140] x←0.5×⍴where←Win∆Calcwhere where-0 ¯3 0,10+¯1↑⎕wi "extent"[141] ⎕wi "∆where" ((x,2)⍴where)[142] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[143] [144] ⎕wself←"fmRateTables.fAgeRates" ⎕wi "New" "Frame"[145] ⎕wi "scale" 5[146] ⎕wi "∆where" (4 2⍴0.58 0 0 0 0.37 0 1 0)[147] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize (4 2⍴0.58 0 0 0 0.37 0 1 0))[148] ⎕wi "caption" "Age Related Rates"[149] ⎕wi "style" 0[150] ⎕wi "onResize" "AutoResize"[151] ⎕wself←"fmRateTables.fAgeRates.ssAgeRates" ⎕wi "New" "{13E51003-A52B-11D0-86DA-00608CB9FBFB}6D5ECD55-86B8-11d0-95AD-0020AF1E9EB2"[152] ⎕wi "∆where" (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20)[153] ⎕wi "where" (("fmRateTables.fAgeRates" ⎕wi "size") Win∆Resize (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20))[154] Fieldlist←Fieldlist OVER "fmRateTables.fAgeRates.ssAgeRates"[155] Fieldcontrol←Fieldcontrol OVER "F1SS"[156] Win∆F1SSDefaults 0[157] ⎕wi "MaxRow" (MaxRow←1)[158] ⎕wi "MaxCol" (MaxCol←1)[159] ⎕wi "xDoStartEdit" 1[160] ⎕wi "xDoEndEdit" 1[161] ⎕wi "xDoCancelEdit" 1[162] ⎕wi "onClick" "Win∆F1SSClick 'fmRateTables.fAgeRates.ssAgeRates'"[163] ⎕wi "onXStartEdit" "⎕wi 'AllowArrows' 0"[164] NameList←0 0⍴" "[165] ⎕wi "MaxCol" (MaxCol←MaxCol⌈1)[166] ⎕wi "ColText" 1 (("/⍺/",⎕tcnl,⎕tclf) TEXTREPL "Age")[167] ⎕wi "XSetRowHeight" 1 1 255 1[168] NameList←NameList OVER "Ages[;]"[169] ⎕wi "MaxCol" (MaxCol←MaxCol⌈2)[170] ⎕wi "ColText" 2 (("/⍺/",⎕tcnl,⎕tclf) TEXTREPL "Rate")[171] ⎕wi "XSetRowHeight" 1 1 255 1[172] NameList←NameList OVER "RATES[;]"[173] ⎕wi "xHdrHeight" (350⌈250×1)[174] ⎕wi "onXRClick" "0 Win∆F1SSRowMenu ('Rate_Tables' 'fmRateTables.fAgeRates.ssAgeRates')"[175] ⎕wi "∆roworcol" "Col"[176] ⎕wi "∆name" NameList[177] ⎕wi "∆limit" (,3 11)[178] ⎕wi "∆mandatory" 0 0[179] ⎕wi "∆helpid" 3999 3999[180] ⎕wi "∆type" "⍺Num⍺Num"[181] ⎕wi "∆valid" "⍺''⍺''"[182] ⎕wi "∆range" "⍺⍺"[183] ⎕wi "onXEndEdit" "(⎕wi 'xRow') Win∆ValidF1SSCell ⎕wi 'xCol' ⋄ 0 0⍴⎕ex 'F1SSEvent' "[184] ⎕wi "onExit" "Win∆ValidF1SSExit 'Rate_Tables'"[185] ⎕wi "onExitError" "MDISPLAY ⎕warg ⋄ ⎕wi 'XStartEdit' 0 1 1"[186] ⎕wi "onXCancelEdit" "⎕wi 'AllowArrows' 1 ⋄ ⎕wi 'SetColWidthAuto' 1 1 (⎕wi 'MaxRow') (⎕wi 'MaxCol') 0"[187] "fmRateTables.fAgeRates.ssAgeRates" Win∆F1SSProtectCells "Unlock"[188] ⎕wi "SetSelection" 1 1 1 1[189] [190] ⎕wself←"fmRateTables.fDurnRates" ⎕wi "New" "Frame"[191] ⎕wi "scale" 5[192] ⎕wi "∆where" (4 2⍴0.58 0 0 0 0.37 0 1 0)[193] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize (4 2⍴0.58 0 0 0 0.37 0 1 0))[194] ⎕wi "caption" "Duration Related Rates"[195] ⎕wi "style" 0[196] ⎕wi "onResize" "AutoResize"[197] ⎕wself←"fmRateTables.fDurnRates.ssDurnRates" ⎕wi "New" "{13E51003-A52B-11D0-86DA-00608CB9FBFB}6D5ECD55-86B8-11d0-95AD-0020AF1E9EB2"[198] ⎕wi "∆where" (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20)[199] ⎕wi "where" (("fmRateTables.fDurnRates" ⎕wi "size") Win∆Resize (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20))[200] Fieldlist←Fieldlist OVER "fmRateTables.fDurnRates.ssDurnRates"[201] Fieldcontrol←Fieldcontrol OVER "F1SS"[202] Win∆F1SSDefaults 0[203] ⎕wi "MaxRow" (MaxRow←1)[204] ⎕wi "MaxCol" (MaxCol←1)[205] ⎕wi "xDoStartEdit" 1[206] ⎕wi "xDoEndEdit" 1[207] ⎕wi "xDoCancelEdit" 1[208] ⎕wi "onClick" "Win∆F1SSClick 'fmRateTables.fDurnRates.ssDurnRates'"[209] ⎕wi "onXStartEdit" "⎕wi 'AllowArrows' 0"[210] NameList←0 0⍴" "[211] ⎕wi "MaxCol" (MaxCol←MaxCol⌈1)[212] ⎕wi "ColText" 1 (("/⍺/",⎕tcnl,⎕tclf) TEXTREPL "Duration")[213] ⎕wi "XSetRowHeight" 1 1 255 1[214] NameList←NameList OVER "Durns[;]"[215] ⎕wi "MaxCol" (MaxCol←MaxCol⌈2)[216] ⎕wi "ColText" 2 (("/⍺/",⎕tcnl,⎕tclf) TEXTREPL "Rate")[217] ⎕wi "XSetRowHeight" 1 1 255 1[218] NameList←NameList OVER "RATES[;]"[219] ⎕wi "xHdrHeight" (350⌈250×1)[220] ⎕wi "onXRClick" "0 Win∆F1SSRowMenu ('Rate_Tables' 'fmRateTables.fDurnRates.ssDurnRates')"[221] ⎕wi "∆roworcol" "Col"[222] ⎕wi "∆name" NameList[223] ⎕wi "∆limit" (,2 11)[224] ⎕wi "∆mandatory" 0 0[225] ⎕wi "∆helpid" 3999 3999[226] ⎕wi "∆type" "⍺Num⍺Num"[227] ⎕wi "∆valid" "⍺''⍺''"[228] ⎕wi "∆range" "⍺⍺"[229] ⎕wi "onXEndEdit" "(⎕wi 'xRow') Win∆ValidF1SSCell ⎕wi 'xCol' ⋄ 0 0⍴⎕ex 'F1SSEvent' "[230] ⎕wi "onExit" "Win∆ValidF1SSExit 'Rate_Tables'"[231] ⎕wi "onExitError" "MDISPLAY ⎕warg ⋄ ⎕wi 'XStartEdit' 0 1 1"[232] ⎕wi "onXCancelEdit" "⎕wi 'AllowArrows' 1 ⋄ ⎕wi 'SetColWidthAuto' 1 1 (⎕wi 'MaxRow') (⎕wi 'MaxCol') 0"[233] "fmRateTables.fDurnRates.ssDurnRates" Win∆F1SSProtectCells "Unlock"[234] ⎕wi "SetSelection" 1 1 1 1[235] [236] ⎕wself←"fmRateTables.fTwoDRates" ⎕wi "New" "Frame"[237] ⎕wi "scale" 5[238] ⎕wi "∆where" (4 2⍴0.58 0 0 0 0.37 0 1 0)[239] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize (4 2⍴0.58 0 0 0 0.37 0 1 0))[240] ⎕wi "caption" "2 Dimensional Rates"[241] ⎕wi "style" 0[242] ⎕wi "onResize" "AutoResize"[243] ⎕wself←"fmRateTables.fTwoDRates.ssTwoDRates" ⎕wi "New" "{13E51003-A52B-11D0-86DA-00608CB9FBFB}6D5ECD55-86B8-11d0-95AD-0020AF1E9EB2"[244] ⎕wi "∆where" (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20)[245] ⎕wi "where" (("fmRateTables.fTwoDRates" ⎕wi "size") Win∆Resize (4 2⍴0 15 0 10 0.999 ¯25 1 ¯20))[246] Fieldlist←Fieldlist OVER "fmRateTables.fTwoDRates.ssTwoDRates"[247] Fieldcontrol←Fieldcontrol OVER "F1SS"[248] Win∆F1SSDefaults 0[249] ⎕wi "MaxRow" (MaxRow←1)[250] ⎕wi "MaxCol" (MaxCol←1)[251] ⎕wi "xDoStartEdit" 1[252] ⎕wi "xDoEndEdit" 1[253] ⎕wi "xDoCancelEdit" 1[254] ⎕wi "onClick" "Win∆F1SSClick 'fmRateTables.fTwoDRates.ssTwoDRates'"[255] ⎕wi "onXStartEdit" "⎕wi 'AllowArrows' 0"[256] NameList←0 0⍴" "[257] ⎕wi "MaxCol" (MaxCol←MaxCol⌈1)[258] ⎕wi "ColText" 1 (("/⍺/",⎕tcnl,⎕tclf) TEXTREPL "Rate")[259] ⎕wi "XSetRowHeight" 1 1 255 1[260] NameList←NameList OVER "RATES[;]"[261] ⎕wi "xHdrHeight" (350⌈250×1)[262] ⎕wi "onXRClick" "0 Win∆F1SSRowMenu ('Rate_Tables' 'fmRateTables.fTwoDRates.ssTwoDRates')"[263] ⎕wi "∆roworcol" "Col"[264] ⎕wi "∆name" NameList[265] ⎕wi "∆limit" (,11)[266] ⎕wi "∆mandatory" 0[267] ⎕wi "∆helpid" 3999[268] ⎕wi "∆type" "⍺Num"[269] ⎕wi "∆valid" "⍺''"[270] ⎕wi "∆range" "⍺"[271] ⎕wi "onXEndEdit" "(⎕wi 'xRow') Win∆ValidF1SSCell ⎕wi 'xCol' ⋄ 0 0⍴⎕ex 'F1SSEvent' "[272] ⎕wi "onExit" "Win∆ValidF1SSExit 'Rate_Tables'"[273] ⎕wi "onExitError" "MDISPLAY ⎕warg ⋄ ⎕wi 'XStartEdit' 0 1 1"[274] ⎕wi "onXCancelEdit" "⎕wi 'AllowArrows' 1 ⋄ ⎕wi 'SetColWidthAuto' 1 1 (⎕wi 'MaxRow') (⎕wi 'MaxCol') 0"[275] "fmRateTables.fTwoDRates.ssTwoDRates" Win∆F1SSProtectCells "Unlock"[276] ⎕wi "SetSelection" 1 1 1 1[277] list←list OVER "fmRateTables.bnRate_TablesView"[278] ⎕wself←"fmRateTables.bnRate_TablesView" ⎕wi "New" "Button"[279] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[280] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][281] ⎕wi "∆where" ((x,2)⍴where)[282] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[283] ⎕wi "tooltip" "Enlarged Display of Rates in Selected Rate Table"[284] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mView"⎕wi "onClick")[285] ⎕wi "∆helpid" 4000[286] ⎕wi "caption" "View"[287] list←list OVER "fmRateTables.bnRate_TablesExport"[288] ⎕wself←"fmRateTables.bnRate_TablesExport" ⎕wi "New" "Button"[289] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[290] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][291] ⎕wi "∆where" ((x,2)⍴where)[292] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[293] ⎕wi "tooltip" "Export Selected Rate Table to Excel or CSV File"[294] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mExport"⎕wi "onClick")[295] ⎕wi "∆helpid" 4001[296] ⎕wi "caption" "Export"[297] list←list OVER "fmRateTables.bnRate_TablesPrint"[298] ⎕wself←"fmRateTables.bnRate_TablesPrint" ⎕wi "New" "Button"[299] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[300] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][301] ⎕wi "∆where" ((x,2)⍴where)[302] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[303] ⎕wi "tooltip" "Print Selected Rate Tables"[304] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mPrint"⎕wi "onClick")[305] ⎕wi "∆helpid" 4002[306] ⎕wi "caption" "Print"[307] :if buttonimage[308]     ⎕wi "imagelist" "fmSV.iStandard"[309]     ⎕wi "imageindex" 15[310] :endif[311] list←list OVER "fmRateTables.bnRate_TablesDelete"[312] ⎕wself←"fmRateTables.bnRate_TablesDelete" ⎕wi "New" "Button"[313] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[314] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][315] ⎕wi "∆where" ((x,2)⍴where)[316] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[317] ⎕wi "tooltip" "Delete Selected Rate Table"[318] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mDelete"⎕wi "onClick")[319] ⎕wi "∆helpid" 4003[320] ⎕wi "caption" "Delete"[321] :if buttonimage[322]     ⎕wi "imagelist" "fmSV.iStandard"[323]     ⎕wi "imageindex" 6[324] :endif[325] list←list OVER "fmRateTables.bnRate_TablesAdd"[326] ⎕wself←"fmRateTables.bnRate_TablesAdd" ⎕wi "New" "Button"[327] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[328] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][329] ⎕wi "∆where" ((x,2)⍴where)[330] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[331] ⎕wi "tooltip" "Add New Rate Table"[332] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mAdd"⎕wi "onClick")[333] ⎕wi "∆helpid" 4004[334] ⎕wi "caption" "Add"[335] list←list OVER "fmRateTables.bnRate_TablesEdit"[336] ⎕wself←"fmRateTables.bnRate_TablesEdit" ⎕wi "New" "Button"[337] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[338] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][339] ⎕wi "∆where" ((x,2)⍴where)[340] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[341] ⎕wi "tooltip" "Edit Selected Rate Table"[342] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mEdit"⎕wi "onClick")[343] ⎕wi "∆helpid" 4005[344] ⎕wi "caption" "Edit"[345] list←list OVER "fmRateTables.bnRate_TablesSelect"[346] ⎕wself←"fmRateTables.bnRate_TablesSelect" ⎕wi "New" "Button"[347] ⎕wi "visible" (¯1+2×SelectInd)[348] ⎕wi "style" 1[349] ⎕wi "extent" (size←1×buttonsize×1⌈CharSize÷13 6)[350] x←0.5×⍴where←Win∆Calcwhere 1,(¯10-size[1]),1,buttonwhere←buttonwhere-5+size[2][351] ⎕wi "∆where" ((x,2)⍴where)[352] ⎕wi "where" (("fmRateTables" ⎕wi "size") Win∆Resize ⎕wi "∆where")[353] ⎕wi "tooltip" "Select Rate Table"[354] ⎕wi "onClick" ("fmSV.mRate_TablesFile.mSelect"⎕wi "onClick")[355] ⎕wi "∆helpid" 4006[356] ⎕wi "caption" "Select"[357] [358] "fmRateTables" ⎕wi "∆multifile" ""[359] "fmRateTables" ⎕wi "∆singlefile" ""[360] "fmRateTables" ⎕wi "∆format" ""[361] "fmRateTables" ⎕wi "∆financial" 0[362] "fmRateTables" ⎕wi "∆relrules" 0[363] "fmRateTables" ⎕wi "∆parm" 0[364] "fmRateTables" ⎕wi "∆decr" 0[365] "fmRateTables" ⎕wi "∆file" 0[366] "fmRateTables" ⎕wi "∆codefile" CodeFile[367] "fmRateTables" ⎕wi "∆inputstype" ""[368] "fmRateTables" ⎕wi "∆inputsentry" ""[369] "fmRateTables" ⎕wi "∆savecn" (⍳0)[370] "fmRateTables" ⎕wi "∆savedesc" ""[371] list←list OVER "fmRateTables"[372] "fmRateTables" ⎕wi "∆fieldlist" Fieldlist[373] "fmRateTables" ⎕wi "∆fieldcontrol" Fieldcontrol[374] childlist←"fmSV" ⎕wi "∆childlist"[375] list←(⊃¯1↑childlist) OVER list[376] childlist[⍴childlist]←⊂list[377] "fmSV" ⎕wi "∆childlist" childlist[378] list←,⎕split list[379] 0 0⍴((∨/¨(⊂".mRate_Tables")⍷¨list)/list) MultiWI "enabled" 1[380] :if 300<fnsize[381]     (fnsize fnsize ".") Win∆ProgressBar "MemberUpdate"[382]     Win∆ProgressBar "Hide"[383] :endif[384] "Init" OpenParameters "Rate_Tables"[385] "fmRateTables.bnRate_TablesHelp" ⎕wi "visible" 1[386] "fmRateTables.bnRate_TablesQuit" ⎕wi "visible" 1[387] "#" ⎕wi "focus" "fmRateTables.trTABLE"[388] :if ~0∊⍴,Error←Win∆Initialise "Rate_Tables"[389]     "Quit" EndModule Module[390]     "fmSV" ⎕wi "pointer" 0[391]     0 0⍴"fmRateTables" ⎕wi "Delete"[392]     :return[393] :endif[394] :if bar_open←commandbar^"Multi"≡""[395]     bar_open←0×"fmRateTables.mRate_TablesFile.m" Win∆CommandBar "QuitHelp"[396] :endif[397] "fmRateTables" ⎕wi "Paint"[398] "fmSV" ⎕wi "pointer" 11[399] "fmRateTables" ⎕wi "onWait" "0 0⍴Rate_Tables 'Wait' ⋄ 'fmRateTables' ⎕wi 'modified' 0"[400] 0 0⍴"fmRateTables" ⎕wi "Wait"[401] 0 0⍴"fmRateTables" ⎕wi "Delete"[402] "fmSV" ⎕wi "pointer" 0 ∇